{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\simko\\\\Downloads\\\\ZpRopim4\\\\ZpetnaVazbaFinal\\\\client\\\\src\\\\App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$(),\n  _s5 = $RefreshSig$(),\n  _s7 = $RefreshSig$(),\n  _s8 = $RefreshSig$(),\n  _s9 = $RefreshSig$(),\n  _s0 = $RefreshSig$(),\n  _s1 = $RefreshSig$(),\n  _s10 = $RefreshSig$(),\n  _s11 = $RefreshSig$(),\n  _s12 = $RefreshSig$(),\n  _s13 = $RefreshSig$(),\n  _s14 = $RefreshSig$(),\n  _s15 = $RefreshSig$(),\n  _s16 = $RefreshSig$(),\n  _s17 = $RefreshSig$(),\n  _s18 = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate, useNavigate, useParams, useLocation } from 'react-router-dom';\nimport { AuthProvider, useAuth } from './contexts/AuthContext';\nimport GlobalStyles from './styles/GlobalStyles';\n\n// Email Confirmation Component\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst EmailConfirmation = () => {\n  _s();\n  const {\n    pendingConfirmation,\n    confirmEmail,\n    resendConfirmation,\n    cancelConfirmation,\n    isLoading\n  } = useAuth();\n  const navigate = useNavigate();\n  const [confirmationCode, setConfirmationCode] = React.useState('');\n  const [message, setMessage] = React.useState('');\n  React.useEffect(() => {\n    if (!pendingConfirmation) {\n      navigate('/login');\n    }\n  }, [pendingConfirmation, navigate]);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setMessage('');\n    try {\n      const result = await confirmEmail(confirmationCode);\n      if (result.success) {\n        navigate('/dashboard');\n      } else {\n        setMessage('Chyba: ' + result.error);\n      }\n    } catch (error) {\n      setMessage('Chyba: ' + error.message);\n    }\n  };\n  const handleResend = async () => {\n    setMessage('');\n    try {\n      const result = await resendConfirmation();\n      if (result.success) {\n        setMessage('Potvrzovací email byl znovu odeslán.');\n      } else {\n        setMessage('Chyba: ' + result.error);\n      }\n    } catch (error) {\n      setMessage('Chyba: ' + error.message);\n    }\n  };\n  const handleCancel = () => {\n    cancelConfirmation();\n    navigate('/login');\n  };\n  if (!pendingConfirmation) {\n    return null;\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '20px',\n      maxWidth: '400px',\n      margin: '100px auto'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Potvr\\u010Fte sv\\u016Fj email\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Na v\\xE1\\u0161 email \", /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: pendingConfirmation.email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 22\n      }, this), \" jsme v\\xE1m poslali potvrzovac\\xED k\\xF3d. Zadejte ho n\\xED\\u017Ee pro dokon\\u010Den\\xED p\\u0159ihl\\xE1\\u0161en\\xED.\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundColor: '#fff3cd',\n        border: '1px solid #ffeaa7',\n        borderRadius: '4px',\n        padding: '12px',\n        marginBottom: '15px',\n        fontSize: '14px',\n        color: '#856404'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"\\uD83D\\uDCA1 Tip:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), \" Pokud email nevid\\xEDte, zkontrolujte pros\\xEDm slo\\u017Eku \", /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"spam/nevy\\u017E\\xE1dan\\xE1 po\\u0161ta\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 83\n      }, this), \". Automatick\\xE9 emaily se n\\u011Bkdy dost\\xE1vaj\\xED do t\\xE9to slo\\u017Eky.\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), message && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '10px',\n        marginBottom: '10px',\n        backgroundColor: message.startsWith('Chyba') ? '#f8d7da' : '#d4edda',\n        color: message.startsWith('Chyba') ? '#721c24' : '#155724',\n        border: '1px solid ' + (message.startsWith('Chyba') ? '#f5c6cb' : '#c3e6cb'),\n        borderRadius: '4px'\n      },\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '15px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Potvrzovac\\xED k\\xF3d:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: confirmationCode,\n          onChange: e => setConfirmationCode(e.target.value.toUpperCase()),\n          required: true,\n          style: {\n            width: '100%',\n            padding: '8px',\n            textAlign: 'center',\n            fontSize: '18px',\n            letterSpacing: '2px'\n          },\n          placeholder: \"nap\\u0159. A1B2C3\",\n          maxLength: 6\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: isLoading || confirmationCode.length !== 6,\n        style: {\n          padding: '10px 20px',\n          backgroundColor: '#28a745',\n          color: 'white',\n          border: 'none',\n          width: '100%',\n          marginBottom: '10px',\n          opacity: isLoading || confirmationCode.length !== 6 ? 0.6 : 1\n        },\n        children: isLoading ? 'Ověřuji...' : 'Potvrdit'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: 'center',\n        marginTop: '15px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleResend,\n        style: {\n          background: 'none',\n          border: 'none',\n          color: '#007bff',\n          cursor: 'pointer',\n          textDecoration: 'underline',\n          marginRight: '15px'\n        },\n        children: \"Odeslat znovu\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleCancel,\n        style: {\n          background: 'none',\n          border: 'none',\n          color: '#6c757d',\n          cursor: 'pointer',\n          textDecoration: 'underline'\n        },\n        children: \"Zp\\u011Bt na p\\u0159ihl\\xE1\\u0161en\\xED\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: '20px',\n        fontSize: '14px',\n        color: '#6c757d'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Tip: Potvrzovac\\xED k\\xF3d je platn\\xFD 15 minut a obsahuje 6 znak\\u016F (p\\xEDsmena a \\u010D\\xEDsla).\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n};\n\n// Simple Login Component\n_s(EmailConfirmation, \"p8mQKPQO3GIxq5exReS8YVCqTvs=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c = EmailConfirmation;\nconst Login = () => {\n  _s2();\n  const {\n    login,\n    isAuthenticated,\n    pendingConfirmation\n  } = useAuth();\n  const navigate = useNavigate();\n\n  // Redirect if already logged in or pending confirmation\n  React.useEffect(() => {\n    if (isAuthenticated) {\n      navigate('/dashboard');\n    } else if (pendingConfirmation) {\n      navigate('/confirm-email');\n    }\n  }, [isAuthenticated, pendingConfirmation, navigate]);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const formData = new FormData(e.target);\n    try {\n      const result = await login({\n        username: formData.get('username'),\n        password: formData.get('password')\n      });\n      if (result.success) {\n        if (result.requiresConfirmation) {\n          navigate('/confirm-email');\n        } else {\n          navigate('/dashboard');\n        }\n      } else {\n        alert('Přihlášení se nezdařilo: ' + result.error);\n      }\n    } catch (error) {\n      alert('Přihlášení se nezdařilo: ' + error.message);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '20px',\n      maxWidth: '400px',\n      margin: '100px auto'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Zp\\u011Btn\\xE1 vazba - P\\u0159ihl\\xE1\\u0161en\\xED\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '10px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"U\\u017Eivatelsk\\xE9 jm\\xE9no:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"username\",\n          required: true,\n          style: {\n            width: '100%',\n            padding: '8px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '10px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Heslo:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          name: \"password\",\n          required: true,\n          style: {\n            width: '100%',\n            padding: '8px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        style: {\n          padding: '10px 20px',\n          backgroundColor: '#007bff',\n          color: 'white',\n          border: 'none'\n        },\n        children: \"P\\u0159ihl\\xE1sit se\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 200,\n    columnNumber: 5\n  }, this);\n};\n\n// Navigation Menu Component\n_s2(Login, \"dnskaTslvtqNqjOigtI+0d0Ppxs=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c2 = Login;\nconst Navigation = () => {\n  _s3();\n  const {\n    user,\n    logout\n  } = useAuth();\n  const navigate = useNavigate();\n  const menuItems = [{\n    path: '/dashboard',\n    label: 'Dashboard',\n    visibleTo: 'all'\n  }, {\n    path: '/survey-creator',\n    label: 'Survey Creator',\n    visibleTo: 'all'\n  }, {\n    path: '/surveys',\n    label: 'Survey List',\n    visibleTo: 'all'\n  }, {\n    path: '/global-surveys',\n    label: 'Global Surveys',\n    visibleTo: 'admin'\n  }, {\n    path: '/tokens',\n    label: 'Survey Tokenisation',\n    visibleTo: 'all'\n  }, {\n    path: '/users',\n    label: 'Users',\n    visibleTo: 'admin'\n  }, {\n    path: '/logs',\n    label: 'Logs',\n    visibleTo: 'admin'\n  }, {\n    path: '/settings',\n    label: 'Settings',\n    visibleTo: 'all'\n  }];\n  const filteredItems = menuItems.filter(item => item.visibleTo === 'all' || item.visibleTo === 'admin' && (user === null || user === void 0 ? void 0 : user.role) === 'admin');\n  return /*#__PURE__*/_jsxDEV(\"nav\", {\n    style: {\n      backgroundColor: '#f8f9fa',\n      padding: '10px 20px',\n      borderBottom: '1px solid #dee2e6',\n      display: 'flex',\n      justifyContent: 'space-between',\n      alignItems: 'center'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        gap: '20px',\n        alignItems: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          margin: 0,\n          color: '#262626',\n          fontFamily: 'Roboto, sans-serif',\n          fontWeight: 400,\n          fontSize: '24px',\n          lineHeight: '150%',\n          letterSpacing: '3.12%'\n        },\n        children: \"Zp\\u011Btn\\xE1 vazba\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          gap: '15px'\n        },\n        children: filteredItems.map(item => /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate(item.path),\n          style: {\n            background: 'none',\n            border: 'none',\n            color: '#007bff',\n            cursor: 'pointer',\n            padding: '5px 10px',\n            textDecoration: 'underline'\n          },\n          children: item.label\n        }, item.path, false, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        alignItems: 'center',\n        gap: '10px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\"P\\u0159ihl\\xE1\\u0161en jako: \", user === null || user === void 0 ? void 0 : user.username, \" (\", user === null || user === void 0 ? void 0 : user.role, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: logout,\n        style: {\n          padding: '5px 10px',\n          backgroundColor: '#dc3545',\n          color: 'white',\n          border: 'none',\n          borderRadius: '3px'\n        },\n        children: \"Odhl\\xE1sit se\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 240,\n    columnNumber: 5\n  }, this);\n};\n\n// Simple Dashboard Component\n_s3(Navigation, \"owExUWFylk0vVlQUKU4QcBpCg7Y=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c3 = Navigation;\nconst Dashboard = () => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '20px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      style: {\n        color: '#CCFF00'\n      },\n      children: \"V\\xEDtejte v syst\\xE9mu zp\\u011Btn\\xE9 vazby!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Z\\xE1kladn\\xED funkcionalita aplikace:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: [/*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Survey Creator\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 13\n        }, this), \" - Vytv\\xE1\\u0159ejte nov\\xE9 dotazn\\xEDky\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Survey List\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 13\n        }, this), \" - Spravujte existuj\\xEDc\\xED dotazn\\xEDky\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Survey Tokenisation\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 13\n        }, this), \" - Vytv\\xE1\\u0159ejte embedovateln\\xE9 widgety\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Users\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 13\n        }, this), \" - Spr\\xE1va u\\u017Eivatel\\u016F (pouze admin)\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Logs\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 13\n        }, this), \" - Audit trail (pouze admin)\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Settings\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 13\n        }, this), \" - Osobn\\xED nastaven\\xED\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 293,\n    columnNumber: 5\n  }, this);\n};\n\n// Placeholder components for menu items\n_c4 = Dashboard;\nconst SurveyCreator = ({\n  editingSurveyId = null,\n  globalMode = false\n}) => {\n  _s4();\n  const {\n    user\n  } = useAuth();\n  const navigate = useNavigate();\n  const [currentStep, setCurrentStep] = React.useState(globalMode ? 2 : 1);\n  const [isEditMode, setIsEditMode] = React.useState(!!editingSurveyId);\n  const [originalSurveyId, setOriginalSurveyId] = React.useState(editingSurveyId);\n  const [loadingSurvey, setLoadingSurvey] = React.useState(!!editingSurveyId);\n\n  // Initialize survey structure based on mode\n  const getInitialSurvey = () => {\n    if (globalMode) {\n      return {\n        title: 'Globální sekce',\n        description: 'Úprava globálních sekcí sdílených napříč všemi průzkumy',\n        cards: [{\n          id: 2,\n          title: 'Úvodní sekce',\n          description: 'Systémová úvodní část (pouze admin)',\n          isAdminOnly: true,\n          isEditable: true,\n          steps: []\n        }, {\n          id: 4,\n          title: 'Závěrečná sekce',\n          description: 'Systémová závěrečná část (pouze admin)',\n          isAdminOnly: true,\n          isEditable: true,\n          steps: []\n        }]\n      };\n    } else {\n      return {\n        title: '',\n        description: '',\n        cards: [{\n          id: 0,\n          title: 'Floating Widget',\n          description: 'Floating feedback widget',\n          isAdminOnly: false,\n          isEditable: false,\n          isSystem: true,\n          steps: [{\n            id: 'floating-widget',\n            type: 'floating-widget',\n            question: 'Floating feedback widget',\n            isSystem: true,\n            uneditable: true\n          }]\n        }, {\n          id: 1,\n          title: 'Feedback Modal',\n          description: 'Feedback options',\n          isAdminOnly: false,\n          isEditable: false,\n          isSystem: true,\n          steps: [{\n            id: 'feedback-modal',\n            type: 'feedback-modal',\n            question: 'Feedback options',\n            isSystem: true,\n            uneditable: true\n          }]\n        }, {\n          id: 2,\n          title: 'Úvodní sekce',\n          description: 'Systémová úvodní část (pouze admin)',\n          isAdminOnly: true,\n          isEditable: false,\n          steps: []\n        }, {\n          id: 3,\n          title: 'Hlavní obsah',\n          description: 'Editovatelná část pro uživatele',\n          isAdminOnly: false,\n          isEditable: true,\n          steps: []\n        }, {\n          id: 4,\n          title: 'Závěrečná sekce',\n          description: 'Systémová závěrečná část (pouze admin)',\n          isAdminOnly: true,\n          isEditable: false,\n          steps: []\n        }]\n      };\n    }\n  };\n  const [survey, setSurvey] = React.useState(getInitialSurvey());\n\n  // Load existing survey for editing or global sections\n  React.useEffect(() => {\n    if (globalMode) {\n      loadGlobalSections();\n    } else if (editingSurveyId) {\n      loadSurveyForEditing(editingSurveyId);\n    } else {\n      loadGlobalSectionsForUserSurvey();\n    }\n  }, [editingSurveyId, globalMode]);\n  const loadGlobalSections = async () => {\n    try {\n      setLoadingSurvey(true);\n      const response = await fetch('/api/global-surveys/sections', {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        setSurvey(prev => ({\n          ...prev,\n          cards: prev.cards.map(card => {\n            if (card.id === 2) {\n              // Úvodní sekce\n              return {\n                ...card,\n                steps: data.introSection || []\n              };\n            } else if (card.id === 4) {\n              // Závěrečná sekce\n              return {\n                ...card,\n                steps: data.outroSection || []\n              };\n            }\n            return card;\n          })\n        }));\n      }\n    } catch (error) {\n      console.error('Error loading global sections:', error);\n    } finally {\n      setLoadingSurvey(false);\n    }\n  };\n  const loadGlobalSectionsForUserSurvey = async () => {\n    try {\n      const response = await fetch('/api/global-surveys/sections', {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n\n        // Update the intro and outro sections with global content\n        setSurvey(prev => ({\n          ...prev,\n          cards: prev.cards.map(card => {\n            if (card.id === 2) {\n              // Úvodní sekce\n              return {\n                ...card,\n                steps: data.introSection || []\n              };\n            } else if (card.id === 4) {\n              // Závěrečná sekce\n              return {\n                ...card,\n                steps: data.outroSection || []\n              };\n            }\n            return card;\n          })\n        }));\n      }\n    } catch (error) {\n      console.error('Error loading global sections:', error);\n    }\n  };\n  const loadSurveyForEditing = async surveyId => {\n    try {\n      setLoadingSurvey(true);\n      const response = await fetch(`/api/surveys/${surveyId}`, {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      if (response.ok) {\n        const surveyData = await response.json();\n        setSurvey({\n          title: surveyData.title,\n          description: surveyData.description,\n          cards: surveyData.config.cards || survey.cards // Use existing cards as fallback\n        });\n        setIsEditMode(true);\n        setOriginalSurveyId(surveyId);\n      } else {\n        throw new Error('Chyba při načítání dotazníku');\n      }\n    } catch (error) {\n      console.error('Error loading survey:', error);\n      alert('Chyba při načítání dotazníku: ' + error.message);\n      navigate('/surveys');\n    } finally {\n      setLoadingSurvey(false);\n    }\n  };\n  const [activeCardIndex, setActiveCardIndex] = React.useState(globalMode ? 0 : 2); // Default to first global card in global mode\n\n  const [editingStep, setEditingStep] = React.useState(null);\n  const [showStepEditor, setShowStepEditor] = React.useState(false);\n  const [draggedStep, setDraggedStep] = React.useState(null);\n  const [dragOverIndex, setDragOverIndex] = React.useState(null);\n  const saveSurvey = async () => {\n    try {\n      if (globalMode) {\n        // Save global sections\n        const introCard = survey.cards.find(card => card.id === 2);\n        const outroCard = survey.cards.find(card => card.id === 4);\n        const response = await fetch('/api/global-surveys/sections', {\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${localStorage.getItem('token')}`\n          },\n          body: JSON.stringify({\n            introSection: (introCard === null || introCard === void 0 ? void 0 : introCard.steps) || [],\n            outroSection: (outroCard === null || outroCard === void 0 ? void 0 : outroCard.steps) || []\n          })\n        });\n        if (response.ok) {\n          alert('Globální sekce byly úspěšně uloženy!');\n        } else {\n          throw new Error('Chyba při ukládání globálních sekcí');\n        }\n      } else {\n        // Regular survey save\n        const url = isEditMode ? `/api/surveys/${originalSurveyId}` : '/api/surveys';\n        const method = isEditMode ? 'PUT' : 'POST';\n        const response = await fetch(url, {\n          method: method,\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${localStorage.getItem('token')}`\n          },\n          body: JSON.stringify({\n            title: survey.title,\n            description: survey.description,\n            config: {\n              cards: survey.cards,\n              steps: survey.cards.flatMap(card => card.steps || [])\n            }\n          })\n        });\n        if (response.ok) {\n          if (isEditMode) {\n            alert('Průzkum byl úspěšně aktualizován!');\n            navigate('/surveys');\n          } else {\n            alert('Průzkum byl úspěšně uložen!');\n            // Reset form for new survey\n            setSurvey(getInitialSurvey());\n            setCurrentStep(1);\n          }\n        } else {\n          alert(isEditMode ? 'Chyba při aktualizaci průzkumu' : 'Chyba při ukládání průzkumu');\n        }\n      }\n    } catch (error) {\n      console.error('Error saving survey:', error);\n      alert(globalMode ? 'Chyba při ukládání globálních sekcí' : isEditMode ? 'Chyba při aktualizaci průzkumu' : 'Chyba při ukládání průzkumu');\n    }\n  };\n  const addStep = stepData => {\n    const newStep = {\n      id: Date.now(),\n      ...stepData\n    };\n    setSurvey(prev => ({\n      ...prev,\n      cards: prev.cards.map((card, index) => index === activeCardIndex ? {\n        ...card,\n        steps: [...card.steps, newStep]\n      } : card)\n    }));\n    setShowStepEditor(false);\n    setEditingStep(null);\n  };\n  const updateStep = stepData => {\n    setSurvey(prev => ({\n      ...prev,\n      cards: prev.cards.map((card, index) => index === activeCardIndex ? {\n        ...card,\n        steps: card.steps.map(step => step.id === editingStep.id ? {\n          ...editingStep,\n          ...stepData\n        } : step)\n      } : card)\n    }));\n    setShowStepEditor(false);\n    setEditingStep(null);\n  };\n  const deleteStep = (stepId, cardIndex) => {\n    if (window.confirm('Opravdu chcete smazat tento blok?')) {\n      setSurvey(prev => ({\n        ...prev,\n        cards: prev.cards.map((card, index) => index === cardIndex ? {\n          ...card,\n          steps: card.steps.filter(step => step.id !== stepId)\n        } : card)\n      }));\n    }\n  };\n  const moveStep = (stepId, direction) => {\n    const activeCard = survey.cards[activeCardIndex];\n    if (!activeCard) return;\n    const steps = [...activeCard.steps];\n    const currentIndex = steps.findIndex(step => step.id === stepId);\n    const newIndex = direction === 'up' ? currentIndex - 1 : currentIndex + 1;\n    if (newIndex >= 0 && newIndex < steps.length) {\n      [steps[currentIndex], steps[newIndex]] = [steps[newIndex], steps[currentIndex]];\n      setSurvey(prev => ({\n        ...prev,\n        cards: prev.cards.map((card, index) => index === activeCardIndex ? {\n          ...card,\n          steps\n        } : card)\n      }));\n    }\n  };\n\n  // Drag and Drop handlers\n  const handleDragStart = (e, index) => {\n    setDraggedStep(index);\n    e.dataTransfer.effectAllowed = 'move';\n    e.dataTransfer.setData('text/html', e.target.parentNode);\n    e.dataTransfer.setDragImage(e.target, 0, 0);\n  };\n  const handleDragOver = (e, index) => {\n    e.preventDefault();\n    e.dataTransfer.dropEffect = 'move';\n    setDragOverIndex(index);\n  };\n  const handleDragLeave = e => {\n    // Only clear drag over if we're actually leaving the component\n    if (!e.currentTarget.contains(e.relatedTarget)) {\n      setDragOverIndex(null);\n    }\n  };\n  const handleDrop = (e, dropIndex) => {\n    e.preventDefault();\n    if (draggedStep === null || draggedStep === dropIndex) {\n      setDraggedStep(null);\n      setDragOverIndex(null);\n      return;\n    }\n    const activeCard = survey.cards[activeCardIndex];\n    if (!activeCard) {\n      setDraggedStep(null);\n      setDragOverIndex(null);\n      return;\n    }\n    const newSteps = [...activeCard.steps];\n    const draggedItem = newSteps[draggedStep];\n\n    // Remove dragged item\n    newSteps.splice(draggedStep, 1);\n\n    // Insert at new position\n    const actualDropIndex = draggedStep < dropIndex ? dropIndex - 1 : dropIndex;\n    newSteps.splice(actualDropIndex, 0, draggedItem);\n    setSurvey(prev => ({\n      ...prev,\n      cards: prev.cards.map((card, index) => index === activeCardIndex ? {\n        ...card,\n        steps: newSteps\n      } : card)\n    }));\n    setDraggedStep(null);\n    setDragOverIndex(null);\n  };\n  const handleDragEnd = () => {\n    setDraggedStep(null);\n    setDragOverIndex(null);\n  };\n  if (loadingSurvey) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '20px',\n        maxWidth: '1200px',\n        margin: '0 auto',\n        textAlign: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Survey Creator\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 716,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '50px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: '18px',\n            marginBottom: '20px'\n          },\n          children: \"Na\\u010D\\xEDt\\xE1n\\xED dotazn\\xEDku...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 718,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: '14px',\n            color: '#6c757d'\n          },\n          children: \"Pros\\xEDm po\\u010Dkejte, ne\\u017E se na\\u010Dtou data dotazn\\xEDku\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 719,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 717,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 715,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '20px',\n      maxWidth: '1200px',\n      margin: '0 auto'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: globalMode ? 'Správa globálních sekcí' : isEditMode ? 'Editace dotazníku' : 'Survey Creator'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 727,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: '#6c757d',\n        marginBottom: '30px'\n      },\n      children: globalMode ? 'Upravte globální sekce \"Úvodní sekce\" a \"Závěrečná sekce\" sdílené napříč všemi průzkumy' : isEditMode ? 'Upravujte existující průzkum a změny budou uloženy jako nová verze' : 'Vytvořte vlastní průzkum pomocí různých stavebních bloků'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 728,\n      columnNumber: 7\n    }, this), isEditMode && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundColor: '#e3f2fd',\n        border: '1px solid #2196f3',\n        borderRadius: '8px',\n        padding: '16px',\n        marginBottom: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          marginBottom: '8px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            fontSize: '20px',\n            marginRight: '8px'\n          },\n          children: \"\\u270F\\uFE0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 744,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n          style: {\n            color: '#1976d2'\n          },\n          children: \"EDITA\\u010CN\\xCD RE\\u017DIM\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 745,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 743,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          margin: '0',\n          color: '#1976d2',\n          fontSize: '14px'\n        },\n        children: [\"Upravujete dotazn\\xEDk: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: [\"\\\"\", survey.title, \"\\\"\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 748,\n          columnNumber: 34\n        }, this), \". Po ulo\\u017Een\\xED bude vytvo\\u0159ena nov\\xE1 aktualizovan\\xE1 verze pr\\u016Fzkumu.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 747,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 736,\n      columnNumber: 9\n    }, this), currentStep === 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundColor: '#f8f9fa',\n        padding: '30px',\n        borderRadius: '8px',\n        marginBottom: '20px',\n        border: '1px solid #dee2e6'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Krok 1: Z\\xE1kladn\\xED informace\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 763,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '20px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            display: 'block',\n            marginBottom: '8px',\n            fontWeight: 'bold'\n          },\n          children: \"N\\xE1zev pr\\u016Fzkumu *\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 766,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: survey.title,\n          onChange: e => setSurvey(prev => ({\n            ...prev,\n            title: e.target.value\n          })),\n          style: {\n            width: '100%',\n            padding: '12px',\n            border: '1px solid #ced4da',\n            borderRadius: '4px',\n            fontSize: '16px'\n          },\n          placeholder: \"Zadejte n\\xE1zev va\\u0161eho pr\\u016Fzkumu\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 769,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 765,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '30px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            display: 'block',\n            marginBottom: '8px',\n            fontWeight: 'bold'\n          },\n          children: \"Popis pr\\u016Fzkumu\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 785,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: survey.description,\n          onChange: e => setSurvey(prev => ({\n            ...prev,\n            description: e.target.value\n          })),\n          style: {\n            width: '100%',\n            padding: '12px',\n            border: '1px solid #ced4da',\n            borderRadius: '4px',\n            fontSize: '16px',\n            minHeight: '100px',\n            resize: 'vertical'\n          },\n          placeholder: \"Popi\\u0161te \\xFA\\u010Del a obsah va\\u0161eho pr\\u016Fzkumu\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 788,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 784,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'space-between'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 805,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setCurrentStep(2),\n          disabled: !survey.title,\n          style: {\n            position: 'relative',\n            padding: '12px 24px',\n            backgroundColor: survey.title ? 'rgb(0, 123, 255)' : '#6c757d',\n            color: 'white',\n            border: 'none',\n            borderRadius: '4px',\n            fontSize: '16px',\n            cursor: survey.title ? 'pointer' : 'not-allowed'\n          },\n          children: \"Dal\\u0161\\xED krok \\u2192\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 806,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 804,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 756,\n      columnNumber: 9\n    }, this), currentStep === 2 && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          marginBottom: '10px'\n        },\n        children: \"Krok 2: Stavba pr\\u016Fzkumu\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 829,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n        style: {\n          color: '#6c757d',\n          display: 'block',\n          marginBottom: '20px'\n        },\n        children: \"\\uD83D\\uDCA1 Tip: P\\u0159et\\xE1hn\\u011Bte stavebn\\xED bloky z nab\\xEDdky vlevo do oblasti pr\\u016Fzkumu vpravo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 830,\n        columnNumber: 11\n      }, this), globalMode ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          backgroundColor: '#fff3cd',\n          border: '1px solid #ffeaa7',\n          borderRadius: '8px',\n          padding: '16px',\n          marginBottom: '20px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            marginBottom: '8px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              fontSize: '20px',\n              marginRight: '8px'\n            },\n            children: \"\\uD83C\\uDF10\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 844,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n            style: {\n              color: '#856404'\n            },\n            children: \"SPR\\xC1VA GLOB\\xC1LN\\xCDCH SEKC\\xCD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 845,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 843,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            margin: '0',\n            color: '#856404',\n            fontSize: '14px'\n          },\n          children: [\"Upravujete \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"glob\\xE1ln\\xED sekce\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 848,\n            columnNumber: 28\n          }, this), \" sd\\xEDlen\\xE9 nap\\u0159\\xED\\u010D v\\u0161emi pr\\u016Fzkumy. Zm\\u011Bny zde ovlivn\\xED \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"v\\u0161echny existuj\\xEDc\\xED dotazn\\xEDky\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 849,\n            columnNumber: 35\n          }, this), \" v syst\\xE9mu. Pouze jedna verze glob\\xE1ln\\xEDch sekc\\xED existuje a je automaticky zahrnuta do v\\u0161ech surveys.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 847,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 836,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          backgroundColor: '#e3f2fd',\n          border: '1px solid #2196f3',\n          borderRadius: '8px',\n          padding: '16px',\n          marginBottom: '20px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            marginBottom: '8px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              fontSize: '20px',\n              marginRight: '8px'\n            },\n            children: \"\\uD83C\\uDF10\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 862,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n            style: {\n              color: '#1976d2'\n            },\n            children: \"GLOB\\xC1LN\\xCD SEKCE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 863,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 861,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            margin: '0',\n            color: '#1976d2',\n            fontSize: '14px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"\\\"\\xDAvodn\\xED sekce\\\"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 866,\n            columnNumber: 17\n          }, this), \" a \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"\\\"Z\\xE1v\\u011Bre\\u010Dn\\xE1 sekce\\\"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 866,\n            columnNumber: 51\n          }, this), \" jsou \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"glob\\xE1ln\\xED nap\\u0159\\xED\\u010D v\\u0161emi pr\\u016Fzkumy\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 866,\n            columnNumber: 91\n          }, this), \".\", (user === null || user === void 0 ? void 0 : user.role) === 'admin' ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [\"Pro spr\\xE1vu t\\u011Bchto sekc\\xED doporu\\u010Dujeme pou\\u017E\\xEDt dedikovanou str\\xE1nku\", ' ', /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"/global-surveys\",\n              style: {\n                color: '#1976d2',\n                fontWeight: 'bold',\n                textDecoration: 'underline'\n              },\n              onClick: e => {\n                e.preventDefault();\n                navigate('/global-surveys');\n              },\n              children: \"Global Surveys\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 870,\n              columnNumber: 21\n            }, this), ' ', \"kde m\\xE1te lep\\u0161\\xED p\\u0159ehled a kontrolu nad glob\\xE1ln\\xEDmi sekcemi.\"]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: \"Tyto sekce spravuje administr\\xE1tor a jsou automaticky zahrnuty do v\\u0161ech dotazn\\xEDk\\u016F.\"\n          }, void 0, false)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 865,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 854,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          gap: '20px',\n          minHeight: '500px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: '300px',\n            backgroundColor: '#f8f9fa',\n            border: '1px solid #dee2e6',\n            borderRadius: '8px',\n            padding: '20px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            style: {\n              margin: '0 0 15px 0',\n              color: '#495057'\n            },\n            children: \"\\uD83D\\uDCE6 Stavebn\\xED bloky\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 900,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(BuildingBlocksPalette, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 903,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 893,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            flex: 1,\n            backgroundColor: 'white',\n            border: '2px solid #dee2e6',\n            borderRadius: '8px',\n            minHeight: '500px',\n            position: 'relative'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              padding: '20px',\n              borderBottom: '1px solid #dee2e6',\n              backgroundColor: '#f8f9fa'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              style: {\n                margin: 0,\n                color: '#495057'\n              },\n              children: \"\\uD83C\\uDFAF Oblast pr\\u016Fzkumu\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 920,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              style: {\n                color: '#6c757d'\n              },\n              children: \"P\\u0159et\\xE1hn\\u011Bte bloky sem a uspo\\u0159\\xE1dejte je v po\\u017Eadovan\\xE9m po\\u0159ad\\xED\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 923,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 915,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(SurveyCardManager, {\n            survey: survey,\n            activeCardIndex: activeCardIndex,\n            onActiveCardChange: setActiveCardIndex,\n            onSurveyChange: setSurvey,\n            onEditStep: step => {\n              setEditingStep(step);\n              setShowStepEditor(true);\n            },\n            onDeleteStep: deleteStep,\n            user: user,\n            globalMode: globalMode\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 928,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 907,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 891,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: globalMode ? 'center' : 'space-between',\n          marginTop: '30px',\n          padding: '20px 0',\n          borderTop: '1px solid #dee2e6'\n        },\n        children: [!globalMode && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setCurrentStep(1),\n          style: {\n            position: 'relative',\n            padding: '12px 24px',\n            backgroundColor: '#6c757d',\n            color: 'white',\n            border: 'none',\n            borderRadius: '4px',\n            fontSize: '16px',\n            cursor: 'pointer'\n          },\n          children: \"\\u2190 Zp\\u011Bt\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 953,\n          columnNumber: 15\n        }, this), globalMode ? /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: saveSurvey,\n          style: {\n            position: 'relative',\n            padding: '12px 24px',\n            backgroundColor: '#28a745',\n            color: 'white',\n            border: 'none',\n            borderRadius: '4px',\n            fontSize: '16px',\n            cursor: 'pointer'\n          },\n          children: \"\\uD83D\\uDCBE Ulo\\u017Eit glob\\xE1ln\\xED sekce\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 970,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setCurrentStep(3),\n          disabled: survey.cards.every(card => card.steps.length === 0),\n          style: {\n            position: 'relative',\n            padding: '12px 24px',\n            backgroundColor: survey.cards.some(card => card.steps.length > 0) ? 'rgb(0, 123, 255)' : '#6c757d',\n            color: 'white',\n            border: 'none',\n            borderRadius: '4px',\n            fontSize: '16px',\n            cursor: survey.cards.some(card => card.steps.length > 0) ? 'pointer' : 'not-allowed'\n          },\n          children: \"N\\xE1hled \\u2192\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 986,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 945,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 828,\n      columnNumber: 9\n    }, this), currentStep === 3 && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Krok 3: N\\xE1hled a ulo\\u017Een\\xED\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1010,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'center',\n          marginBottom: '30px'\n        },\n        children: /*#__PURE__*/_jsxDEV(SurveyPreview, {\n          survey: survey,\n          onClose: () => setCurrentStep(2)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1013,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1012,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'space-between',\n          marginTop: '30px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setCurrentStep(2),\n          style: {\n            position: 'relative',\n            padding: '12px 24px',\n            backgroundColor: '#6c757d',\n            color: 'white',\n            border: 'none',\n            borderRadius: '4px',\n            fontSize: '16px',\n            cursor: 'pointer'\n          },\n          children: \"\\u2190 Upravit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1020,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: saveSurvey,\n          style: {\n            position: 'relative',\n            padding: '12px 24px',\n            backgroundColor: '#28a745',\n            color: 'white',\n            border: 'none',\n            borderRadius: '4px',\n            fontSize: '16px',\n            cursor: 'pointer'\n          },\n          children: isEditMode ? 'Aktualizovat novou verzi' : 'Uložit průzkum'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1035,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1019,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1009,\n      columnNumber: 9\n    }, this), showStepEditor && /*#__PURE__*/_jsxDEV(SurveyStepEditor, {\n      step: editingStep,\n      onSave: editingStep ? updateStep : addStep,\n      onCancel: () => {\n        setShowStepEditor(false);\n        setEditingStep(null);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1056,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 726,\n    columnNumber: 5\n  }, this);\n};\n\n// Survey Builder Supporting Components\n_s4(SurveyCreator, \"kk6Q0B6JK8p7j5Iadj43CkfxxI8=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c5 = SurveyCreator;\nconst SurveyStepCard = ({\n  step,\n  index,\n  onEdit,\n  onDelete,\n  onDragStart,\n  isDragging,\n  isInCanvas = false,\n  canEdit = true\n}) => {\n  const getStepIcon = type => {\n    switch (type) {\n      case 'smiley':\n        return '😊';\n      case 'single-choice':\n        return '📝';\n      case 'dropdown-multiselect':\n        return '☑️';\n      case 'text':\n        return '📄';\n      case 'section-header':\n        return '📋';\n      case 'floating-widget':\n        return '🔧';\n      case 'feedback-modal':\n        return '💬';\n      default:\n        return '❓';\n    }\n  };\n  const getStepTypeName = type => {\n    switch (type) {\n      case 'smiley':\n        return '5-bodové hodnocení smajlíky';\n      case 'single-choice':\n        return 'Jednoduché výběr';\n      case 'dropdown-multiselect':\n        return 'Vícenásobný výběr (dropdown)';\n      case 'text':\n        return 'Textové pole';\n      case 'section-header':\n        return 'Nadpis sekce';\n      case 'floating-widget':\n        return 'Plovoucí widget';\n      case 'feedback-modal':\n        return 'Feedback modal';\n      default:\n        return 'Neznámý typ';\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    draggable: isInCanvas && canEdit,\n    onDragStart: isInCanvas && canEdit ? e => onDragStart(e, index) : undefined,\n    style: {\n      border: step.type === 'section-header' ? '2px solid #ffb74d' : '2px solid #dee2e6',\n      borderRadius: '8px',\n      padding: step.type === 'section-header' ? '15px 20px' : '20px',\n      marginBottom: '15px',\n      backgroundColor: isDragging ? '#f0f7ff' : step.type === 'section-header' ? '#fff8e1' : 'white',\n      boxShadow: isDragging ? '0 6px 12px rgba(0,0,0,0.15)' : '0 2px 4px rgba(0,0,0,0.1)',\n      opacity: isDragging ? 0.8 : canEdit ? 1 : 0.7,\n      cursor: isInCanvas && canEdit ? 'move' : 'default',\n      transition: 'all 0.2s ease',\n      transform: isDragging ? 'rotate(2deg) scale(1.02)' : 'rotate(0deg) scale(1)'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center'\n      },\n      children: [isInCanvas && canEdit && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          marginRight: '15px'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            cursor: isDragging ? 'grabbing' : 'grab',\n            fontSize: '20px',\n            color: isDragging ? '#007bff' : '#6c757d',\n            marginRight: '10px',\n            userSelect: 'none',\n            padding: '4px',\n            borderRadius: '4px',\n            backgroundColor: isDragging ? '#e3f2fd' : 'transparent',\n            transition: 'all 0.2s ease'\n          },\n          title: \"P\\u0159et\\xE1hnout pro zm\\u011Bnu po\\u0159ad\\xED\",\n          children: \"\\u22EE\\u22EE\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1125,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1124,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          flex: 1\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            marginBottom: '10px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              fontSize: '20px',\n              marginRight: '10px'\n            },\n            children: getStepIcon(step.type)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1145,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: step.type === 'section-header' ? /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                style: {\n                  margin: '0',\n                  color: '#f57c00',\n                  fontSize: '18px',\n                  fontWeight: 'bold'\n                },\n                children: [\"\\uD83D\\uDCCB \", step.question || 'Název sekce']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1151,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                style: {\n                  color: '#e65100',\n                  fontFamily: 'Roboto, sans-serif',\n                  fontWeight: 400,\n                  fontSize: '14px',\n                  lineHeight: '150%',\n                  letterSpacing: '1.25%'\n                },\n                children: getStepTypeName(step.type)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1159,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1150,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                style: {\n                  margin: '0',\n                  color: '#262626',\n                  fontFamily: 'Roboto, sans-serif',\n                  fontWeight: 400,\n                  fontSize: '18px',\n                  lineHeight: '150%',\n                  letterSpacing: '1.25%'\n                },\n                children: [\"Blok \", index + 1, \": \", step.question || 'Bez názvu']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1172,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                style: {\n                  color: '#6c757d',\n                  fontFamily: 'Roboto, sans-serif',\n                  fontWeight: 400,\n                  fontSize: '14px',\n                  lineHeight: '150%',\n                  letterSpacing: '1.25%'\n                },\n                children: getStepTypeName(step.type)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1183,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1171,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1148,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1144,\n          columnNumber: 11\n        }, this), step.options && step.options.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: '10px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"small\", {\n            style: {\n              color: '#6c757d',\n              fontFamily: 'Roboto, sans-serif',\n              fontWeight: 400,\n              fontSize: '14px',\n              lineHeight: '150%',\n              letterSpacing: '1.25%'\n            },\n            children: \"Mo\\u017Enosti:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1200,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: '5px'\n            },\n            children: [step.options.slice(0, 3).map((option, i) => /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                display: 'inline-block',\n                backgroundColor: '#e9ecef',\n                padding: '2px 6px',\n                borderRadius: '3px',\n                fontSize: '12px',\n                marginRight: '5px'\n              },\n              children: option\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1210,\n              columnNumber: 19\n            }, this)), step.options.length > 3 && /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                color: '#6c757d',\n                fontSize: '12px'\n              },\n              children: [\"... a \", step.options.length - 3, \" dal\\u0161\\xEDch\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1222,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1208,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1199,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1143,\n        columnNumber: 9\n      }, this), canEdit && !step.isSystem && !step.uneditable && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          gap: '8px',\n          alignItems: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onEdit,\n          style: {\n            padding: '6px 12px',\n            backgroundColor: '#007bff',\n            color: 'white',\n            border: 'none',\n            borderRadius: '4px',\n            fontSize: '12px'\n          },\n          children: \"\\u270F\\uFE0F Upravit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1233,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onDelete,\n          style: {\n            padding: '6px 12px',\n            backgroundColor: '#dc3545',\n            color: 'white',\n            border: 'none',\n            borderRadius: '4px',\n            fontSize: '12px'\n          },\n          children: \"\\uD83D\\uDDD1\\uFE0F Smazat\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1246,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1232,\n        columnNumber: 11\n      }, this), (!canEdit || step.isSystem || step.uneditable) && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          color: '#dc3545',\n          fontSize: '16px',\n          flexDirection: 'column',\n          gap: '4px'\n        },\n        children: step.isSystem || step.uneditable ? /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            backgroundColor: '#dc3545',\n            color: 'white',\n            borderRadius: '4px',\n            padding: '2px 6px',\n            fontSize: '10px',\n            fontWeight: 'bold'\n          },\n          children: \"SYSTEM\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1271,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"\\uD83D\\uDD12\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1282,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1262,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1122,\n      columnNumber: 15\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1107,\n    columnNumber: 5\n  }, this);\n};\n_c6 = SurveyStepCard;\nconst SurveyStepEditor = ({\n  step,\n  onSave,\n  onCancel\n}) => {\n  _s5();\n  const [formData, setFormData] = React.useState({\n    type: (step === null || step === void 0 ? void 0 : step.type) || 'smiley',\n    question: (step === null || step === void 0 ? void 0 : step.question) || '',\n    options: (step === null || step === void 0 ? void 0 : step.options) || [],\n    required: (step === null || step === void 0 ? void 0 : step.required) || true,\n    conditionalTriggers: (step === null || step === void 0 ? void 0 : step.conditionalTriggers) || [],\n    hasTextbox: (step === null || step === void 0 ? void 0 : step.hasTextbox) || false,\n    textboxPlaceholder: (step === null || step === void 0 ? void 0 : step.textboxPlaceholder) || ''\n  });\n  const [newOption, setNewOption] = React.useState('');\n  const addOption = () => {\n    if (newOption.trim()) {\n      setFormData(prev => ({\n        ...prev,\n        options: [...prev.options, newOption.trim()]\n      }));\n      setNewOption('');\n    }\n  };\n  const removeOption = index => {\n    setFormData(prev => ({\n      ...prev,\n      options: prev.options.filter((_, i) => i !== index)\n    }));\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (!formData.question.trim()) {\n      alert('Zadejte prosím otázku');\n      return;\n    }\n    if ((formData.type === 'single-choice' || formData.type === 'multi-select' || formData.type === 'rating-scale') && formData.type !== 'section-header' && formData.options.length === 0) {\n      alert('Přidejte prosím alespoň jednu možnost');\n      return;\n    }\n    onSave(formData);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      backgroundColor: 'rgba(0,0,0,0.5)',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      zIndex: 1000\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundColor: 'white',\n        borderRadius: '8px',\n        padding: '30px',\n        maxWidth: '600px',\n        width: '90%',\n        maxHeight: '80vh',\n        overflow: 'auto'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: step ? 'Upravit blok' : 'Přidat nový blok'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1356,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '20px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'block',\n              marginBottom: '8px',\n              fontWeight: 'bold'\n            },\n            children: \"Typ ot\\xE1zky *\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1360,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: formData.type,\n            onChange: e => setFormData(prev => ({\n              ...prev,\n              type: e.target.value\n            })),\n            style: {\n              width: '100%',\n              padding: '10px',\n              border: '1px solid #ced4da',\n              borderRadius: '4px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"smiley\",\n              children: \"5-bodov\\xE9 hodnocen\\xED smajl\\xEDky\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1373,\n              columnNumber: 16\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"single-choice\",\n              children: \"Jednoduch\\xE9 v\\xFDb\\u011Br\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1374,\n              columnNumber: 16\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"dropdown-multiselect\",\n              children: \"V\\xEDcen\\xE1sobn\\xFD v\\xFDb\\u011Br (dropdown)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1375,\n              columnNumber: 16\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"text\",\n              children: \"Textov\\xE9 pole\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1376,\n              columnNumber: 16\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"section-header\",\n              children: \"Nadpis sekce\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1377,\n              columnNumber: 16\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1363,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1359,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '20px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'block',\n              marginBottom: '8px',\n              fontWeight: 'bold'\n            },\n            children: formData.type === 'section-header' ? 'Název sekce *' : 'Otázka *'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1382,\n            columnNumber: 14\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: formData.question,\n            onChange: e => setFormData(prev => ({\n              ...prev,\n              question: e.target.value\n            })),\n            style: {\n              width: '100%',\n              padding: '10px',\n              border: '1px solid #ced4da',\n              borderRadius: '4px'\n            },\n            placeholder: formData.type === 'section-header' ? 'Zadejte název sekce' : 'Zadejte text otázky'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1385,\n            columnNumber: 14\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1381,\n          columnNumber: 22\n        }, this), (formData.type === 'single-choice' || formData.type === 'dropdown-multiselect') && formData.type !== 'section-header' && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '20px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'block',\n              marginBottom: '8px',\n              fontWeight: 'bold'\n            },\n            children: \"Mo\\u017Enosti odpov\\u011Bd\\xED\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1401,\n            columnNumber: 15\n          }, this), formData.options.map((option, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              marginBottom: '8px',\n              alignItems: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: option,\n              onChange: e => {\n                const newOptions = [...formData.options];\n                newOptions[index] = e.target.value;\n                setFormData(prev => ({\n                  ...prev,\n                  options: newOptions\n                }));\n              },\n              style: {\n                flex: 1,\n                padding: '8px',\n                border: '1px solid #ced4da',\n                borderRadius: '4px',\n                marginRight: '8px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1407,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => removeOption(index),\n              style: {\n                padding: '8px 12px',\n                backgroundColor: '#dc3545',\n                color: 'white',\n                border: 'none',\n                borderRadius: '4px'\n              },\n              children: \"\\xD7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1423,\n              columnNumber: 19\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1406,\n            columnNumber: 17\n          }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              marginTop: '10px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: newOption,\n              onChange: e => setNewOption(e.target.value),\n              onKeyPress: e => e.key === 'Enter' && (e.preventDefault(), addOption()),\n              style: {\n                flex: 1,\n                padding: '8px',\n                border: '1px solid #ced4da',\n                borderRadius: '4px',\n                marginRight: '8px'\n              },\n              placeholder: \"Nov\\xE1 mo\\u017Enost...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1440,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: addOption,\n              style: {\n                padding: '8px 16px',\n                backgroundColor: '#28a745',\n                color: 'white',\n                border: 'none',\n                borderRadius: '4px'\n              },\n              children: \"P\\u0159idat\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1454,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1439,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1400,\n          columnNumber: 13\n        }, this), formData.type !== 'section-header' && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '20px'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'flex',\n              alignItems: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              checked: formData.required,\n              onChange: e => setFormData(prev => ({\n                ...prev,\n                required: e.target.checked\n              })),\n              style: {\n                marginRight: '8px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1474,\n              columnNumber: 18\n            }, this), \"Povinn\\xE1 ot\\xE1zka\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1473,\n            columnNumber: 16\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1472,\n          columnNumber: 14\n        }, this), (formData.type === 'single-choice' || formData.type === 'dropdown-multiselect') && formData.options.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '20px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'block',\n              marginBottom: '12px',\n              fontWeight: 'bold',\n              color: '#495057'\n            },\n            children: [\"\\uD83D\\uDCA1 Podm\\xEDn\\u011Bn\\xE9 textov\\xE9 pole\", /*#__PURE__*/_jsxDEV(\"small\", {\n              style: {\n                display: 'block',\n                fontWeight: 'normal',\n                color: '#6c757d',\n                fontSize: '14px',\n                marginTop: '4px'\n              },\n              children: \"P\\u0159idejte textov\\xE9 pole, kter\\xE9 se zobraz\\xED p\\u0159i v\\xFDb\\u011Bru konkr\\xE9tn\\xED mo\\u017Enosti\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1490,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1488,\n            columnNumber: 15\n          }, this), formData.options.map((option, optionIndex) => {\n            const trigger = formData.conditionalTriggers.find(t => t.optionIndex === optionIndex);\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginBottom: '12px',\n                padding: '12px',\n                border: '1px solid #e9ecef',\n                borderRadius: '6px',\n                backgroundColor: trigger ? '#f8f9fa' : 'transparent'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  alignItems: 'center',\n                  marginBottom: trigger ? '8px' : '0'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    flex: 1,\n                    fontWeight: '500',\n                    fontSize: '14px'\n                  },\n                  children: [\"\\\"\", option, \"\\\"\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1507,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  style: {\n                    display: 'flex',\n                    alignItems: 'center',\n                    marginLeft: '12px'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"checkbox\",\n                    checked: !!trigger,\n                    onChange: e => {\n                      if (e.target.checked) {\n                        // Add trigger\n                        setFormData(prev => ({\n                          ...prev,\n                          conditionalTriggers: [...prev.conditionalTriggers, {\n                            optionIndex: optionIndex,\n                            optionText: option,\n                            textboxPlaceholder: 'Prosím, okomentujte',\n                            textboxLabel: 'Nepovinné pole'\n                          }]\n                        }));\n                      } else {\n                        // Remove trigger\n                        setFormData(prev => ({\n                          ...prev,\n                          conditionalTriggers: prev.conditionalTriggers.filter(t => t.optionIndex !== optionIndex)\n                        }));\n                      }\n                    },\n                    style: {\n                      marginRight: '6px'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1515,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      fontSize: '13px',\n                      color: '#6c757d'\n                    },\n                    children: \"Textov\\xE9 pole\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1543,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1514,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1506,\n                columnNumber: 21\n              }, this), trigger && /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginTop: '8px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: trigger.textboxPlaceholder,\n                  onChange: e => {\n                    setFormData(prev => ({\n                      ...prev,\n                      conditionalTriggers: prev.conditionalTriggers.map(t => t.optionIndex === optionIndex ? {\n                        ...t,\n                        textboxPlaceholder: e.target.value\n                      } : t)\n                    }));\n                  },\n                  style: {\n                    width: '100%',\n                    padding: '6px 8px',\n                    border: '1px solid #ced4da',\n                    borderRadius: '4px',\n                    fontSize: '13px'\n                  },\n                  placeholder: \"Text v textov\\xE9m poli (nap\\u0159: 'Pros\\xEDm, okomentujte')\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1551,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                  style: {\n                    color: '#6c757d',\n                    fontSize: '12px'\n                  },\n                  children: \"Tento text se zobraz\\xED jako n\\xE1pov\\u011Bda v textov\\xE9m poli\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1573,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1550,\n                columnNumber: 23\n              }, this)]\n            }, optionIndex, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1499,\n              columnNumber: 19\n            }, this);\n          }), formData.conditionalTriggers.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: '8px',\n              padding: '8px 12px',\n              backgroundColor: '#d4edda',\n              border: '1px solid #c3e6cb',\n              borderRadius: '4px',\n              fontSize: '13px',\n              color: '#155724'\n            },\n            children: [\"\\u2705 \", formData.conditionalTriggers.length, \" podm\\xEDn\\u011Bn\", formData.conditionalTriggers.length === 1 ? 'é' : 'ých', \" textov\", formData.conditionalTriggers.length === 1 ? 'é pole' : 'á pole', \" nastaveno\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1583,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1487,\n          columnNumber: 13\n        }, this), formData.type === 'smiley' && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '20px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              marginBottom: '10px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              id: `textbox-${(step === null || step === void 0 ? void 0 : step.id) || 'new'}`,\n              checked: formData.hasTextbox || false,\n              onChange: e => setFormData(prev => ({\n                ...prev,\n                hasTextbox: e.target.checked\n              })),\n              style: {\n                marginRight: '8px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1602,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: `textbox-${(step === null || step === void 0 ? void 0 : step.id) || 'new'}`,\n              style: {\n                fontFamily: 'Roboto',\n                fontWeight: 400,\n                fontSize: '14px',\n                lineHeight: '150%',\n                letterSpacing: '1.25%',\n                color: '#262626'\n              },\n              children: \"P\\u0159idat pole pro koment\\xE1\\u0159\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1609,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1601,\n            columnNumber: 15\n          }, this), formData.hasTextbox && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginLeft: '26px'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Placeholder text pro koment\\xE1\\u0159\",\n              value: formData.textboxPlaceholder || '',\n              onChange: e => setFormData(prev => ({\n                ...prev,\n                textboxPlaceholder: e.target.value\n              })),\n              style: {\n                width: '100%',\n                padding: '8px',\n                border: '1px solid #ced4da',\n                borderRadius: '4px',\n                fontFamily: 'Roboto',\n                fontWeight: 400,\n                fontSize: '14px',\n                lineHeight: '150%',\n                letterSpacing: '1.25%'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1625,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1624,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1600,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            marginTop: '30px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: onCancel,\n            style: {\n              padding: '10px 20px',\n              backgroundColor: '#6c757d',\n              color: 'white',\n              border: 'none',\n              borderRadius: '4px'\n            },\n            children: \"Zru\\u0161it\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1648,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            style: {\n              padding: '10px 20px',\n              backgroundColor: '#007bff',\n              color: 'white',\n              border: 'none',\n              borderRadius: '4px'\n            },\n            children: step ? 'Uložit změny' : 'Přidat blok'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1661,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1647,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1358,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1347,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1335,\n    columnNumber: 5\n  }, this);\n};\n_s5(SurveyStepEditor, \"HttUxEeMmI2+Yaunjwu7ex6hWjs=\");\n_c7 = SurveyStepEditor;\nconst SurveyPreview = ({\n  survey,\n  onClose\n}) => {\n  _s7();\n  var _s6 = $RefreshSig$();\n  const [currentCardIndex, setCurrentCardIndex] = React.useState(0);\n  const [previewAnswers, setPreviewAnswers] = React.useState({});\n  const [dropdownStates, setDropdownStates] = React.useState({});\n  const [showScreenshotForm, setShowScreenshotForm] = React.useState(false);\n  const [showSuccessScreen, setShowSuccessScreen] = React.useState(false);\n  const [showScreenshotSuccess, setShowScreenshotSuccess] = React.useState(false);\n  const SmileyIcon = ({\n    iconName,\n    state = 'default',\n    size = 48,\n    style = {}\n  }) => {\n    _s6();\n    const [currentState, setCurrentState] = React.useState(state);\n    const getIconPath = () => {\n      const stateFolder = currentState === 'active' ? 'activeState' : currentState === 'hover' ? 'hoverState' : 'defaultState';\n      return `/icons/${stateFolder}/${iconName}.svg`;\n    };\n    return /*#__PURE__*/_jsxDEV(\"img\", {\n      src: getIconPath(),\n      alt: iconName,\n      width: size,\n      height: size,\n      style: {\n        cursor: 'pointer',\n        transition: 'all 0.2s ease',\n        ...style\n      },\n      onMouseEnter: () => setCurrentState('hover'),\n      onMouseLeave: () => setCurrentState(state),\n      onClick: () => setCurrentState('active')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1698,\n      columnNumber: 7\n    }, this);\n  };\n\n  // Get cards with non-empty steps\n  _s6(SmileyIcon, \"UgM8lFi9MeuX9NdmfZdxvwd07O4=\");\n  const getAllCardsWithSteps = () => {\n    if (!survey.cards) return [];\n    return survey.cards.filter(card => card.steps && card.steps.length > 0);\n  };\n  const getNonSystemCardsWithSteps = () => {\n    if (!survey.cards) return [];\n    return survey.cards.filter(card => card.steps && card.steps.length > 0 && !card.isSystem);\n  };\n  const allCardsWithSteps = getAllCardsWithSteps();\n  const nonSystemCards = getNonSystemCardsWithSteps();\n  const totalCards = nonSystemCards.length; // Only count non-system cards\n  const currentCard = allCardsWithSteps[currentCardIndex]; // Use all cards for display\n  const currentBlocks = currentCard ? currentCard.steps : [];\n  const isSystemCard = currentCard ? currentCard.isSystem : false;\n  const renderSmileyRating = step => {\n    // Reversed order: start from best (nejlepší) to worst\n    const smileyIcons = ['emoji-laughing', 'emoji-smile', 'emoji-neutral', 'emoji-frown', 'emoji-angry'];\n    const stepKey = `step-${step.id || Math.random()}`;\n    const selectedRating = previewAnswers[stepKey];\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: 'center',\n        marginBottom: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'space-around',\n          marginBottom: '20px'\n        },\n        children: smileyIcons.map((iconName, index) => {\n          const isSelected = selectedRating === index;\n          const iconState = isSelected ? 'active' : 'default';\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              textAlign: 'center',\n              cursor: 'pointer',\n              opacity: isSelected ? 1 : 0.7,\n              transform: isSelected ? 'scale(1.1)' : 'scale(1)',\n              transition: 'all 0.2s ease'\n            },\n            onClick: () => {\n              setPreviewAnswers(prev => ({\n                ...prev,\n                [stepKey]: index\n              }));\n            },\n            onMouseEnter: e => {\n              if (!isSelected) {\n                e.currentTarget.style.opacity = '0.9';\n              }\n            },\n            onMouseLeave: e => {\n              if (!isSelected) {\n                e.currentTarget.style.opacity = '0.7';\n              }\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(SmileyIcon, {\n                iconName: iconName,\n                state: iconState,\n                size: 34\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1774,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1773,\n              columnNumber: 17\n            }, this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1747,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1741,\n        columnNumber: 9\n      }, this), step.hasTextbox && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '16px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: '372px',\n            minHeight: '48px',\n            padding: '12px 16px',\n            gap: '8px',\n            borderRadius: '4px',\n            border: '1px solid #4F4F4F',\n            backgroundColor: 'white'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: step.textboxPlaceholder || 'Prosím, okomentujte vaše hodnocení',\n            value: previewAnswers[`${stepKey}-textbox`] || '',\n            onChange: e => setPreviewAnswers(prev => ({\n              ...prev,\n              [`${stepKey}-textbox`]: e.target.value\n            })),\n            style: {\n              width: '100%',\n              border: 'none',\n              outline: 'none',\n              fontFamily: 'Roboto',\n              fontWeight: 400,\n              fontSize: '16px',\n              lineHeight: '150%',\n              letterSpacing: '1.25%',\n              color: '#262626',\n              backgroundColor: 'transparent'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1793,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1784,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: '8px',\n            fontFamily: 'Roboto',\n            fontWeight: 400,\n            fontSize: '14px',\n            lineHeight: '150%',\n            letterSpacing: '1.25%',\n            color: '#6c757d',\n            fontStyle: 'italic',\n            textAlign: 'left'\n          },\n          children: \"Nepovinn\\xE9 pole\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1815,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1783,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1740,\n      columnNumber: 7\n    }, this);\n  };\n  const renderSingleChoice = step => {\n    const stepKey = `step-${step.id || Math.random()}`;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: '20px',\n        marginTop: '16px'\n      },\n      children: step.options.map((option, index) => {\n        var _step$conditionalTrig;\n        const trigger = (_step$conditionalTrig = step.conditionalTriggers) === null || _step$conditionalTrig === void 0 ? void 0 : _step$conditionalTrig.find(t => t.optionIndex === index);\n        const isSelected = previewAnswers[stepKey] === index;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              paddingLeft: '10px',\n              display: 'block',\n              marginBottom: '12px',\n              cursor: 'pointer',\n              fontFamily: 'Roboto, sans-serif',\n              fontWeight: 400,\n              fontSize: '16px',\n              lineHeight: '150%',\n              letterSpacing: '1.25%',\n              color: '#262626'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                position: 'relative',\n                display: 'inline-block',\n                marginRight: '8px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                name: stepKey,\n                value: index,\n                checked: isSelected,\n                onChange: e => setPreviewAnswers(prev => ({\n                  ...prev,\n                  [stepKey]: parseInt(e.target.value)\n                })),\n                style: {\n                  width: '20px',\n                  height: '20px',\n                  borderRadius: '20px',\n                  border: '2px solid ' + (isSelected ? '#609352' : '#ced4da'),\n                  backgroundColor: '#FFFFFF',\n                  appearance: 'none',\n                  cursor: 'pointer',\n                  position: 'relative'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1861,\n                columnNumber: 19\n              }, this), isSelected && /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  position: 'absolute',\n                  top: '5px',\n                  left: '5px',\n                  width: '10px',\n                  height: '10px',\n                  borderRadius: '50%',\n                  backgroundColor: '#609352',\n                  pointerEvents: 'none'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1882,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1856,\n              columnNumber: 17\n            }, this), option]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1844,\n            columnNumber: 15\n          }, this), trigger && isSelected && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginLeft: '0px',\n              marginTop: '16px',\n              marginBottom: '16px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                width: '372px',\n                minHeight: '48px',\n                gap: '8px',\n                paddingTop: '12px',\n                paddingRight: '8px',\n                paddingBottom: '12px',\n                paddingLeft: '8px',\n                borderRadius: '4px',\n                border: '1px solid #4F4F4F'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                style: {\n                  width: '100%',\n                  height: '24px',\n                  border: 'none',\n                  outline: 'none',\n                  fontFamily: 'Roboto, sans-serif',\n                  fontWeight: 400,\n                  fontSize: '16px',\n                  lineHeight: '150%',\n                  letterSpacing: '1.25%',\n                  backgroundColor: 'transparent'\n                },\n                placeholder: trigger.textboxPlaceholder || 'Prosím, okomentujte'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1911,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1900,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: '8px'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"small\", {\n                style: {\n                  fontFamily: 'Roboto, sans-serif',\n                  fontWeight: 400,\n                  fontStyle: 'italic',\n                  fontSize: '14px',\n                  lineHeight: '150%',\n                  letterSpacing: '1.25%',\n                  color: '#262626',\n                  textAlign: 'left'\n                },\n                children: trigger.textboxLabel || 'Nepovinné pole'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1931,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1928,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1899,\n            columnNumber: 17\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1843,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1837,\n      columnNumber: 7\n    }, this);\n  };\n  const renderMultiSelect = step => {\n    const stepKey = `step-${step.id || Math.random()}`;\n    const selectedOptions = previewAnswers[stepKey] || [];\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: '20px',\n        marginTop: '16px'\n      },\n      children: step.options.map((option, index) => {\n        var _step$conditionalTrig2;\n        const trigger = (_step$conditionalTrig2 = step.conditionalTriggers) === null || _step$conditionalTrig2 === void 0 ? void 0 : _step$conditionalTrig2.find(t => t.optionIndex === index);\n        const isSelected = selectedOptions.includes(index);\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              paddingLeft: '10px',\n              display: 'block',\n              marginBottom: '12px',\n              cursor: 'pointer',\n              fontFamily: 'Roboto, sans-serif',\n              fontWeight: 400,\n              fontSize: '16px',\n              lineHeight: '150%',\n              letterSpacing: '1.25%',\n              color: '#262626'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                position: 'relative',\n                display: 'inline-block',\n                marginRight: '8px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                checked: isSelected,\n                onChange: e => {\n                  setPreviewAnswers(prev => {\n                    const currentSelected = prev[stepKey] || [];\n                    if (e.target.checked) {\n                      return {\n                        ...prev,\n                        [stepKey]: [...currentSelected, index]\n                      };\n                    } else {\n                      return {\n                        ...prev,\n                        [stepKey]: currentSelected.filter(i => i !== index)\n                      };\n                    }\n                  });\n                },\n                style: {\n                  width: '20px',\n                  height: '20px',\n                  borderRadius: '4px',\n                  border: '2px solid ' + (isSelected ? '#609352' : '#ced4da'),\n                  backgroundColor: isSelected ? '#609352' : '#FFFFFF',\n                  appearance: 'none',\n                  cursor: 'pointer',\n                  position: 'relative'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1982,\n                columnNumber: 19\n              }, this), isSelected && /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  position: 'absolute',\n                  top: '2px',\n                  left: '4px',\n                  width: '12px',\n                  height: '8px',\n                  borderLeft: '2px solid #FFFFFF',\n                  borderBottom: '2px solid #FFFFFF',\n                  transform: 'rotate(-45deg)',\n                  pointerEvents: 'none'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2007,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1977,\n              columnNumber: 17\n            }, this), option]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1965,\n            columnNumber: 15\n          }, this), trigger && isSelected && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginLeft: '0px',\n              marginTop: '16px',\n              marginBottom: '16px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                width: '372px',\n                minHeight: '48px',\n                gap: '8px',\n                paddingTop: '12px',\n                paddingRight: '8px',\n                paddingBottom: '12px',\n                paddingLeft: '8px',\n                borderRadius: '4px',\n                border: '1px solid #4F4F4F'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                style: {\n                  width: '100%',\n                  height: '24px',\n                  border: 'none',\n                  outline: 'none',\n                  fontFamily: 'Roboto, sans-serif',\n                  fontWeight: 400,\n                  fontSize: '16px',\n                  lineHeight: '150%',\n                  letterSpacing: '1.25%',\n                  backgroundColor: 'transparent'\n                },\n                placeholder: trigger.textboxPlaceholder || 'Prosím, okomentujte'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2037,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2026,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: '8px'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"small\", {\n                style: {\n                  fontFamily: 'Roboto, sans-serif',\n                  fontWeight: 400,\n                  fontStyle: 'italic',\n                  fontSize: '14px',\n                  lineHeight: '150%',\n                  letterSpacing: '1.25%',\n                  color: '#262626',\n                  textAlign: 'left'\n                },\n                children: trigger.textboxLabel || 'Nepovinné pole'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2057,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2054,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2025,\n            columnNumber: 17\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1964,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1958,\n      columnNumber: 7\n    }, this);\n  };\n  const renderTextInput = step => /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      marginBottom: '20px'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n      disabled: true,\n      style: {\n        width: '100%',\n        minHeight: '100px',\n        padding: '12px',\n        border: '1px solid #ced4da',\n        borderRadius: '4px',\n        resize: 'vertical',\n        fontFamily: 'Roboto, sans-serif',\n        fontWeight: 400,\n        fontSize: '16px',\n        lineHeight: '150%',\n        letterSpacing: '1.25%'\n      },\n      placeholder: \"Text odpov\\u011Bdi...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2081,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 2080,\n    columnNumber: 5\n  }, this);\n  const renderRatingScale = step => /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      marginBottom: '20px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        marginBottom: '20px'\n      },\n      children: step.options.map((rating, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: 'center',\n          cursor: 'pointer'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: '40px',\n            height: '40px',\n            border: '2px solid #dee2e6',\n            borderRadius: '50%',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            fontSize: '16px',\n            fontWeight: 'bold',\n            color: '#262626',\n            fontFamily: 'Roboto, sans-serif'\n          },\n          children: rating\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2106,\n          columnNumber: 13\n        }, this)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2105,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2103,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        fontFamily: 'Roboto, sans-serif',\n        fontWeight: 400,\n        fontSize: '14px',\n        lineHeight: '150%',\n        letterSpacing: '1.25%',\n        color: '#262626'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Nejni\\u017E\\u0161\\xED\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2134,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Nejvy\\u0161\\u0161\\xED\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2135,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2124,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 2102,\n    columnNumber: 5\n  }, this);\n  const renderSectionHeader = step => /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      marginBottom: '20px'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"h3\", {\n      style: {\n        margin: 0,\n        color: '#262626',\n        fontFamily: 'Roboto, sans-serif',\n        fontWeight: 400,\n        fontSize: '18px',\n        lineHeight: '150%',\n        letterSpacing: '1.25%'\n      },\n      children: step.question\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2144,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 2141,\n    columnNumber: 5\n  }, this);\n  const renderDropdownMultiSelect = step => {\n    const stepKey = `step-${step.id || Math.random()}`;\n    const selectedOptions = previewAnswers[stepKey] || [];\n    const isOpen = dropdownStates[stepKey] || false;\n    const toggleDropdown = () => {\n      setDropdownStates(prev => ({\n        ...prev,\n        [stepKey]: !prev[stepKey]\n      }));\n    };\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: '20px',\n        position: 'relative'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: toggleDropdown,\n        style: {\n          position: 'relative',\n          width: '372px',\n          height: '40px',\n          paddingTop: '5px',\n          paddingBottom: '5px',\n          paddingLeft: '12px',\n          paddingRight: '40px',\n          borderRadius: '8px',\n          borderWidth: '1px',\n          borderStyle: 'solid',\n          borderColor: '#ced4da',\n          backgroundColor: 'white',\n          cursor: 'pointer',\n          display: 'flex',\n          alignItems: 'center',\n          fontFamily: 'Roboto',\n          fontWeight: 400,\n          fontSize: '16px',\n          lineHeight: '150%',\n          letterSpacing: '1.25%',\n          color: '#262626'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            flex: 1\n          },\n          children: selectedOptions.length === 0 ? 'Vyberte možnosti...' : selectedOptions.length === 1 ? `${selectedOptions.length} možnost vybrána` : selectedOptions.length <= 4 ? `${selectedOptions.length} možnosti vybrány` : `${selectedOptions.length} možností vybráno`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2198,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: 'absolute',\n            right: '12px',\n            transform: 'translateY(-50%)',\n            width: '16px',\n            height: '9px'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            width: \"16\",\n            height: \"9\",\n            viewBox: \"0 0 16 9\",\n            fill: \"none\",\n            xmlns: \"http://www.w3.org/2000/svg\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              fillRule: \"evenodd\",\n              clipRule: \"evenodd\",\n              d: \"M0.180242 0.180242C0.420565 -0.0600807 0.810205 -0.0600807 1.05053 0.180242L8 7.12971L14.9495 0.180242C15.1898 -0.0600807 15.5794 -0.0600807 15.8198 0.180242C16.0601 0.420565 16.0601 0.810205 15.8198 1.05053L8.43514 8.43514C8.19482 8.67546 7.80518 8.67546 7.56486 8.43514L0.180242 1.05053C-0.0600807 0.810205 -0.0600807 0.420565 0.180242 0.180242Z\",\n              fill: \"#609352\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2214,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2213,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2206,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2173,\n        columnNumber: 9\n      }, this), isOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'absolute',\n          top: '42px',\n          left: 0,\n          width: '372px',\n          zIndex: 1000,\n          backgroundColor: 'white',\n          border: '1px solid #ced4da',\n          borderRadius: '4px',\n          maxHeight: '200px',\n          overflowY: 'auto',\n          boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\n        },\n        children: (step.options || []).map((option, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: () => {\n            if (!selectedOptions.includes(option)) {\n              setPreviewAnswers(prev => ({\n                ...prev,\n                [stepKey]: [...selectedOptions, option]\n              }));\n            }\n            setDropdownStates(prev => ({\n              ...prev,\n              [stepKey]: false\n            }));\n          },\n          style: {\n            padding: '8px 12px',\n            cursor: selectedOptions.includes(option) ? 'not-allowed' : 'pointer',\n            fontFamily: 'Roboto',\n            fontWeight: 400,\n            fontSize: '16px',\n            lineHeight: '150%',\n            letterSpacing: '1.25%',\n            color: selectedOptions.includes(option) ? '#6c757d' : '#262626',\n            backgroundColor: selectedOptions.includes(option) ? '#f8f9fa' : 'white',\n            borderBottom: index < (step.options || []).length - 1 ? '1px solid #e9ecef' : 'none'\n          },\n          onMouseEnter: e => {\n            if (!selectedOptions.includes(option)) {\n              e.target.style.backgroundColor = '#f8f9fa';\n            }\n          },\n          onMouseLeave: e => {\n            if (!selectedOptions.includes(option)) {\n              e.target.style.backgroundColor = 'white';\n            }\n          },\n          children: [selectedOptions.includes(option) ? '✓ ' : '', option]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2235,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2221,\n        columnNumber: 11\n      }, this), selectedOptions.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '8px',\n          display: 'flex',\n          flexWrap: 'wrap',\n          gap: '8px',\n          maxWidth: '320px'\n        },\n        children: selectedOptions.map((option, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            width: '121px',\n            maxWidth: '320px',\n            height: '28px',\n            paddingLeft: '8px',\n            paddingRight: '8px',\n            borderRadius: '4px',\n            borderWidth: '1px',\n            borderStyle: 'solid',\n            borderColor: '#ced4da',\n            backgroundColor: '#f8f9fa',\n            fontFamily: 'Roboto',\n            fontWeight: 400,\n            fontSize: '14px',\n            lineHeight: '150%',\n            letterSpacing: '1.25%',\n            color: '#262626'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              flex: 1,\n              overflow: 'hidden',\n              textOverflow: 'ellipsis',\n              whiteSpace: 'nowrap'\n            },\n            children: option\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2308,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setPreviewAnswers(prev => ({\n                ...prev,\n                [stepKey]: selectedOptions.filter(opt => opt !== option)\n              }));\n            },\n            style: {\n              background: 'none',\n              border: 'none',\n              cursor: 'pointer',\n              padding: '0',\n              marginLeft: '4px',\n              width: '12px',\n              height: '12px',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              flexShrink: 0\n            },\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              width: \"12\",\n              height: \"12\",\n              viewBox: \"0 0 12 12\",\n              fill: \"none\",\n              xmlns: \"http://www.w3.org/2000/svg\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M0.878303 1.49725C0.837626 1.45658 0.805359 1.40829 0.783345 1.35514C0.761331 1.30199 0.75 1.24503 0.75 1.1875C0.75 1.12998 0.761331 1.07301 0.783345 1.01987C0.805359 0.966721 0.837626 0.91843 0.878303 0.877753C0.918979 0.837076 0.96727 0.80481 1.02042 0.782795C1.07356 0.760781 1.13053 0.749451 1.18805 0.749451C1.24558 0.749451 1.30254 0.760781 1.35569 0.782795C1.40884 0.80481 1.45713 0.837076 1.4978 0.877753L6.00055 5.38138L10.5033 0.877753C10.544 0.837076 10.5923 0.80481 10.6454 0.782795C10.6986 0.760781 10.7555 0.749451 10.8131 0.749451C10.8706 0.749451 10.9275 0.760781 10.9807 0.782795C11.0338 0.80481 11.0821 0.837076 11.1228 0.877753C11.1635 0.91843 11.1957 0.966721 11.2178 1.01987C11.2398 1.07301 11.2511 1.12998 11.2511 1.1875C11.2511 1.24503 11.2398 1.30199 11.2178 1.35514C11.1957 1.40829 11.1635 1.45658 11.1228 1.49725L6.61918 6L11.1228 10.5028C11.1635 10.5434 11.1957 10.5917 11.2178 10.6449C11.2398 10.698 11.2511 10.755 11.2511 10.8125C11.2511 10.87 11.2398 10.927 11.2178 10.9801C11.1957 11.0333 11.1635 11.0816 11.1228 11.1223C11.0821 11.1629 11.0338 11.1952 10.9807 11.2172C10.9275 11.2392 10.8706 11.2506 10.8131 11.2506C10.7555 11.2506 10.6986 11.2392 10.6454 11.2172C10.5923 11.1952 10.544 11.1629 10.5033 11.1223L6.00055 6.61863L1.4978 11.1223C1.45713 11.1629 1.40884 11.1952 1.35569 11.2172C1.30254 11.2392 1.24558 11.2506 1.18805 11.2506C1.13053 11.2506 1.07356 11.2392 1.02042 11.2172C0.96727 11.1952 0.918979 11.1629 0.878303 11.1223C0.837626 11.0816 0.805359 11.0333 0.783345 10.9801C0.761331 10.927 0.75 10.87 0.75 10.8125C0.75 10.755 0.761331 10.698 0.783345 10.6449C0.805359 10.5917 0.837626 10.5434 0.878303 10.5028L5.38193 6L0.878303 1.49725Z\",\n                fill: \"#609352\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2338,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2337,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2316,\n            columnNumber: 17\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2288,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2280,\n        columnNumber: 11\n      }, this), (step.conditionalTriggers || []).map((trigger, triggerIndex) => {\n        const isTriggered = selectedOptions.includes(trigger.optionText);\n        return isTriggered ? /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: '16px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: '372px',\n              minHeight: '48px',\n              gap: '8px',\n              paddingTop: '12px',\n              paddingRight: '8px',\n              paddingBottom: '12px',\n              paddingLeft: '8px',\n              borderRadius: '4px',\n              border: '1px solid #4F4F4F',\n              backgroundColor: 'white'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: trigger.textboxPlaceholder || 'Prosím, okomentujte',\n              style: {\n                width: '100%',\n                height: '24px',\n                border: 'none',\n                outline: 'none',\n                backgroundColor: 'transparent',\n                fontFamily: 'Roboto, sans-serif',\n                fontWeight: 400,\n                fontSize: '16px',\n                lineHeight: '150%',\n                letterSpacing: '1.25%',\n                color: '#262626'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2364,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2352,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: '8px'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"small\", {\n              style: {\n                fontFamily: 'Roboto, sans-serif',\n                fontWeight: 400,\n                fontStyle: 'italic',\n                fontSize: '14px',\n                lineHeight: '150%',\n                letterSpacing: '1.25%',\n                color: '#262626',\n                textAlign: 'left'\n              },\n              children: trigger.textboxLabel || 'Nepovinné pole'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2383,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2382,\n            columnNumber: 15\n          }, this)]\n        }, triggerIndex, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2351,\n          columnNumber: 13\n        }, this) : null;\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2171,\n      columnNumber: 7\n    }, this);\n  };\n  const renderFloatingWidget = step => /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: 'relative',\n      height: '120px',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      margin: '20px auto'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'relative'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: () => {\n          // Navigate to Step 0b (Feedback Modal)\n          const feedbackModalIndex = allCardsWithSteps.findIndex(card => card.steps && card.steps.some(step => step.type === 'feedback-modal'));\n          if (feedbackModalIndex !== -1) {\n            setCurrentCardIndex(feedbackModalIndex);\n          }\n        },\n        style: {\n          width: '82px',\n          height: '82px',\n          backgroundColor: '#FFFFFF',\n          borderRadius: '50%',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          boxShadow: '0 4px 12px rgba(0, 0, 0, 0.15)',\n          cursor: 'pointer',\n          position: 'relative'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"/floating.svg\",\n          alt: \"Feedback\",\n          style: {\n            width: '48px',\n            height: '48px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2438,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2415,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: () => {\n          // Close the floating widget - go to next non-system card\n          const nextNonSystemIndex = allCardsWithSteps.findIndex((card, index) => index > currentCardIndex && !card.isSystem);\n          if (nextNonSystemIndex !== -1) {\n            setCurrentCardIndex(nextNonSystemIndex);\n          }\n        },\n        style: {\n          position: 'absolute',\n          width: '39px',\n          height: '39px',\n          top: '-29px',\n          right: '-120px',\n          backgroundColor: '#FFFFFF',\n          borderRadius: '50%',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          boxShadow: '0 2px 8px rgba(0, 0, 0, 0.15)',\n          cursor: 'pointer'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"/close.svg\",\n          alt: \"Close\",\n          style: {\n            width: '23.25px',\n            height: '23.25px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2474,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2449,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2413,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 2404,\n    columnNumber: 3\n  }, this);\n  const renderFeedbackModal = step => /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      marginBottom: '20px'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        flexDirection: 'column',\n        gap: '24px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontFamily: 'Roboto',\n          fontWeight: 400,\n          fontSize: '18px',\n          lineHeight: '150%',\n          letterSpacing: '1.25%',\n          color: '#262626',\n          textAlign: 'left'\n        },\n        children: \"Hodnocen\\xED, \\xFA\\u010Del n\\xE1v\\u0161t\\u011Bvy, dojmy\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2498,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          // Navigate to step 1 (first non-system card)\n          const firstNonSystemIndex = allCardsWithSteps.findIndex(card => !card.isSystem);\n          if (firstNonSystemIndex !== -1) {\n            setCurrentCardIndex(firstNonSystemIndex);\n          }\n        },\n        style: {\n          width: '241px',\n          height: '56px',\n          gap: '20px',\n          paddingTop: '12px',\n          paddingRight: '20px',\n          paddingBottom: '13px',\n          paddingLeft: '20px',\n          borderRadius: '8px',\n          backgroundColor: '#609352',\n          border: 'none',\n          cursor: 'pointer',\n          fontFamily: 'Roboto',\n          fontWeight: 700,\n          fontSize: '20px',\n          lineHeight: '150%',\n          letterSpacing: '3%',\n          color: '#FFFFFF'\n        },\n        children: \"Zp\\u011Btn\\xE1 vazba na web\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2511,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontFamily: 'Roboto',\n          fontWeight: 400,\n          fontSize: '18px',\n          lineHeight: '150%',\n          letterSpacing: '1.25%',\n          color: '#262626',\n          textAlign: 'left'\n        },\n        children: \"Mo\\u017Enost p\\u0159ipojit screenshot + koment\\xE1\\u0159\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2542,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          setShowScreenshotForm(true);\n        },\n        style: {\n          width: '183px',\n          height: '56px',\n          gap: '20px',\n          paddingTop: '12px',\n          paddingRight: '20px',\n          paddingBottom: '13px',\n          paddingLeft: '20px',\n          borderRadius: '8px',\n          backgroundColor: '#609352',\n          border: 'none',\n          cursor: 'pointer',\n          fontFamily: 'Roboto',\n          fontWeight: 700,\n          fontSize: '20px',\n          lineHeight: '150%',\n          letterSpacing: '3%',\n          color: '#FFFFFF'\n        },\n        children: \"M\\xE1te probl\\xE9m?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2555,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2492,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 2488,\n    columnNumber: 3\n  }, this);\n\n  // Screenshot Form Component\n  const renderScreenshotForm = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      width: '450px',\n      height: '603px',\n      borderRadius: '16px',\n      backgroundColor: '#FFFFFF',\n      padding: '24px',\n      gap: '24px',\n      display: 'flex',\n      flexDirection: 'column',\n      position: 'relative'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        marginBottom: '24px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        style: {\n          margin: 0,\n          fontFamily: 'Roboto',\n          fontWeight: 400,\n          fontSize: '24px',\n          lineHeight: '150%',\n          letterSpacing: '3.12%',\n          color: '#262626'\n        },\n        children: \"P\\u0159ilo\\u017Eit sn\\xEDmek obrazovky\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2604,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onClose,\n        style: {\n          background: 'none',\n          border: 'none',\n          cursor: 'pointer',\n          padding: '4px',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"/close.svg\",\n          alt: \"Close\",\n          width: \"24\",\n          height: \"24\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2627,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2615,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2598,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        flex: 1,\n        display: 'flex',\n        flexDirection: 'column',\n        gap: '24px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontFamily: 'Roboto',\n          fontWeight: 400,\n          fontSize: '18px',\n          lineHeight: '150%',\n          letterSpacing: '1.25%',\n          color: '#262626'\n        },\n        children: \"Chcete p\\u0159ilo\\u017Eit screenshot?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2634,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        style: {\n          width: '160px',\n          height: '40px',\n          gap: '12px',\n          paddingTop: '8px',\n          paddingRight: '12px',\n          paddingBottom: '9px',\n          paddingLeft: '12px',\n          borderRadius: '8px',\n          border: '1px solid #609352',\n          backgroundColor: 'transparent',\n          cursor: 'pointer',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n          width: \"20\",\n          height: \"20\",\n          viewBox: \"0 0 20 20\",\n          fill: \"none\",\n          xmlns: \"http://www.w3.org/2000/svg\",\n          style: {\n            marginRight: '8px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M0.625 12.375C0.970178 12.375 1.25 12.6549 1.25 13V16.125C1.25 16.8154 1.80964 17.375 2.5 17.375H17.5C18.1904 17.375 18.75 16.8154 18.75 16.125V13C18.75 12.6549 19.0298 12.375 19.375 12.375C19.7202 12.375 20 12.6549 20 13V16.125C20 17.5057 18.8807 18.625 17.5 18.625H2.5C1.11929 18.625 0 17.5057 0 16.125V13C0 12.6549 0.279822 12.375 0.625 12.375Z\",\n            fill: \"#609352\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2664,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M9.55806 1.43306C9.80214 1.18898 10.1979 1.18898 10.4419 1.43306L14.1919 5.18306C14.436 5.42714 14.436 5.82286 14.1919 6.06694C13.9479 6.31102 13.5521 6.31102 13.3081 6.06694L10.625 3.38388V14.375C10.625 14.7202 10.3452 15 10 15C9.65482 15 9.375 14.7202 9.375 14.375V3.38388L6.69194 6.06694C6.44786 6.31102 6.05214 6.31102 5.80806 6.06694C5.56398 5.82286 5.56398 5.42714 5.80806 5.18306L9.55806 1.43306Z\",\n            fill: \"#609352\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2665,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2663,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            fontFamily: 'Roboto',\n            fontWeight: 700,\n            fontSize: '14px',\n            lineHeight: '150%',\n            letterSpacing: '1.25%',\n            color: '#368537'\n          },\n          children: \"Nahrajte soubor\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2667,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2646,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontFamily: 'Roboto',\n          fontWeight: 400,\n          fontSize: '14px',\n          lineHeight: '150%',\n          letterSpacing: '1.25%',\n          color: '#262626',\n          textAlign: 'center'\n        },\n        children: \"Podporovan\\xE9 form\\xE1ty JPEG, PNG, PDF\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2680,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontFamily: 'Roboto',\n          fontWeight: 400,\n          fontSize: '18px',\n          lineHeight: '150%',\n          letterSpacing: '1.25%',\n          color: '#262626',\n          marginTop: '24px'\n        },\n        children: \"Popi\\u0161te probl\\xE9m nebo pot\\xED\\u017Ee\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2693,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        placeholder: \"Pros\\xEDm, uv\\u011B\\u010Fte\",\n        style: {\n          width: '372px',\n          minHeight: '120px',\n          padding: '12px 8px',\n          borderRadius: '4px',\n          border: '1px solid #4F4F4F',\n          fontFamily: 'Roboto',\n          fontWeight: 400,\n          fontSize: '16px',\n          lineHeight: '150%',\n          letterSpacing: '1.25%',\n          color: '#6D6D6D',\n          backgroundColor: '#FFFFFF',\n          resize: 'vertical',\n          outline: 'none'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2706,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n          marginTop: 'auto',\n          paddingTop: '20px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setShowScreenshotForm(false);\n          },\n          style: {\n            width: '83px',\n            height: '56px',\n            gap: '20px',\n            paddingTop: '12px',\n            paddingRight: '20px',\n            paddingBottom: '13px',\n            paddingLeft: '20px',\n            borderRadius: '8px',\n            border: '1px solid #609352',\n            backgroundColor: 'transparent',\n            cursor: 'pointer',\n            fontFamily: 'Roboto',\n            fontWeight: 700,\n            fontSize: '20px',\n            lineHeight: '150%',\n            letterSpacing: '3%',\n            color: '#368537'\n          },\n          children: \"Zp\\u011Bt\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2735,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setShowScreenshotForm(false);\n            setShowScreenshotSuccess(true);\n          },\n          style: {\n            width: '113px',\n            height: '56px',\n            gap: '20px',\n            paddingTop: '12px',\n            paddingRight: '20px',\n            paddingBottom: '13px',\n            paddingLeft: '20px',\n            borderRadius: '8px',\n            backgroundColor: '#609352',\n            border: 'none',\n            cursor: 'pointer',\n            fontFamily: 'Roboto',\n            fontWeight: 700,\n            fontSize: '20px',\n            lineHeight: '150%',\n            letterSpacing: '3%',\n            color: '#FFFFFF'\n          },\n          children: \"Odeslat\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2762,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2727,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2632,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 2586,\n    columnNumber: 3\n  }, this);\n\n  // Success Screen Component\n  const renderSuccessScreen = message => /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      width: '450px',\n      height: '603px',\n      borderRadius: '16px',\n      backgroundColor: '#FFFFFF',\n      padding: '24px',\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'center',\n      alignItems: 'center',\n      textAlign: 'center'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        margin: 0,\n        fontFamily: 'Roboto',\n        fontWeight: 400,\n        fontSize: '24px',\n        lineHeight: '150%',\n        letterSpacing: '3.12%',\n        color: '#262626'\n      },\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2807,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 2795,\n    columnNumber: 3\n  }, this);\n  const renderStepContent = step => {\n    switch (step.type) {\n      case 'smiley':\n        return renderSmileyRating(step);\n      case 'single-choice':\n        return renderSingleChoice(step);\n      case 'dropdown-multiselect':\n        return renderDropdownMultiSelect(step);\n      case 'text':\n        return renderTextInput(step);\n      case 'section-header':\n        return renderSectionHeader(step);\n      case 'floating-widget':\n        return renderFloatingWidget(step);\n      case 'feedback-modal':\n        return renderFeedbackModal(step);\n      default:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Nezn\\xE1m\\xFD typ ot\\xE1zky\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2830,\n          columnNumber: 21\n        }, this);\n    }\n  };\n\n  // Handle special screens\n  if (showScreenshotForm) {\n    return renderScreenshotForm();\n  }\n  if (showScreenshotSuccess) {\n    return renderSuccessScreen('Odesláno');\n  }\n  if (showSuccessScreen) {\n    return renderSuccessScreen('Zpětná vazba odeslána');\n  }\n  if (totalCards === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: '450px',\n        height: '603px',\n        borderRadius: '16px',\n        backgroundColor: '#FFFFFF',\n        padding: '24px',\n        gap: '24px',\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'center',\n        alignItems: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: '#6c757d'\n        },\n        children: \"\\u017D\\xE1dn\\xE9 kroky pro n\\xE1hled\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2861,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2849,\n      columnNumber: 5\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      width: '450px',\n      height: '603px',\n      borderRadius: '16px',\n      backgroundColor: '#FFFFFF',\n      padding: '24px',\n      gap: '24px',\n      display: 'flex',\n      flexDirection: 'column',\n      position: 'relative'\n    },\n    children: [!isSystemCard && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        marginBottom: '24px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        style: {\n          margin: 0,\n          fontFamily: 'Roboto, sans-serif',\n          fontWeight: 400,\n          fontSize: '24px',\n          lineHeight: '150%',\n          letterSpacing: '3.12%',\n          color: '#262626'\n        },\n        children: survey.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2886,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onClose,\n        style: {\n          background: 'none',\n          border: 'none',\n          cursor: 'pointer',\n          padding: '4px',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"/close.svg\",\n          alt: \"Close\",\n          width: \"24\",\n          height: \"24\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2909,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2897,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2880,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        flex: 1,\n        overflow: 'auto'\n      },\n      children: currentBlocks.map((block, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: index < currentBlocks.length - 1 ? '32px' : '0'\n        },\n        children: [block.type !== 'section-header' && !isSystemCard && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '16px'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              margin: 0,\n              fontFamily: 'Roboto, sans-serif',\n              fontWeight: 400,\n              fontSize: '18px',\n              lineHeight: '150%',\n              letterSpacing: '1.25%',\n              color: '#262626'\n            },\n            children: block.question || `Blok ${index + 1}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2921,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2920,\n          columnNumber: 13\n        }, this), renderStepContent(block)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2917,\n        columnNumber: 9\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2915,\n      columnNumber: 5\n    }, this), !isSystemCard && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: '371px',\n        height: '85px',\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        paddingTop: '20px',\n        paddingBottom: '20px',\n        marginTop: 'auto'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: '78px',\n          height: '24px',\n          fontFamily: 'Roboto, sans-serif',\n          fontWeight: 400,\n          fontSize: '16px',\n          lineHeight: '150%',\n          letterSpacing: '0%',\n          color: '#262626'\n        },\n        children: [(() => {\n          const nonSystemCardsBeforeCurrent = allCardsWithSteps.slice(0, currentCardIndex).filter(card => !card.isSystem).length;\n          return nonSystemCardsBeforeCurrent + 1;\n        })(), \" z \", totalCards, \" krok\\u016F\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2955,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          // Check if this is the last step\n          const nonSystemCardsBeforeCurrent = allCardsWithSteps.slice(0, currentCardIndex).filter(card => !card.isSystem).length;\n          if (nonSystemCardsBeforeCurrent >= totalCards - 1) {\n            // Last step - show success screen\n            setShowSuccessScreen(true);\n          } else {\n            // Find next non-system card\n            const nextNonSystemIndex = allCardsWithSteps.findIndex((card, index) => index > currentCardIndex && !card.isSystem);\n            if (nextNonSystemIndex !== -1) {\n              setCurrentCardIndex(nextNonSystemIndex);\n            }\n          }\n        },\n        disabled: false,\n        style: {\n          width: (() => {\n            const nonSystemCardsBeforeCurrent = allCardsWithSteps.slice(0, currentCardIndex).filter(card => !card.isSystem).length;\n            return nonSystemCardsBeforeCurrent >= totalCards - 1 ? '201px' : '147px';\n          })(),\n          height: '56px',\n          gap: '20px',\n          paddingTop: '12px',\n          paddingRight: '20px',\n          paddingBottom: '13px',\n          paddingLeft: '20px',\n          borderRadius: '8px',\n          background: '#609352',\n          border: 'none',\n          color: 'white',\n          cursor: 'pointer',\n          fontFamily: 'Roboto, sans-serif',\n          fontWeight: 700,\n          fontSize: '20px',\n          lineHeight: '150%',\n          letterSpacing: '3%'\n        },\n        children: (() => {\n          const nonSystemCardsBeforeCurrent = allCardsWithSteps.slice(0, currentCardIndex).filter(card => !card.isSystem).length;\n          return nonSystemCardsBeforeCurrent >= totalCards - 1 ? 'Odeslat dotazník' : 'Pokračovat';\n        })()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2974,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2945,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 2867,\n    columnNumber: 3\n  }, this);\n};\n\n// Building Blocks Palette Component\n_s7(SurveyPreview, \"axjY1f1zzkqj0SM7jPRhF7Tv3xU=\");\n_c8 = SurveyPreview;\nconst BuildingBlocksPalette = () => {\n  const buildingBlocks = [{\n    id: 'smiley',\n    name: '5-bodové hodnocení',\n    icon: '😊',\n    description: 'Hodnocení pomocí smajlíků (1-5)',\n    color: '#ffd54f'\n  }, {\n    id: 'single-choice',\n    name: 'Jednoduché výběr',\n    icon: '📝',\n    description: 'Výběr jedné možnosti ze seznamu',\n    color: '#81c784'\n  }, {\n    id: 'dropdown-multiselect',\n    name: 'Vícenásobný výběr',\n    icon: '☑️',\n    description: 'Výběr více možností (dropdown)',\n    color: '#64b5f6'\n  }, {\n    id: 'text',\n    name: 'Textové pole',\n    icon: '📄',\n    description: 'Volný text nebo komentář',\n    color: '#a1887f'\n  }, {\n    id: 'section-header',\n    name: 'Nadpis sekce',\n    icon: '📋',\n    description: 'Název sekce nebo popisný text',\n    color: '#ffb74d'\n  }];\n  const handleDragStart = (e, blockType) => {\n    e.dataTransfer.setData('application/json', JSON.stringify({\n      type: 'building-block',\n      blockType: blockType\n    }));\n    e.dataTransfer.effectAllowed = 'copy';\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: buildingBlocks.map(block => /*#__PURE__*/_jsxDEV(\"div\", {\n      draggable: true,\n      onDragStart: e => handleDragStart(e, block.id),\n      style: {\n        backgroundColor: 'white',\n        border: '2px solid #dee2e6',\n        borderRadius: '8px',\n        padding: '15px',\n        marginBottom: '12px',\n        cursor: 'grab',\n        transition: 'all 0.2s ease',\n        boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\n      },\n      onMouseEnter: e => {\n        e.target.style.transform = 'translateY(-2px)';\n        e.target.style.boxShadow = '0 4px 8px rgba(0,0,0,0.15)';\n        e.target.style.borderColor = block.color;\n      },\n      onMouseLeave: e => {\n        e.target.style.transform = 'translateY(0)';\n        e.target.style.boxShadow = '0 2px 4px rgba(0,0,0,0.1)';\n        e.target.style.borderColor = '#dee2e6';\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          marginBottom: '8px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            fontSize: '24px',\n            marginRight: '12px',\n            backgroundColor: block.color + '20',\n            padding: '8px',\n            borderRadius: '6px'\n          },\n          children: block.icon\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3110,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            flex: 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            style: {\n              margin: '0 0 4px 0',\n              color: '#495057',\n              fontSize: '14px'\n            },\n            children: block.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3122,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n            style: {\n              color: '#6c757d',\n              fontSize: '12px'\n            },\n            children: block.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3125,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3121,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 3109,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: '11px',\n          color: '#6c757d',\n          fontStyle: 'italic',\n          textAlign: 'center',\n          borderTop: '1px solid #f0f0f0',\n          paddingTop: '8px',\n          marginTop: '8px'\n        },\n        children: \"\\uD83D\\uDDB1\\uFE0F P\\u0159et\\xE1hnout do pr\\u016Fzkumu\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3130,\n        columnNumber: 11\n      }, this)]\n    }, block.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 3084,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 3082,\n    columnNumber: 5\n  }, this);\n};\n\n// Survey Canvas Component\n_c9 = BuildingBlocksPalette;\nconst SurveyCanvas = ({\n  steps,\n  onStepsChange,\n  onEditStep,\n  onDeleteStep,\n  cardInfo,\n  canEdit,\n  isAdmin\n}) => {\n  _s8();\n  const [dragOverIndex, setDragOverIndex] = React.useState(null);\n  const [draggedStepIndex, setDraggedStepIndex] = React.useState(null);\n  const handleDragOver = (e, index) => {\n    e.preventDefault();\n    e.dataTransfer.dropEffect = 'copy';\n    setDragOverIndex(index);\n  };\n  const handleDrop = (e, dropIndex) => {\n    e.preventDefault();\n\n    // Check if editing is allowed\n    if (!canEdit) {\n      alert(cardInfo !== null && cardInfo !== void 0 && cardInfo.isAdminOnly ? 'Tato sekce může být upravována pouze administrátorem' : 'Tato sekce není editovatelná');\n      setDragOverIndex(null);\n      setDraggedStepIndex(null);\n      return;\n    }\n    const data = e.dataTransfer.getData('application/json');\n    try {\n      const dragData = JSON.parse(data);\n      if (dragData.type === 'building-block') {\n        // Adding new block from palette\n        const newStep = {\n          id: Date.now(),\n          type: dragData.blockType,\n          question: getDefaultQuestion(dragData.blockType),\n          options: getDefaultOptions(dragData.blockType),\n          required: true,\n          conditional: false\n        };\n        const newSteps = [...steps];\n        newSteps.splice(dropIndex, 0, newStep);\n        onStepsChange(newSteps);\n      } else if (dragData.type === 'existing-step') {\n        // Reordering existing steps\n        const dragIndex = dragData.index;\n        if (dragIndex !== dropIndex) {\n          const newSteps = [...steps];\n          const draggedItem = newSteps[dragIndex];\n          newSteps.splice(dragIndex, 1);\n          const actualDropIndex = dragIndex < dropIndex ? dropIndex - 1 : dropIndex;\n          newSteps.splice(actualDropIndex, 0, draggedItem);\n          onStepsChange(newSteps);\n        }\n      }\n    } catch (error) {\n      console.error('Error parsing drag data:', error);\n    }\n    setDragOverIndex(null);\n    setDraggedStepIndex(null);\n  };\n  const handleStepDragStart = (e, index) => {\n    e.dataTransfer.setData('application/json', JSON.stringify({\n      type: 'existing-step',\n      index: index\n    }));\n    e.dataTransfer.effectAllowed = 'move';\n    setDraggedStepIndex(index);\n  };\n  const getDefaultQuestion = blockType => {\n    switch (blockType) {\n      case 'smiley':\n        return 'Jak hodnotíte naši službu?';\n      case 'single-choice':\n        return 'Vyberte jednu možnost:';\n      case 'dropdown-multiselect':\n        return 'Vyberte všechny vhodné možnosti:';\n      case 'text':\n        return 'Váš komentář nebo připomínka:';\n      case 'section-header':\n        return 'Název sekce';\n      default:\n        return 'Nová otázka';\n    }\n  };\n  const getDefaultOptions = blockType => {\n    switch (blockType) {\n      case 'single-choice':\n        return ['Možnost 1', 'Možnost 2', 'Možnost 3'];\n      case 'dropdown-multiselect':\n        return ['Možnost A', 'Možnost B', 'Možnost C'];\n      default:\n        return [];\n    }\n  };\n\n  // Create drop zones between steps and at the end\n  const dropZones = [];\n  for (let i = 0; i <= steps.length; i++) {\n    dropZones.push(/*#__PURE__*/_jsxDEV(\"div\", {\n      onDragOver: e => handleDragOver(e, i),\n      onDrop: e => handleDrop(e, i),\n      onDragLeave: () => setDragOverIndex(null),\n      style: {\n        height: dragOverIndex === i ? '40px' : '20px',\n        backgroundColor: dragOverIndex === i ? '#e3f2fd' : 'transparent',\n        border: dragOverIndex === i ? '2px dashed #2196f3' : '2px dashed transparent',\n        borderRadius: '8px',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        transition: 'all 0.2s ease',\n        margin: '5px 0'\n      },\n      children: dragOverIndex === i && /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          color: '#2196f3',\n          fontSize: '12px',\n          fontWeight: 'bold'\n        },\n        children: \"\\u2B07\\uFE0F Upustit zde\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3258,\n        columnNumber: 11\n      }, this)\n    }, `drop-${i}`, false, {\n      fileName: _jsxFileName,\n      lineNumber: 3240,\n      columnNumber: 7\n    }, this));\n\n    // Add step card after each drop zone (except the last one)\n    if (i < steps.length) {\n      dropZones.push(/*#__PURE__*/_jsxDEV(SurveyStepCard, {\n        step: steps[i],\n        index: i,\n        onEdit: canEdit ? () => onEditStep(steps[i]) : undefined,\n        onDelete: canEdit ? () => onDeleteStep(steps[i].id) : undefined,\n        onDragStart: canEdit ? handleStepDragStart : undefined,\n        isDragging: draggedStepIndex === i,\n        isInCanvas: true,\n        canEdit: canEdit\n      }, steps[i].id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3268,\n        columnNumber: 9\n      }, this));\n    }\n  }\n  const getEmptyStateContent = () => {\n    if (!canEdit) {\n      return {\n        icon: '🔒',\n        title: cardInfo !== null && cardInfo !== void 0 && cardInfo.isAdminOnly ? 'Sekce pouze pro administrátory' : 'Sekce jen pro čtení',\n        message: cardInfo !== null && cardInfo !== void 0 && cardInfo.isAdminOnly ? 'Tato sekce může být upravována pouze administrátorem' : 'Tato sekce není editovatelná, ale můžete si prohlédnout její obsah'\n      };\n    }\n    if (dragOverIndex === 0) {\n      return {\n        icon: '⬇️',\n        title: 'Upustit zde!',\n        message: 'Vytvořte svůj první blok v tomto kroku'\n      };\n    }\n    return {\n      icon: '📋',\n      title: 'Prázdný krok',\n      message: 'Přetáhněte stavební bloky sem pro vytvoření obsahu tohoto kroku'\n    };\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '20px',\n      minHeight: '400px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: '20px',\n        padding: '15px',\n        backgroundColor: cardInfo !== null && cardInfo !== void 0 && cardInfo.isAdminOnly ? '#fff3cd' : '#e7f3ff',\n        border: `1px solid ${cardInfo !== null && cardInfo !== void 0 && cardInfo.isAdminOnly ? '#ffeaa7' : '#b3d7ff'}`,\n        borderRadius: '6px'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            style: {\n              margin: '0 0 4px 0',\n              color: '#495057'\n            },\n            children: [cardInfo === null || cardInfo === void 0 ? void 0 : cardInfo.title, \" - Krok pr\\u016Fzkumu\", (cardInfo === null || cardInfo === void 0 ? void 0 : cardInfo.isAdminOnly) && /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                marginLeft: '8px',\n                fontSize: '11px',\n                backgroundColor: '#dc3545',\n                color: 'white',\n                padding: '2px 6px',\n                borderRadius: '3px'\n              },\n              children: \"ADMIN ONLY\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3324,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3321,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n            style: {\n              color: '#6c757d'\n            },\n            children: cardInfo === null || cardInfo === void 0 ? void 0 : cardInfo.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3336,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3320,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            gap: '10px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              backgroundColor: '#6c757d',\n              color: 'white',\n              padding: '4px 8px',\n              borderRadius: '12px',\n              fontSize: '12px',\n              fontWeight: 'bold'\n            },\n            children: [steps.length, \" \", steps.length === 1 ? 'blok' : steps.length < 5 ? 'bloky' : 'bloků']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3343,\n            columnNumber: 26\n          }, this), !canEdit && /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              fontSize: '20px'\n            },\n            children: \"\\uD83D\\uDD12\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3353,\n            columnNumber: 26\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3338,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 3319,\n        columnNumber: 18\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 3312,\n      columnNumber: 7\n    }, this), steps.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      onDragOver: canEdit ? e => handleDragOver(e, 0) : undefined,\n      onDrop: canEdit ? e => handleDrop(e, 0) : undefined,\n      onDragLeave: canEdit ? () => setDragOverIndex(null) : undefined,\n      style: {\n        textAlign: 'center',\n        padding: '80px 20px',\n        border: `3px dashed ${canEdit && dragOverIndex === 0 ? '#2196f3' : '#dee2e6'}`,\n        borderRadius: '12px',\n        backgroundColor: canEdit && dragOverIndex === 0 ? '#e3f2fd' : '#f8f9fa',\n        color: '#6c757d',\n        transition: 'all 0.3s ease',\n        opacity: canEdit ? 1 : 0.7\n      },\n      children: (() => {\n        const content = getEmptyStateContent();\n        return /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '48px',\n              marginBottom: '20px'\n            },\n            children: content.icon\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3378,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            style: {\n              margin: '0 0 10px 0'\n            },\n            children: content.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3381,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              margin: 0\n            },\n            children: content.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3384,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true);\n      })()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 3359,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        opacity: canEdit ? 1 : 0.8\n      },\n      children: dropZones\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 3392,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 3310,\n    columnNumber: 5\n  }, this);\n};\n\n// Survey Card Manager Component\n_s8(SurveyCanvas, \"2EZOqrssXAxHmndA5Rf3w3aQEwE=\");\n_c0 = SurveyCanvas;\nconst SurveyCardManager = ({\n  survey,\n  activeCardIndex,\n  onActiveCardChange,\n  onSurveyChange,\n  onEditStep,\n  onDeleteStep,\n  user,\n  globalMode = false\n}) => {\n  _s9();\n  const navigate = useNavigate();\n  const isAdmin = (user === null || user === void 0 ? void 0 : user.role) === 'admin';\n  const handleStepsChange = (cardIndex, newSteps) => {\n    onSurveyChange(prev => ({\n      ...prev,\n      cards: prev.cards.map((card, index) => index === cardIndex ? {\n        ...card,\n        steps: newSteps\n      } : card)\n    }));\n  };\n  const canEditCard = card => {\n    if (card.isGlobal && !globalMode) {\n      return false; // Global cards are not editable in regular survey creator\n    }\n    if (card.isAdminOnly) {\n      return isAdmin;\n    }\n    return card.isEditable;\n  };\n  const handleCardClick = cardIndex => {\n    const card = survey.cards[cardIndex];\n\n    // Show warning for global sections in regular mode\n    if (!globalMode && (card.id === 2 || card.id === 4)) {\n      if (isAdmin) {\n        const shouldRedirect = window.confirm(`Pokoušíte se editovat globální sekci \"${card.title}\".\\n\\n` + `Pro lepší správu globálních sekcí doporučujeme použít dedikovanou stránku \"Global Surveys\".\\n\\n` + `Chcete přejít na Global Surveys nyní?`);\n        if (shouldRedirect) {\n          navigate('/global-surveys');\n          return;\n        }\n      } else {\n        alert(`Sekce \"${card.title}\" je globální a spravuje ji administrátor.\\n\\n` + `Tato sekce je automaticky zahrnuta do všech dotazníků a nelze ji zde upravovat.`);\n        return;\n      }\n    }\n    onActiveCardChange(cardIndex);\n  };\n  const canDeleteCard = (card, cardIndex) => {\n    // Cannot delete system cards or admin cards\n    // Cannot delete if it's the only user card\n    const userCards = survey.cards.filter(c => !c.isAdminOnly && !c.isSystem);\n    return !card.isAdminOnly && !card.isSystem && userCards.length > 1;\n  };\n  const addNewCard = () => {\n    const userCards = survey.cards.filter(c => !c.isAdminOnly && !c.isSystem);\n    const newCardNumber = userCards.length + 1;\n    const lastAdminCardIndex = survey.cards.length - 1; // Last card is always admin \"Závěrečná sekce\"\n\n    const newCard = {\n      id: Date.now(),\n      title: `Krok ${newCardNumber}`,\n      description: `Uživatelská sekce ${newCardNumber}`,\n      isAdminOnly: false,\n      isEditable: true,\n      steps: []\n    };\n    onSurveyChange(prev => {\n      const newCards = [...prev.cards];\n      // Insert before the last admin card\n      newCards.splice(lastAdminCardIndex, 0, newCard);\n      return {\n        ...prev,\n        cards: newCards\n      };\n    });\n  };\n  const deleteCard = cardIndex => {\n    const card = survey.cards[cardIndex];\n    if (!canDeleteCard(card, cardIndex)) return;\n    if (window.confirm(`Opravdu chcete smazat \"${card.title}\"? Všechny bloky v této sekci budou ztraceny.`)) {\n      onSurveyChange(prev => ({\n        ...prev,\n        cards: prev.cards.filter((_, index) => index !== cardIndex)\n      }));\n\n      // Adjust active card index if needed\n      if (activeCardIndex === cardIndex) {\n        // Move to the previous card or first editable card\n        const newActiveIndex = cardIndex > 0 ? cardIndex - 1 : 0;\n        onActiveCardChange(newActiveIndex);\n      } else if (activeCardIndex > cardIndex) {\n        onActiveCardChange(activeCardIndex - 1);\n      }\n    }\n  };\n  const renameCard = (cardIndex, newTitle) => {\n    onSurveyChange(prev => ({\n      ...prev,\n      cards: prev.cards.map((card, index) => index === cardIndex ? {\n        ...card,\n        title: newTitle\n      } : card)\n    }));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'column',\n      height: '100%'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundColor: '#f8f9fa',\n        padding: '12px 20px',\n        borderBottom: '2px solid #dee2e6',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        gap: '15px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          gap: '10px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            fontWeight: 'bold',\n            color: '#495057',\n            fontSize: '14px'\n          },\n          children: \"\\uD83D\\uDCCB Spr\\xE1va krok\\u016F:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3527,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: addNewCard,\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            gap: '5px',\n            padding: '8px 12px',\n            backgroundColor: '#28a745',\n            color: 'white',\n            border: 'none',\n            borderRadius: '4px',\n            fontSize: '13px',\n            fontWeight: 'bold',\n            cursor: 'pointer',\n            transition: 'all 0.2s ease'\n          },\n          onMouseEnter: e => e.target.style.backgroundColor = '#218838',\n          onMouseLeave: e => e.target.style.backgroundColor = '#28a745',\n          title: \"P\\u0159idat nov\\xFD krok mezi u\\u017Eivatelsk\\xE9 sekce\",\n          children: \"\\u2795 P\\u0159idat krok\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3535,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 3526,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          gap: '15px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"small\", {\n          style: {\n            color: '#6c757d',\n            fontSize: '12px'\n          },\n          children: \"\\uD83D\\uDCA1 Tip: Kliknut\\xEDm na krok ho aktivujete, syst\\xE9mov\\xE9 kroky \\uD83D\\uDD12 m\\u016F\\u017Ee editovat pouze admin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3560,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            backgroundColor: '#e9ecef',\n            padding: '4px 8px',\n            borderRadius: '4px',\n            fontSize: '12px',\n            fontWeight: 'bold',\n            color: '#495057'\n          },\n          children: [survey.cards.filter(card => !card.isSystem).length, \" \", survey.cards.filter(card => !card.isSystem).length === 1 ? 'krok' : survey.cards.filter(card => !card.isSystem).length < 5 ? 'kroky' : 'kroků']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3564,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 3559,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 3517,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        borderBottom: '1px solid #dee2e6',\n        backgroundColor: '#f8f9fa',\n        borderRadius: '0'\n      },\n      children: survey.cards.filter(card => !card.isSystem) // Hide system cards from the interface\n      .map((card, filteredIndex) => {\n        // Find the original index in the unfiltered array\n        const originalIndex = survey.cards.findIndex(c => c.id === card.id);\n        return /*#__PURE__*/_jsxDEV(CardTab, {\n          card: card,\n          index: originalIndex,\n          isActive: activeCardIndex === originalIndex,\n          canEdit: canEditCard(card),\n          canDelete: canDeleteCard(card, originalIndex),\n          isAdmin: isAdmin,\n          onClick: () => handleCardClick(originalIndex),\n          onDelete: () => deleteCard(originalIndex),\n          onRename: newTitle => renameCard(originalIndex, newTitle)\n        }, card.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3590,\n          columnNumber: 15\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 3578,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        flex: 1,\n        backgroundColor: 'white'\n      },\n      children: survey.cards[activeCardIndex] && /*#__PURE__*/_jsxDEV(SurveyCanvas, {\n        steps: survey.cards[activeCardIndex].steps,\n        onStepsChange: newSteps => handleStepsChange(activeCardIndex, newSteps),\n        onEditStep: onEditStep,\n        onDeleteStep: stepId => onDeleteStep(stepId, activeCardIndex),\n        cardInfo: survey.cards[activeCardIndex],\n        canEdit: canEditCard(survey.cards[activeCardIndex]),\n        isAdmin: isAdmin\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3609,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 3607,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 3515,\n    columnNumber: 5\n  }, this);\n};\n\n// New CardTab component for individual card management\n_s9(SurveyCardManager, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});\n_c1 = SurveyCardManager;\nconst CardTab = ({\n  card,\n  index,\n  isActive,\n  canEdit,\n  canDelete,\n  isAdmin,\n  onClick,\n  onDelete,\n  onRename\n}) => {\n  _s0();\n  const [isEditing, setIsEditing] = React.useState(false);\n  const [editTitle, setEditTitle] = React.useState(card.title);\n  const handleDoubleClick = () => {\n    if (canEdit && !card.isAdminOnly) {\n      setIsEditing(true);\n      setEditTitle(card.title);\n    }\n  };\n  const handleKeyPress = e => {\n    if (e.key === 'Enter') {\n      handleSaveEdit();\n    } else if (e.key === 'Escape') {\n      setIsEditing(false);\n      setEditTitle(card.title);\n    }\n  };\n  const handleSaveEdit = () => {\n    if (editTitle.trim() && editTitle !== card.title) {\n      onRename(editTitle.trim());\n    }\n    setIsEditing(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    onClick: !isEditing ? onClick : undefined,\n    onDoubleClick: handleDoubleClick,\n    style: {\n      flex: 1,\n      padding: '15px 20px',\n      cursor: isEditing ? 'default' : 'pointer',\n      backgroundColor: isActive ? '#007bff' : 'transparent',\n      color: isActive ? 'white' : card.isAdminOnly && !isAdmin ? '#999' : '#495057',\n      borderBottom: isActive ? '3px solid #0056b3' : '3px solid transparent',\n      transition: 'all 0.2s ease',\n      opacity: card.isAdminOnly && !isAdmin ? 0.6 : 1,\n      position: 'relative',\n      minWidth: '180px'\n    },\n    onMouseEnter: e => {\n      if (!isActive && (canEdit || !card.isAdminOnly) && !isEditing) {\n        e.target.style.backgroundColor = '#e9ecef';\n      }\n    },\n    onMouseLeave: e => {\n      if (!isActive && !isEditing) {\n        e.target.style.backgroundColor = 'transparent';\n      }\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          flex: 1\n        },\n        children: [isEditing ? /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: editTitle,\n          onChange: e => setEditTitle(e.target.value),\n          onBlur: handleSaveEdit,\n          onKeyDown: handleKeyPress,\n          style: {\n            backgroundColor: 'white',\n            color: '#000',\n            border: '2px solid #007bff',\n            borderRadius: '3px',\n            padding: '4px 8px',\n            fontSize: '14px',\n            fontWeight: 'bold',\n            width: '100%',\n            outline: 'none'\n          },\n          autoFocus: true,\n          onClick: e => e.stopPropagation()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3682,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"h5\", {\n          style: {\n            margin: '0 0 4px 0',\n            fontSize: '14px',\n            fontWeight: 'bold'\n          },\n          children: [card.title, card.isAdminOnly && /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              marginLeft: '8px',\n              fontSize: '12px',\n              backgroundColor: '#dc3545',\n              color: 'white',\n              padding: '2px 6px',\n              borderRadius: '3px'\n            },\n            children: \"Admin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3706,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3703,\n          columnNumber: 13\n        }, this), !isEditing && /*#__PURE__*/_jsxDEV(\"small\", {\n          style: {\n            opacity: 0.8,\n            fontSize: '11px',\n            display: 'block'\n          },\n          children: card.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3721,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 3680,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'flex-end',\n          gap: '2px',\n          marginLeft: '10px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            backgroundColor: isActive ? 'rgba(255,255,255,0.2)' : '#6c757d',\n            color: 'white',\n            borderRadius: '12px',\n            padding: '2px 8px',\n            fontSize: '11px',\n            fontWeight: 'bold'\n          },\n          children: [\"Krok \", index + 1]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3732,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            backgroundColor: isActive ? 'rgba(255,255,255,0.1)' : '#28a745',\n            color: 'white',\n            borderRadius: '8px',\n            padding: '1px 6px',\n            fontSize: '10px',\n            fontWeight: 'bold'\n          },\n          children: [card.steps.length, \" \", card.steps.length === 1 ? 'blok' : card.steps.length < 5 ? 'bloky' : 'bloků']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3743,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 3731,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 3679,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        top: '4px',\n        right: '4px',\n        display: 'flex',\n        gap: '4px',\n        opacity: isActive ? 1 : 0.7\n      },\n      children: [!canEdit && /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          fontSize: '16px'\n        },\n        children: \"\\uD83D\\uDD12\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3766,\n        columnNumber: 11\n      }, this), canDelete && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: e => {\n          e.stopPropagation();\n          onDelete();\n        },\n        style: {\n          background: 'none',\n          border: 'none',\n          fontSize: '14px',\n          cursor: 'pointer',\n          padding: '2px',\n          borderRadius: '2px',\n          color: isActive ? 'rgba(255,255,255,0.8)' : '#dc3545'\n        },\n        title: \"Smazat tento krok\",\n        onMouseEnter: e => e.target.style.backgroundColor = 'rgba(220, 53, 69, 0.1)',\n        onMouseLeave: e => e.target.style.backgroundColor = 'transparent',\n        children: \"\\u274C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3770,\n        columnNumber: 11\n      }, this), canEdit && !card.isAdminOnly && !isEditing && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: e => {\n          e.stopPropagation();\n          handleDoubleClick();\n        },\n        style: {\n          background: 'none',\n          border: 'none',\n          fontSize: '12px',\n          cursor: 'pointer',\n          padding: '2px',\n          borderRadius: '2px',\n          color: isActive ? 'rgba(255,255,255,0.8)' : '#6c757d'\n        },\n        title: \"P\\u0159ejmenovat krok (nebo dvojklik)\",\n        onMouseEnter: e => e.target.style.backgroundColor = 'rgba(108, 117, 125, 0.1)',\n        onMouseLeave: e => e.target.style.backgroundColor = 'transparent',\n        children: \"\\u270F\\uFE0F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3793,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 3757,\n      columnNumber: 7\n    }, this), !isEditing && canEdit && !card.isAdminOnly && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        bottom: '2px',\n        left: '50%',\n        transform: 'translateX(-50%)',\n        fontSize: '9px',\n        opacity: 0.6,\n        color: isActive ? 'rgba(255,255,255,0.6)' : '#6c757d'\n      },\n      children: \"Dvojklik = p\\u0159ejmenovat\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 3817,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 3653,\n    columnNumber: 5\n  }, this);\n};\n\n// Wrapper component to handle URL parameters\n_s0(CardTab, \"7bqWmh2AMxZz67jXf2FSUs0EuDs=\");\n_c10 = CardTab;\nconst SurveyCreatorWithParams = () => {\n  _s1();\n  const {\n    surveyId\n  } = useParams();\n  return /*#__PURE__*/_jsxDEV(SurveyCreator, {\n    editingSurveyId: surveyId\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 3836,\n    columnNumber: 10\n  }, this);\n};\n\n// Wrapper component for Global Surveys mode\n_s1(SurveyCreatorWithParams, \"MdB8Sr1WnEWzxZzD0EGOcNwQx4g=\", false, function () {\n  return [useParams];\n});\n_c11 = SurveyCreatorWithParams;\nconst GlobalSurveysCreator = () => {\n  return /*#__PURE__*/_jsxDEV(SurveyCreator, {\n    globalMode: true\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 3841,\n    columnNumber: 10\n  }, this);\n};\n_c12 = GlobalSurveysCreator;\nconst SurveyList = () => {\n  _s10();\n  const {\n    user\n  } = useAuth();\n  const navigate = useNavigate();\n  const [surveys, setSurveys] = React.useState([]);\n  const [loading, setLoading] = React.useState(true);\n  const [error, setError] = React.useState(null);\n\n  // Fetch surveys\n  React.useEffect(() => {\n    fetchSurveys();\n  }, []);\n  const fetchSurveys = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const response = await fetch('/api/surveys', {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        setSurveys(data.surveys || []);\n      } else {\n        throw new Error('Chyba při načítání dotazníků');\n      }\n    } catch (error) {\n      console.error('Error fetching surveys:', error);\n      setError(error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleEdit = survey => {\n    navigate(`/survey-creator/edit/${survey.id}`);\n  };\n  const handleDelete = async (surveyId, surveyTitle) => {\n    if (window.confirm(`Opravdu chcete smazat dotazník \"${surveyTitle}\"?`)) {\n      try {\n        const response = await fetch(`/api/surveys/${surveyId}`, {\n          method: 'DELETE',\n          headers: {\n            'Authorization': `Bearer ${localStorage.getItem('token')}`\n          }\n        });\n        if (response.ok) {\n          await fetchSurveys();\n          alert('Dotazník byl smazán');\n        } else {\n          throw new Error('Chyba při mazání dotazníku');\n        }\n      } catch (error) {\n        console.error('Error deleting survey:', error);\n        alert('Chyba při mazání dotazníku: ' + error.message);\n      }\n    }\n  };\n  const getStatusColor = status => {\n    switch (status) {\n      case 'active':\n        return '#28a745';\n      case 'draft':\n        return '#6c757d';\n      case 'paused':\n        return '#ffc107';\n      case 'completed':\n        return '#17a2b8';\n      default:\n        return '#6c757d';\n    }\n  };\n  const getStatusText = status => {\n    switch (status) {\n      case 'active':\n        return 'Aktivní';\n      case 'draft':\n        return 'Koncept';\n      case 'paused':\n        return 'Pozastaveno';\n      case 'completed':\n        return 'Dokončeno';\n      default:\n        return status;\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '20px'\n      },\n      children: \"Na\\u010D\\xEDt\\xE1n\\xED dotazn\\xEDk\\u016F...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 3931,\n      columnNumber: 12\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: 'red',\n          marginBottom: '10px'\n        },\n        children: [\"Chyba: \", error]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 3937,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: fetchSurveys,\n        style: {\n          padding: '8px 16px',\n          backgroundColor: '#007bff',\n          color: 'white',\n          border: 'none',\n          borderRadius: '4px'\n        },\n        children: \"Zkusit znovu\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3938,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 3936,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '20px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        marginBottom: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Seznam dotazn\\xEDk\\u016F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3948,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: '14px',\n          color: '#6c757d'\n        },\n        children: (user === null || user === void 0 ? void 0 : user.role) === 'admin' ? 'Zobrazeny všechny dotazníky' : 'Zobrazeny vaše dotazníky'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3949,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 3947,\n      columnNumber: 7\n    }, this), surveys.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: 'center',\n        padding: '40px',\n        color: '#6c757d'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u017D\\xE1dn\\xE9 dotazn\\xEDky nebyly nalezeny.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3956,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Za\\u010Dn\\u011Bte vytvo\\u0159en\\xEDm nov\\xE9ho dotazn\\xEDku v Survey Creator.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3957,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 3955,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        overflowX: 'auto'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        style: {\n          width: '100%',\n          borderCollapse: 'collapse',\n          marginTop: '10px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            style: {\n              backgroundColor: '#f8f9fa'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                padding: '12px',\n                textAlign: 'left',\n                border: '1px solid #dee2e6',\n                fontWeight: 'bold'\n              },\n              children: \"N\\xE1zev\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3964,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                padding: '12px',\n                textAlign: 'left',\n                border: '1px solid #dee2e6',\n                fontWeight: 'bold'\n              },\n              children: \"Vlastn\\xEDk\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3965,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                padding: '12px',\n                textAlign: 'left',\n                border: '1px solid #dee2e6',\n                fontWeight: 'bold'\n              },\n              children: \"Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3966,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                padding: '12px',\n                textAlign: 'center',\n                border: '1px solid #dee2e6',\n                fontWeight: 'bold'\n              },\n              children: \"Aktivn\\xED tokeny\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3967,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                padding: '12px',\n                textAlign: 'left',\n                border: '1px solid #dee2e6',\n                fontWeight: 'bold'\n              },\n              children: \"Vytvo\\u0159eno\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3968,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                padding: '12px',\n                textAlign: 'left',\n                border: '1px solid #dee2e6',\n                fontWeight: 'bold'\n              },\n              children: \"Upraveno\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3969,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                padding: '12px',\n                textAlign: 'center',\n                border: '1px solid #dee2e6',\n                fontWeight: 'bold'\n              },\n              children: \"Akce\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3970,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3963,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3962,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: surveys.map(survey => /*#__PURE__*/_jsxDEV(\"tr\", {\n            style: {\n              backgroundColor: survey.id % 2 === 0 ? '#f9f9f9' : 'white'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                padding: '12px',\n                border: '1px solid #dee2e6'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontWeight: 'bold',\n                  marginBottom: '4px'\n                },\n                children: survey.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3977,\n                columnNumber: 21\n              }, this), survey.description && /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '12px',\n                  color: '#6c757d',\n                  maxWidth: '200px',\n                  overflow: 'hidden',\n                  textOverflow: 'ellipsis'\n                },\n                children: survey.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3979,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3976,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                padding: '12px',\n                border: '1px solid #dee2e6'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontWeight: 'bold'\n                },\n                children: survey.owner_username\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3985,\n                columnNumber: 21\n              }, this), (user === null || user === void 0 ? void 0 : user.role) === 'admin' && survey.user_id !== user.id && /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '11px',\n                  color: '#dc3545',\n                  fontWeight: 'bold'\n                },\n                children: \"CIZ\\xCD\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3987,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3984,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                padding: '12px',\n                border: '1px solid #dee2e6'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  padding: '4px 8px',\n                  borderRadius: '12px',\n                  backgroundColor: getStatusColor(survey.status),\n                  color: 'white',\n                  fontSize: '12px',\n                  fontWeight: 'bold'\n                },\n                children: getStatusText(survey.status)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3991,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3990,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                padding: '12px',\n                border: '1px solid #dee2e6',\n                textAlign: 'center'\n              },\n              children: [survey.is_active ? /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  padding: '4px 8px',\n                  borderRadius: '12px',\n                  backgroundColor: '#28a745',\n                  color: 'white',\n                  fontSize: '12px',\n                  fontWeight: 'bold'\n                },\n                children: \"AKTIVN\\xCD\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4004,\n                columnNumber: 23\n              }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  padding: '4px 8px',\n                  borderRadius: '12px',\n                  backgroundColor: '#6c757d',\n                  color: 'white',\n                  fontSize: '12px'\n                },\n                children: \"NEAKTIVN\\xCD\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4015,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '11px',\n                  color: '#6c757d',\n                  marginTop: '2px'\n                },\n                children: [survey.token_count || 0, \" token\\u016F\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 4025,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 4002,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                padding: '12px',\n                border: '1px solid #dee2e6',\n                fontSize: '13px'\n              },\n              children: [new Date(survey.created_at).toLocaleDateString('cs-CZ', {\n                day: '2-digit',\n                month: '2-digit',\n                year: 'numeric'\n              }), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '11px',\n                  color: '#6c757d'\n                },\n                children: new Date(survey.created_at).toLocaleTimeString('cs-CZ', {\n                  hour: '2-digit',\n                  minute: '2-digit'\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4035,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 4029,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                padding: '12px',\n                border: '1px solid #dee2e6',\n                fontSize: '13px'\n              },\n              children: [new Date(survey.updated_at).toLocaleDateString('cs-CZ', {\n                day: '2-digit',\n                month: '2-digit',\n                year: 'numeric'\n              }), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '11px',\n                  color: '#6c757d'\n                },\n                children: new Date(survey.updated_at).toLocaleTimeString('cs-CZ', {\n                  hour: '2-digit',\n                  minute: '2-digit'\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4048,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 4042,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                padding: '12px',\n                border: '1px solid #dee2e6',\n                textAlign: 'center'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  flexDirection: 'column',\n                  gap: '4px',\n                  alignItems: 'center'\n                },\n                children: [((user === null || user === void 0 ? void 0 : user.role) === 'admin' || survey.user_id === (user === null || user === void 0 ? void 0 : user.id)) && /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handleEdit(survey),\n                    style: {\n                      padding: '4px 8px',\n                      backgroundColor: '#ffc107',\n                      border: 'none',\n                      borderRadius: '3px',\n                      fontSize: '12px',\n                      cursor: 'pointer',\n                      minWidth: '60px'\n                    },\n                    title: \"Upravit dotazn\\xEDk\",\n                    children: \"Upravit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4059,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handleDelete(survey.id, survey.title),\n                    style: {\n                      padding: '4px 8px',\n                      backgroundColor: '#dc3545',\n                      color: 'white',\n                      border: 'none',\n                      borderRadius: '3px',\n                      fontSize: '12px',\n                      cursor: 'pointer',\n                      minWidth: '60px'\n                    },\n                    title: \"Smazat dotazn\\xEDk\",\n                    children: \"Smazat\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4075,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true), (user === null || user === void 0 ? void 0 : user.role) !== 'admin' && survey.user_id !== (user === null || user === void 0 ? void 0 : user.id) && /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    fontSize: '12px',\n                    color: '#6c757d',\n                    fontStyle: 'italic'\n                  },\n                  children: \"Pouze zobrazen\\xED\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4095,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 4056,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4055,\n              columnNumber: 19\n            }, this)]\n          }, survey.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3975,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3973,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 3961,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 3960,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 3946,\n    columnNumber: 5\n  }, this);\n};\n_s10(SurveyList, \"MWX4MroRltCJHEaE3gvlmp+D0jo=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c13 = SurveyList;\nconst TokenList = () => {\n  _s11();\n  const {\n    user\n  } = useAuth();\n  const [tokens, setTokens] = React.useState([]);\n  const [surveys, setSurveys] = React.useState([]);\n  const [loading, setLoading] = React.useState(true);\n  const [error, setError] = React.useState(null);\n  const [showCreateForm, setShowCreateForm] = React.useState(false);\n  const [newToken, setNewToken] = React.useState({\n    surveyId: '',\n    allowedDomains: '',\n    validFrom: '',\n    validTo: ''\n  });\n\n  // Fetch tokens and surveys\n  React.useEffect(() => {\n    fetchTokens();\n    fetchSurveys();\n  }, []);\n  const fetchTokens = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const response = await fetch('/api/tokens', {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        setTokens(data.tokens || []);\n      } else {\n        throw new Error('Chyba při načítání tokenů');\n      }\n    } catch (error) {\n      console.error('Error fetching tokens:', error);\n      setError(error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const fetchSurveys = async () => {\n    try {\n      const response = await fetch('/api/surveys', {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        setSurveys(data.surveys || []);\n      }\n    } catch (error) {\n      console.error('Error fetching surveys:', error);\n    }\n  };\n  const handleCreateToken = async e => {\n    e.preventDefault();\n    if (!newToken.surveyId) {\n      alert('Vyberte prosím dotazník');\n      return;\n    }\n    try {\n      const response = await fetch('/api/tokens', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        },\n        body: JSON.stringify({\n          survey_id: newToken.surveyId,\n          allowed_domains: newToken.allowedDomains.split('\\n').filter(d => d.trim()),\n          valid_from: newToken.validFrom || null,\n          valid_until: newToken.validTo || null\n        })\n      });\n      if (response.ok) {\n        await fetchTokens();\n        setShowCreateForm(false);\n        setNewToken({\n          surveyId: '',\n          allowedDomains: '',\n          validFrom: '',\n          validTo: ''\n        });\n        alert('Token byl úspěšně vytvořen!');\n      } else {\n        const errorData = await response.json();\n        throw new Error(errorData.error || 'Chyba při vytváření tokenu');\n      }\n    } catch (error) {\n      console.error('Error creating token:', error);\n      alert('Chyba při vytváření tokenu: ' + error.message);\n    }\n  };\n  const handleToggleStatus = async (tokenId, currentStatus) => {\n    const newStatus = currentStatus === 'active' ? 'paused' : 'active';\n    const action = newStatus === 'active' ? 'obnovit' : 'pozastavit';\n    const endpoint = newStatus === 'active' ? 'resume' : 'pause';\n    if (window.confirm(`Opravdu chcete ${action} tento token?`)) {\n      try {\n        const response = await fetch(`/api/tokens/${tokenId}/${endpoint}`, {\n          method: 'PATCH',\n          headers: {\n            'Authorization': `Bearer ${localStorage.getItem('token')}`\n          }\n        });\n        if (response.ok) {\n          await fetchTokens();\n          alert(`Token byl ${newStatus === 'active' ? 'obnoven' : 'pozastaven'}`);\n        } else {\n          throw new Error('Chyba při změně statusu');\n        }\n      } catch (error) {\n        console.error('Error updating token:', error);\n        alert('Chyba při změně statusu: ' + error.message);\n      }\n    }\n  };\n  const handleDeleteToken = async (tokenId, tokenName) => {\n    if (window.confirm(`Opravdu chcete smazat token \"${tokenName}\"?`)) {\n      try {\n        const response = await fetch(`/api/tokens/${tokenId}`, {\n          method: 'DELETE',\n          headers: {\n            'Authorization': `Bearer ${localStorage.getItem('token')}`\n          }\n        });\n        if (response.ok) {\n          await fetchTokens();\n          alert('Token byl smazán');\n        } else {\n          throw new Error('Chyba při mazání tokenu');\n        }\n      } catch (error) {\n        console.error('Error deleting token:', error);\n        alert('Chyba při mazání tokenu: ' + error.message);\n      }\n    }\n  };\n  const copyToClipboard = text => {\n    navigator.clipboard.writeText(text).then(() => {\n      alert('Kód byl zkopírován do schránky!');\n    }).catch(() => {\n      alert('Chyba při kopírování do schránky');\n    });\n  };\n  const getStatusColor = status => {\n    return status === 'active' ? '#28a745' : '#6c757d';\n  };\n  const getStatusText = status => {\n    return status === 'active' ? 'Aktivní' : 'Pozastaveno';\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '20px'\n      },\n      children: \"Na\\u010D\\xEDt\\xE1n\\xED token\\u016F...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 4279,\n      columnNumber: 12\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: 'red',\n          marginBottom: '10px'\n        },\n        children: [\"Chyba: \", error]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 4285,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: fetchTokens,\n        style: {\n          padding: '8px 16px',\n          backgroundColor: '#007bff',\n          color: 'white',\n          border: 'none',\n          borderRadius: '4px'\n        },\n        children: \"Zkusit znovu\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 4286,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 4284,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '20px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        marginBottom: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Survey Tokenisation\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 4296,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: '14px',\n          color: '#6c757d'\n        },\n        children: (user === null || user === void 0 ? void 0 : user.role) === 'admin' ? 'Zobrazeny všechny tokeny' : 'Zobrazeny vaše tokeny'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 4297,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 4295,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundColor: '#e3f2fd',\n        border: '1px solid #2196f3',\n        borderRadius: '8px',\n        padding: '16px',\n        marginBottom: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          marginBottom: '8px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            fontSize: '20px',\n            marginRight: '8px'\n          },\n          children: \"\\uD83D\\uDCE1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 4310,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n          style: {\n            color: '#1976d2'\n          },\n          children: \"EMBEDOV\\xC1N\\xCD WIDGET\\u016E\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 4311,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 4309,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          margin: '0',\n          color: '#1976d2',\n          fontSize: '14px'\n        },\n        children: \"Vytvo\\u0159te tokeny pro embedov\\xE1n\\xED dotazn\\xEDk\\u016F na extern\\xED weby. Ka\\u017Ed\\xFD token generuje JavaScript soubor, kter\\xFD m\\u016F\\u017Eete vlo\\u017Eit na va\\u0161e str\\xE1nky.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 4313,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 4302,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        marginBottom: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Seznam token\\u016F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 4320,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setShowCreateForm(true),\n        style: {\n          padding: '8px 16px',\n          backgroundColor: '#28a745',\n          color: 'white',\n          border: 'none',\n          borderRadius: '4px',\n          cursor: 'pointer'\n        },\n        children: \"\\u2795 Tokenise survey (Add)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 4321,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 4319,\n      columnNumber: 7\n    }, this), showCreateForm && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundColor: '#f8f9fa',\n        border: '1px solid #dee2e6',\n        borderRadius: '8px',\n        padding: '20px',\n        marginBottom: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Vytvo\\u0159it nov\\xFD token\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 4344,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleCreateToken,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '15px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'block',\n              marginBottom: '5px',\n              fontWeight: 'bold'\n            },\n            children: \"Vyberte dotazn\\xEDk *\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4347,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: newToken.surveyId,\n            onChange: e => setNewToken({\n              ...newToken,\n              surveyId: e.target.value\n            }),\n            style: {\n              width: '100%',\n              padding: '8px',\n              border: '1px solid #ccc',\n              borderRadius: '4px'\n            },\n            required: true,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"-- Vyberte dotazn\\xEDk --\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4356,\n              columnNumber: 17\n            }, this), surveys.map(survey => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: survey.id,\n              children: [survey.title, \" (\", getStatusText(survey.status), \")\"]\n            }, survey.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 4358,\n              columnNumber: 19\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 4350,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 4346,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '15px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'block',\n              marginBottom: '5px',\n              fontWeight: 'bold'\n            },\n            children: \"Povolen\\xE9 dom\\xE9ny (whitelist)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4366,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            value: newToken.allowedDomains,\n            onChange: e => setNewToken({\n              ...newToken,\n              allowedDomains: e.target.value\n            }),\n            placeholder: \"example.com\\nsubdomain.example.com\\n*.example.org\",\n            style: {\n              width: '100%',\n              padding: '8px',\n              border: '1px solid #ccc',\n              borderRadius: '4px',\n              minHeight: '80px',\n              resize: 'vertical'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4369,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n            style: {\n              color: '#6c757d'\n            },\n            children: \"Zadejte ka\\u017Edou dom\\xE9nu na nov\\xFD \\u0159\\xE1dek. Nechte pr\\xE1zdn\\xE9 pro povolen\\xED v\\u0161ech dom\\xE9n.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4382,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 4365,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: '15px',\n            marginBottom: '15px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              flex: 1\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                display: 'block',\n                marginBottom: '5px',\n                fontWeight: 'bold'\n              },\n              children: \"Platnost od\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4389,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"datetime-local\",\n              value: newToken.validFrom,\n              onChange: e => setNewToken({\n                ...newToken,\n                validFrom: e.target.value\n              }),\n              style: {\n                width: '100%',\n                padding: '8px',\n                border: '1px solid #ccc',\n                borderRadius: '4px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4392,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 4388,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              flex: 1\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                display: 'block',\n                marginBottom: '5px',\n                fontWeight: 'bold'\n              },\n              children: \"Platnost do\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4400,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"datetime-local\",\n              value: newToken.validTo,\n              onChange: e => setNewToken({\n                ...newToken,\n                validTo: e.target.value\n              }),\n              style: {\n                width: '100%',\n                padding: '8px',\n                border: '1px solid #ccc',\n                borderRadius: '4px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4403,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 4399,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 4387,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: '10px',\n            justifyContent: 'flex-end'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => {\n              setShowCreateForm(false);\n              setNewToken({\n                surveyId: '',\n                allowedDomains: '',\n                validFrom: '',\n                validTo: ''\n              });\n            },\n            style: {\n              padding: '8px 16px',\n              backgroundColor: '#6c757d',\n              color: 'white',\n              border: 'none',\n              borderRadius: '4px'\n            },\n            children: \"Zru\\u0161it\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4413,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            style: {\n              padding: '8px 16px',\n              backgroundColor: '#007bff',\n              color: 'white',\n              border: 'none',\n              borderRadius: '4px'\n            },\n            children: \"Vytvo\\u0159it token\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4423,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 4412,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 4345,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 4337,\n      columnNumber: 9\n    }, this), tokens.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: 'center',\n        padding: '40px',\n        color: '#6c757d'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u017D\\xE1dn\\xE9 tokeny nebyly nalezeny.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 4436,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Za\\u010Dn\\u011Bte vytvo\\u0159en\\xEDm nov\\xE9ho tokenu pro embedov\\xE1n\\xED dotazn\\xEDk\\u016F.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 4437,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 4435,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        overflowX: 'auto'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        style: {\n          width: '100%',\n          borderCollapse: 'collapse',\n          marginTop: '10px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            style: {\n              backgroundColor: '#f8f9fa'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                padding: '12px',\n                textAlign: 'left',\n                border: '1px solid #dee2e6',\n                fontWeight: 'bold'\n              },\n              children: \"Token ID\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4444,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                padding: '12px',\n                textAlign: 'left',\n                border: '1px solid #dee2e6',\n                fontWeight: 'bold'\n              },\n              children: \"Dotazn\\xEDk\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4445,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                padding: '12px',\n                textAlign: 'left',\n                border: '1px solid #dee2e6',\n                fontWeight: 'bold'\n              },\n              children: \"Vlastn\\xEDk\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4446,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                padding: '12px',\n                textAlign: 'center',\n                border: '1px solid #dee2e6',\n                fontWeight: 'bold'\n              },\n              children: \"Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4447,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                padding: '12px',\n                textAlign: 'left',\n                border: '1px solid #dee2e6',\n                fontWeight: 'bold'\n              },\n              children: \"Platnost\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4448,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                padding: '12px',\n                textAlign: 'left',\n                border: '1px solid #dee2e6',\n                fontWeight: 'bold'\n              },\n              children: \"Embed k\\xF3d\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4449,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                padding: '12px',\n                textAlign: 'center',\n                border: '1px solid #dee2e6',\n                fontWeight: 'bold'\n              },\n              children: \"Statistiky\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4450,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                padding: '12px',\n                textAlign: 'center',\n                border: '1px solid #dee2e6',\n                fontWeight: 'bold'\n              },\n              children: \"Akce\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4451,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 4443,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 4442,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: tokens.map(token => /*#__PURE__*/_jsxDEV(\"tr\", {\n            style: {\n              backgroundColor: token.id % 2 === 0 ? '#f9f9f9' : 'white'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                padding: '12px',\n                border: '1px solid #dee2e6'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"code\", {\n                style: {\n                  backgroundColor: '#f8f9fa',\n                  padding: '2px 4px',\n                  borderRadius: '3px',\n                  fontSize: '12px'\n                },\n                children: token.token_id\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4458,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4457,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                padding: '12px',\n                border: '1px solid #dee2e6'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontWeight: 'bold'\n                },\n                children: token.survey_title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4468,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '12px',\n                  color: '#6c757d'\n                },\n                children: [\"ID: \", token.survey_id]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 4469,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 4467,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                padding: '12px',\n                border: '1px solid #dee2e6'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontWeight: 'bold'\n                },\n                children: token.owner_username\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4472,\n                columnNumber: 21\n              }, this), (user === null || user === void 0 ? void 0 : user.role) === 'admin' && token.user_id !== user.id && /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '11px',\n                  color: '#dc3545',\n                  fontWeight: 'bold'\n                },\n                children: \"CIZ\\xCD\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4474,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 4471,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                padding: '12px',\n                border: '1px solid #dee2e6',\n                textAlign: 'center'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  padding: '4px 8px',\n                  borderRadius: '12px',\n                  backgroundColor: getStatusColor(token.status),\n                  color: 'white',\n                  fontSize: '12px',\n                  fontWeight: 'bold'\n                },\n                children: getStatusText(token.status)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4478,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4477,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                padding: '12px',\n                border: '1px solid #dee2e6',\n                fontSize: '13px'\n              },\n              children: [token.valid_from && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Od:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4492,\n                  columnNumber: 25\n                }, this), \" \", new Date(token.valid_from).toLocaleDateString('cs-CZ')]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 4491,\n                columnNumber: 23\n              }, this), token.valid_to && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Do:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4497,\n                  columnNumber: 25\n                }, this), \" \", new Date(token.valid_to).toLocaleDateString('cs-CZ')]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 4496,\n                columnNumber: 23\n              }, this), !token.valid_from && !token.valid_to && /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: '#6c757d',\n                  fontStyle: 'italic'\n                },\n                children: \"Bez omezen\\xED\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4501,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 4489,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                padding: '12px',\n                border: '1px solid #dee2e6'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  backgroundColor: '#f8f9fa',\n                  border: '1px solid #dee2e6',\n                  borderRadius: '4px',\n                  padding: '8px',\n                  fontSize: '12px',\n                  fontFamily: 'monospace',\n                  marginBottom: '5px'\n                },\n                children: `<script src=\"${window.location.origin}/widget_${token.token_id}.js\"></script>`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4505,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  gap: '4px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => copyToClipboard(`<script src=\"${window.location.origin}/widget_${token.token_id}.js\"></script>`),\n                  style: {\n                    padding: '4px 8px',\n                    backgroundColor: '#17a2b8',\n                    color: 'white',\n                    border: 'none',\n                    borderRadius: '3px',\n                    fontSize: '11px',\n                    cursor: 'pointer'\n                  },\n                  title: \"Zkop\\xEDrovat do schr\\xE1nky\",\n                  children: \"\\uD83D\\uDCCB Kop\\xEDrovat\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4517,\n                  columnNumber: 24\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => window.open(`/widget_${token.token_id}.html`, '_blank'),\n                  style: {\n                    padding: '4px 8px',\n                    backgroundColor: '#28a745',\n                    color: 'white',\n                    border: 'none',\n                    borderRadius: '3px',\n                    fontSize: '11px',\n                    cursor: 'pointer'\n                  },\n                  title: \"Zobrazit n\\xE1hled widgetu\",\n                  children: \"\\uD83D\\uDC41\\uFE0F N\\xE1hled\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4532,\n                  columnNumber: 24\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 4516,\n                columnNumber: 42\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 4504,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                padding: '12px',\n                border: '1px solid #dee2e6',\n                textAlign: 'center'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => window.open(`/statistics/${token.survey_id}`, '_blank'),\n                style: {\n                  padding: '6px 12px',\n                  backgroundColor: '#6f42c1',\n                  color: 'white',\n                  border: 'none',\n                  borderRadius: '4px',\n                  fontSize: '12px',\n                  cursor: 'pointer',\n                  fontWeight: 'bold'\n                },\n                title: \"Zobrazit statistiky dotazn\\xEDku\",\n                children: \"\\uD83D\\uDCCA Statistiky\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4550,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4549,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                padding: '12px',\n                border: '1px solid #dee2e6',\n                textAlign: 'center'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  flexDirection: 'column',\n                  gap: '4px',\n                  alignItems: 'center'\n                },\n                children: [((user === null || user === void 0 ? void 0 : user.role) === 'admin' || token.user_id === (user === null || user === void 0 ? void 0 : user.id)) && /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handleToggleStatus(token.id, token.status),\n                    style: {\n                      padding: '4px 8px',\n                      backgroundColor: token.status === 'active' ? '#ffc107' : '#28a745',\n                      color: token.status === 'active' ? 'black' : 'white',\n                      border: 'none',\n                      borderRadius: '3px',\n                      fontSize: '12px',\n                      cursor: 'pointer',\n                      minWidth: '70px'\n                    },\n                    title: token.status === 'active' ? 'Pozastavit token' : 'Obnovit token',\n                    children: token.status === 'active' ? 'Pozastavit' : 'Obnovit'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4571,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handleDeleteToken(token.id, token.token_id),\n                    style: {\n                      padding: '4px 8px',\n                      backgroundColor: '#dc3545',\n                      color: 'white',\n                      border: 'none',\n                      borderRadius: '3px',\n                      fontSize: '12px',\n                      cursor: 'pointer',\n                      minWidth: '70px'\n                    },\n                    title: \"Smazat token\",\n                    children: \"Smazat\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4588,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true), (user === null || user === void 0 ? void 0 : user.role) !== 'admin' && token.user_id !== (user === null || user === void 0 ? void 0 : user.id) && /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    fontSize: '12px',\n                    color: '#6c757d',\n                    fontStyle: 'italic'\n                  },\n                  children: \"Pouze zobrazen\\xED\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4608,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 4568,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4567,\n              columnNumber: 19\n            }, this)]\n          }, token.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 4456,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 4454,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 4441,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 4440,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 4294,\n    columnNumber: 5\n  }, this);\n};\n_s11(TokenList, \"3qZds/BhFhG4HzgaFRSnWI3Yh7o=\", false, function () {\n  return [useAuth];\n});\n_c14 = TokenList;\nconst UserList = () => {\n  _s12();\n  const [users, setUsers] = React.useState([]);\n  const [loading, setLoading] = React.useState(true);\n  const [editingUser, setEditingUser] = React.useState(null);\n  const [showCreateForm, setShowCreateForm] = React.useState(false);\n\n  // Fetch users\n  React.useEffect(() => {\n    fetchUsers();\n  }, []);\n  const fetchUsers = async () => {\n    try {\n      setLoading(true);\n      const response = await fetch('/api/users', {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        // Handle API response format - it returns {users: [...], pagination: {...}}\n        setUsers(data.users || data);\n      }\n    } catch (error) {\n      console.error('Error fetching users:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleEdit = user => {\n    setEditingUser({\n      ...user,\n      newPassword: ''\n    });\n  };\n  const handleSave = async () => {\n    try {\n      const {\n        id,\n        newPassword,\n        ...updateData\n      } = editingUser;\n      if (newPassword) {\n        updateData.password = newPassword;\n      }\n      const response = await fetch(`/api/users/${id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        },\n        body: JSON.stringify(updateData)\n      });\n      if (response.ok) {\n        await fetchUsers();\n        setEditingUser(null);\n        alert('Uživatel byl úspěšně upraven');\n      } else {\n        alert('Chyba při ukládání uživatele');\n      }\n    } catch (error) {\n      console.error('Error saving user:', error);\n      alert('Chyba při ukládání uživatele');\n    }\n  };\n  const handleDelete = async (userId, username) => {\n    if (window.confirm(`Opravdu chcete smazat uživatele \"${username}\"?`)) {\n      try {\n        const response = await fetch(`/api/users/${userId}`, {\n          method: 'DELETE',\n          headers: {\n            'Authorization': `Bearer ${localStorage.getItem('token')}`\n          }\n        });\n        if (response.ok) {\n          await fetchUsers();\n          alert('Uživatel byl smazán');\n        } else {\n          alert('Chyba při mazání uživatele');\n        }\n      } catch (error) {\n        console.error('Error deleting user:', error);\n        alert('Chyba při mazání uživatele');\n      }\n    }\n  };\n  const handleCreate = async userData => {\n    try {\n      const response = await fetch('/api/users', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        },\n        body: JSON.stringify(userData)\n      });\n      if (response.ok) {\n        await fetchUsers();\n        setShowCreateForm(false);\n        alert('Uživatel byl vytvořen');\n      } else {\n        const error = await response.json();\n        alert('Chyba při vytváření uživatele: ' + error.error);\n      }\n    } catch (error) {\n      console.error('Error creating user:', error);\n      alert('Chyba při vytváření uživatele');\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '20px'\n      },\n      children: \"Na\\u010D\\xEDt\\xE1n\\xED u\\u017Eivatel\\u016F...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 4737,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '20px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        marginBottom: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Spr\\xE1va u\\u017Eivatel\\u016F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 4743,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setShowCreateForm(true),\n        style: {\n          padding: '8px 16px',\n          backgroundColor: '#28a745',\n          color: 'white',\n          border: 'none',\n          borderRadius: '4px'\n        },\n        children: \"P\\u0159idat u\\u017Eivatele\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 4744,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 4742,\n      columnNumber: 7\n    }, this), showCreateForm && /*#__PURE__*/_jsxDEV(UserForm, {\n      onSave: handleCreate,\n      onCancel: () => setShowCreateForm(false),\n      title: \"Vytvo\\u0159it nov\\xE9ho u\\u017Eivatele\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 4753,\n      columnNumber: 9\n    }, this), editingUser && /*#__PURE__*/_jsxDEV(UserForm, {\n      user: editingUser,\n      onSave: () => handleSave(),\n      onCancel: () => setEditingUser(null),\n      onChange: setEditingUser,\n      title: \"Upravit u\\u017Eivatele\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 4761,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      style: {\n        width: '100%',\n        borderCollapse: 'collapse',\n        marginTop: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          style: {\n            backgroundColor: '#f8f9fa'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            style: {\n              padding: '12px',\n              textAlign: 'left',\n              border: '1px solid #dee2e6'\n            },\n            children: \"U\\u017Eivatelsk\\xE9 jm\\xE9no\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4773,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: {\n              padding: '12px',\n              textAlign: 'left',\n              border: '1px solid #dee2e6'\n            },\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4774,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: {\n              padding: '12px',\n              textAlign: 'left',\n              border: '1px solid #dee2e6'\n            },\n            children: \"Role\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4775,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: {\n              padding: '12px',\n              textAlign: 'left',\n              border: '1px solid #dee2e6'\n            },\n            children: \"Vytvo\\u0159eno\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4776,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: {\n              padding: '12px',\n              textAlign: 'left',\n              border: '1px solid #dee2e6'\n            },\n            children: \"Akce\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4777,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 4772,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 4771,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: users.map(user => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            style: {\n              padding: '12px',\n              border: '1px solid #dee2e6'\n            },\n            children: user.username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4783,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            style: {\n              padding: '12px',\n              border: '1px solid #dee2e6'\n            },\n            children: user.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4784,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            style: {\n              padding: '12px',\n              border: '1px solid #dee2e6'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                padding: '4px 8px',\n                borderRadius: '4px',\n                backgroundColor: user.role === 'admin' ? '#dc3545' : '#007bff',\n                color: 'white',\n                fontSize: '12px'\n              },\n              children: user.role\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4786,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4785,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            style: {\n              padding: '12px',\n              border: '1px solid #dee2e6'\n            },\n            children: new Date(user.created_at).toLocaleDateString('cs-CZ')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4796,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            style: {\n              padding: '12px',\n              border: '1px solid #dee2e6'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleEdit(user),\n              style: {\n                padding: '4px 8px',\n                marginRight: '8px',\n                backgroundColor: '#ffc107',\n                border: 'none',\n                borderRadius: '3px'\n              },\n              children: \"Upravit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4800,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleDelete(user.id, user.username),\n              style: {\n                padding: '4px 8px',\n                backgroundColor: '#dc3545',\n                color: 'white',\n                border: 'none',\n                borderRadius: '3px'\n              },\n              children: \"Smazat\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4806,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 4799,\n            columnNumber: 15\n          }, this)]\n        }, user.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 4782,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 4780,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 4770,\n      columnNumber: 7\n    }, this), users.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: 'center',\n        padding: '40px',\n        color: '#6c757d'\n      },\n      children: \"\\u017D\\xE1dn\\xED u\\u017Eivatel\\xE9 nebyli nalezeni\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 4819,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 4741,\n    columnNumber: 5\n  }, this);\n};\n_s12(UserList, \"cP0Vu17ntunKO1KyeB5orVUOKDw=\");\n_c15 = UserList;\nconst AuditLogs = () => {\n  _s13();\n  const [logs, setLogs] = React.useState([]);\n  const [loading, setLoading] = React.useState(true);\n  const [filters, setFilters] = React.useState({\n    eventType: '',\n    userId: '',\n    dateFrom: '',\n    dateTo: '',\n    page: 1,\n    limit: 50\n  });\n\n  // Fetch logs\n  React.useEffect(() => {\n    fetchLogs();\n  }, [filters]);\n  const fetchLogs = async () => {\n    try {\n      setLoading(true);\n      const queryParams = new URLSearchParams();\n\n      // Map frontend filters to backend API parameters\n      if (filters.eventType) queryParams.append('action', filters.eventType);\n      if (filters.userId) queryParams.append('user_id', filters.userId);\n      if (filters.dateFrom) queryParams.append('from_date', filters.dateFrom + 'T00:00:00Z');\n      if (filters.dateTo) queryParams.append('to_date', filters.dateTo + 'T23:59:59Z');\n      if (filters.page) queryParams.append('page', filters.page);\n      if (filters.limit) queryParams.append('limit', filters.limit);\n      const response = await fetch(`/api/logs?${queryParams}`, {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        setLogs(data.logs || data);\n      }\n    } catch (error) {\n      console.error('Error fetching logs:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleFilterChange = (field, value) => {\n    setFilters(prev => ({\n      ...prev,\n      [field]: value,\n      page: 1\n    }));\n  };\n  const getEventTypeColor = eventType => {\n    const colors = {\n      'LOGIN': '#28a745',\n      'LOGOUT': '#6c757d',\n      'CREATE': '#007bff',\n      'UPDATE': '#ffc107',\n      'DELETE': '#dc3545',\n      'TOKEN_CREATE': '#17a2b8',\n      'TOKEN_PAUSE': '#fd7e14',\n      'TOKEN_RESUME': '#20c997',\n      'TOKEN_DELETE': '#e83e8c',\n      'SURVEY_DELIVERY': '#6f42c1'\n    };\n    return colors[eventType] || '#6c757d';\n  };\n  const formatEventDescription = log => {\n    switch (log.action) {\n      case 'LOGIN':\n        return `Uživatel se přihlásil`;\n      case 'LOGOUT':\n        return `Uživatel se odhlásil`;\n      case 'CREATE':\n        return `Vytvořil ${log.resource_type}: ${log.resource_id}`;\n      case 'UPDATE':\n        return `Upravil ${log.resource_type}: ${log.resource_id}`;\n      case 'DELETE':\n        return `Smazal ${log.resource_type}: ${log.resource_id}`;\n      case 'TOKEN_CREATE':\n        return `Vytvořil token pro survey: ${log.resource_id}`;\n      case 'TOKEN_PAUSE':\n        return `Pozastavil token: ${log.resource_id}`;\n      case 'TOKEN_RESUME':\n        return `Obnovil token: ${log.resource_id}`;\n      case 'TOKEN_DELETE':\n        return `Smazal token: ${log.resource_id}`;\n      case 'SURVEY_DELIVERY':\n        return `Survey doručen přes token: ${log.resource_id}`;\n      default:\n        return log.action;\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '20px'\n      },\n      children: \"Na\\u010D\\xEDt\\xE1n\\xED audit log\\u016F...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 4922,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '20px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Audit Logs\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 4927,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: '#6c757d',\n        marginBottom: '20px'\n      },\n      children: \"Kompletn\\xED z\\xE1znam v\\u0161ech aktivit v syst\\xE9mu\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 4928,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundColor: '#f8f9fa',\n        padding: '20px',\n        borderRadius: '8px',\n        marginBottom: '20px',\n        border: '1px solid #dee2e6'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        style: {\n          marginBottom: '15px'\n        },\n        children: \"Filtry\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 4940,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'grid',\n          gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))',\n          gap: '15px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'block',\n              marginBottom: '5px',\n              fontWeight: 'bold'\n            },\n            children: \"Typ ud\\xE1losti\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4943,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: filters.eventType,\n            onChange: e => handleFilterChange('eventType', e.target.value),\n            style: {\n              width: '100%',\n              padding: '8px',\n              border: '1px solid #ced4da',\n              borderRadius: '4px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"V\\u0161echny\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4951,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"LOGIN\",\n              children: \"P\\u0159ihl\\xE1\\u0161en\\xED\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4952,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"LOGOUT\",\n              children: \"Odhl\\xE1\\u0161en\\xED\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4953,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"CREATE\",\n              children: \"Vytvo\\u0159en\\xED\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4954,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"UPDATE\",\n              children: \"\\xDAprava\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4955,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"DELETE\",\n              children: \"Smaz\\xE1n\\xED\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4956,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"TOKEN_CREATE\",\n              children: \"Vytvo\\u0159en\\xED tokenu\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4957,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"TOKEN_PAUSE\",\n              children: \"Pozastaven\\xED tokenu\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4958,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"TOKEN_RESUME\",\n              children: \"Obnoven\\xED tokenu\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4959,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"TOKEN_DELETE\",\n              children: \"Smaz\\xE1n\\xED tokenu\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4960,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"SURVEY_DELIVERY\",\n              children: \"Doru\\u010Den\\xED survey\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4961,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 4946,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 4942,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'block',\n              marginBottom: '5px',\n              fontWeight: 'bold'\n            },\n            children: \"Od data\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4966,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            value: filters.dateFrom,\n            onChange: e => handleFilterChange('dateFrom', e.target.value),\n            style: {\n              width: '100%',\n              padding: '8px',\n              border: '1px solid #ced4da',\n              borderRadius: '4px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4969,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 4965,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'block',\n              marginBottom: '5px',\n              fontWeight: 'bold'\n            },\n            children: \"Do data\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4978,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            value: filters.dateTo,\n            onChange: e => handleFilterChange('dateTo', e.target.value),\n            style: {\n              width: '100%',\n              padding: '8px',\n              border: '1px solid #ced4da',\n              borderRadius: '4px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4981,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 4977,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'block',\n              marginBottom: '5px',\n              fontWeight: 'bold'\n            },\n            children: \"ID u\\u017Eivatele\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4990,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: filters.userId,\n            onChange: e => handleFilterChange('userId', e.target.value),\n            placeholder: \"nap\\u0159. 1\",\n            style: {\n              width: '100%',\n              padding: '8px',\n              border: '1px solid #ced4da',\n              borderRadius: '4px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4993,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 4989,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 4941,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '15px'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setFilters({\n            eventType: '',\n            userId: '',\n            dateFrom: '',\n            dateTo: '',\n            page: 1,\n            limit: 50\n          }),\n          style: {\n            padding: '8px 16px',\n            backgroundColor: '#6c757d',\n            color: 'white',\n            border: 'none',\n            borderRadius: '4px'\n          },\n          children: \"Vymazat filtry\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 5004,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 5003,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 4933,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        overflowX: 'auto'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        style: {\n          width: '100%',\n          borderCollapse: 'collapse',\n          fontSize: '14px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            style: {\n              backgroundColor: '#f8f9fa'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                padding: '12px',\n                textAlign: 'left',\n                border: '1px solid #dee2e6',\n                minWidth: '150px'\n              },\n              children: \"Datum a \\u010Das\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5018,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                padding: '12px',\n                textAlign: 'left',\n                border: '1px solid #dee2e6',\n                minWidth: '80px'\n              },\n              children: \"U\\u017Eivatel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5019,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                padding: '12px',\n                textAlign: 'left',\n                border: '1px solid #dee2e6',\n                minWidth: '120px'\n              },\n              children: \"Typ ud\\xE1losti\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5020,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                padding: '12px',\n                textAlign: 'left',\n                border: '1px solid #dee2e6',\n                minWidth: '200px'\n              },\n              children: \"Popis\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5021,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                padding: '12px',\n                textAlign: 'left',\n                border: '1px solid #dee2e6',\n                minWidth: '120px'\n              },\n              children: \"IP adresa\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5022,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                padding: '12px',\n                textAlign: 'left',\n                border: '1px solid #dee2e6',\n                minWidth: '150px'\n              },\n              children: \"User Agent\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5023,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 5017,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 5016,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: logs.map(log => /*#__PURE__*/_jsxDEV(\"tr\", {\n            style: {\n              borderBottom: '1px solid #dee2e6'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                padding: '12px',\n                border: '1px solid #dee2e6'\n              },\n              children: new Date(log.timestamp).toLocaleString('cs-CZ')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5029,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                padding: '12px',\n                border: '1px solid #dee2e6'\n              },\n              children: log.username || log.user_id || 'N/A'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5032,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                padding: '12px',\n                border: '1px solid #dee2e6'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  padding: '4px 8px',\n                  borderRadius: '4px',\n                  backgroundColor: getEventTypeColor(log.action),\n                  color: 'white',\n                  fontSize: '12px',\n                  fontWeight: 'bold'\n                },\n                children: log.action\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 5036,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5035,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                padding: '12px',\n                border: '1px solid #dee2e6'\n              },\n              children: [formatEventDescription(log), log.details && /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '12px',\n                  color: '#6c757d',\n                  marginTop: '4px'\n                },\n                children: typeof log.details === 'string' ? log.details : JSON.stringify(log.details)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 5050,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 5047,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                padding: '12px',\n                border: '1px solid #dee2e6',\n                fontFamily: 'monospace'\n              },\n              children: log.ip_address || 'N/A'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5055,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                padding: '12px',\n                border: '1px solid #dee2e6',\n                fontSize: '12px',\n                color: '#6c757d'\n              },\n              children: log.user_agent ? log.user_agent.substring(0, 50) + (log.user_agent.length > 50 ? '...' : '') : 'N/A'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5058,\n              columnNumber: 17\n            }, this)]\n          }, log.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 5028,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 5026,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 5015,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 5014,\n      columnNumber: 7\n    }, this), logs.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: 'center',\n        padding: '40px',\n        color: '#6c757d'\n      },\n      children: \"\\u017D\\xE1dn\\xE9 audit logy nebyly nalezeny\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 5068,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: '20px',\n        textAlign: 'center',\n        color: '#6c757d'\n      },\n      children: [\"Zobrazeno \", logs.length, \" z\\xE1znam\\u016F\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 5074,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 4926,\n    columnNumber: 5\n  }, this);\n};\n_s13(AuditLogs, \"0C8Erdav4glAGhj3H48vNNyz6jI=\");\n_c16 = AuditLogs;\nconst UserForm = ({\n  user,\n  onSave,\n  onCancel,\n  onChange,\n  title\n}) => {\n  _s14();\n  const [formData, setFormData] = React.useState({\n    username: (user === null || user === void 0 ? void 0 : user.username) || '',\n    email: (user === null || user === void 0 ? void 0 : user.email) || '',\n    password: '',\n    confirmPassword: '',\n    role: (user === null || user === void 0 ? void 0 : user.role) || 'user'\n  });\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (!formData.username || !formData.email) {\n      alert('Uživatelské jméno a email jsou povinné');\n      return;\n    }\n    if (!user && !formData.password) {\n      alert('Heslo je povinné pro nového uživatele');\n      return;\n    }\n    if (formData.password && formData.password !== formData.confirmPassword) {\n      alert('Hesla se neshodují');\n      return;\n    }\n    const dataToSave = {\n      ...formData\n    };\n    if (user && !formData.password) {\n      delete dataToSave.password; // Don't update password if not provided\n    }\n    delete dataToSave.confirmPassword; // Remove confirmPassword from data to save\n\n    if (onChange) {\n      onChange({\n        ...user,\n        ...dataToSave,\n        newPassword: formData.password\n      });\n    } else {\n      onSave(dataToSave);\n    }\n  };\n  const handleChange = (field, value) => {\n    const newData = {\n      ...formData,\n      [field]: value\n    };\n    setFormData(newData);\n    if (onChange) {\n      onChange({\n        ...user,\n        ...newData,\n        newPassword: newData.password\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      backgroundColor: '#f8f9fa',\n      padding: '20px',\n      borderRadius: '8px',\n      marginBottom: '20px',\n      border: '1px solid #dee2e6'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 5134,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '15px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            display: 'block',\n            marginBottom: '5px',\n            fontWeight: 'bold'\n          },\n          children: \"U\\u017Eivatelsk\\xE9 jm\\xE9no *\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 5137,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: formData.username,\n          onChange: e => handleChange('username', e.target.value),\n          style: {\n            width: '100%',\n            padding: '8px',\n            border: '1px solid #ced4da',\n            borderRadius: '4px'\n          },\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 5140,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 5136,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '15px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            display: 'block',\n            marginBottom: '5px',\n            fontWeight: 'bold'\n          },\n          children: \"Email *\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 5150,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          value: formData.email,\n          onChange: e => handleChange('email', e.target.value),\n          style: {\n            width: '100%',\n            padding: '8px',\n            border: '1px solid #ced4da',\n            borderRadius: '4px'\n          },\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 5153,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 5149,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '15px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            display: 'block',\n            marginBottom: '5px',\n            fontWeight: 'bold'\n          },\n          children: user ? 'Nové heslo (ponechte prázdné pro nezměnu)' : 'Heslo *'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 5163,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          value: formData.password,\n          onChange: e => handleChange('password', e.target.value),\n          style: {\n            width: '100%',\n            padding: '8px',\n            border: '1px solid #ced4da',\n            borderRadius: '4px'\n          },\n          required: !user\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 5166,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 5162,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '15px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            display: 'block',\n            marginBottom: '5px',\n            fontWeight: 'bold'\n          },\n          children: user ? 'Potvrzení nového hesla' : 'Potvrzení hesla *'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 5176,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          value: formData.confirmPassword,\n          onChange: e => handleChange('confirmPassword', e.target.value),\n          style: {\n            width: '100%',\n            padding: '8px',\n            border: '1px solid #ced4da',\n            borderRadius: '4px'\n          },\n          required: !user\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 5179,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 5175,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '15px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            display: 'block',\n            marginBottom: '5px',\n            fontWeight: 'bold'\n          },\n          children: \"Role\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 5189,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: formData.role,\n          onChange: e => handleChange('role', e.target.value),\n          style: {\n            width: '100%',\n            padding: '8px',\n            border: '1px solid #ced4da',\n            borderRadius: '4px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"user\",\n            children: \"User\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5197,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"admin\",\n            children: \"Admin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5198,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 5192,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 5188,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          gap: '10px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          style: {\n            padding: '8px 16px',\n            backgroundColor: '#007bff',\n            color: 'white',\n            border: 'none',\n            borderRadius: '4px'\n          },\n          children: user ? 'Uložit změny' : 'Vytvořit uživatele'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 5203,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: onCancel,\n          style: {\n            padding: '8px 16px',\n            backgroundColor: '#6c757d',\n            color: 'white',\n            border: 'none',\n            borderRadius: '4px'\n          },\n          children: \"Zru\\u0161it\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 5209,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 5202,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 5135,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 5127,\n    columnNumber: 5\n  }, this);\n};\n_s14(UserForm, \"Svqymadk/6mW/0V+ZSoqPdnhFoI=\");\n_c17 = UserForm;\nconst Settings = () => {\n  _s15();\n  const {\n    user,\n    updateProfile\n  } = useAuth();\n  const [formData, setFormData] = React.useState({\n    username: (user === null || user === void 0 ? void 0 : user.username) || '',\n    email: (user === null || user === void 0 ? void 0 : user.email) || '',\n    currentPassword: '',\n    newPassword: '',\n    confirmPassword: ''\n  });\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (formData.newPassword && formData.newPassword !== formData.confirmPassword) {\n      alert('Nové heslo a potvrzení hesla se neshodují');\n      return;\n    }\n    const updateData = {\n      username: formData.username,\n      email: formData.email\n    };\n    if (formData.newPassword) {\n      updateData.currentPassword = formData.currentPassword;\n      updateData.newPassword = formData.newPassword;\n    }\n    const result = await updateProfile(updateData);\n    if (result.success) {\n      alert('Profil byl úspěšně aktualizován');\n      setFormData(prev => ({\n        ...prev,\n        currentPassword: '',\n        newPassword: '',\n        confirmPassword: ''\n      }));\n    } else {\n      alert('Chyba při aktualizaci profilu: ' + result.error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '20px',\n      maxWidth: '600px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Nastaven\\xED profilu\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 5261,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '20px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Z\\xE1kladn\\xED informace\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 5264,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '15px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'block',\n              marginBottom: '5px',\n              fontWeight: 'bold'\n            },\n            children: \"U\\u017Eivatelsk\\xE9 jm\\xE9no\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5267,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: formData.username,\n            onChange: e => setFormData(prev => ({\n              ...prev,\n              username: e.target.value\n            })),\n            style: {\n              width: '100%',\n              padding: '8px',\n              border: '1px solid #ced4da',\n              borderRadius: '4px'\n            },\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5270,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 5266,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '15px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'block',\n              marginBottom: '5px',\n              fontWeight: 'bold'\n            },\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5280,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            value: formData.email,\n            onChange: e => setFormData(prev => ({\n              ...prev,\n              email: e.target.value\n            })),\n            style: {\n              width: '100%',\n              padding: '8px',\n              border: '1px solid #ced4da',\n              borderRadius: '4px'\n            },\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5283,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 5279,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 5263,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '20px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Zm\\u011Bna hesla\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 5294,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: '#6c757d',\n            fontSize: '14px',\n            marginBottom: '15px'\n          },\n          children: \"Ponechte pr\\xE1zdn\\xE9, pokud nechcete zm\\u011Bnit heslo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 5295,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '15px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'block',\n              marginBottom: '5px',\n              fontWeight: 'bold'\n            },\n            children: \"Sou\\u010Dasn\\xE9 heslo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5300,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            value: formData.currentPassword,\n            onChange: e => setFormData(prev => ({\n              ...prev,\n              currentPassword: e.target.value\n            })),\n            style: {\n              width: '100%',\n              padding: '8px',\n              border: '1px solid #ced4da',\n              borderRadius: '4px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5303,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 5299,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '15px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'block',\n              marginBottom: '5px',\n              fontWeight: 'bold'\n            },\n            children: \"Nov\\xE9 heslo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5312,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            value: formData.newPassword,\n            onChange: e => setFormData(prev => ({\n              ...prev,\n              newPassword: e.target.value\n            })),\n            style: {\n              width: '100%',\n              padding: '8px',\n              border: '1px solid #ced4da',\n              borderRadius: '4px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5315,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 5311,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '15px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'block',\n              marginBottom: '5px',\n              fontWeight: 'bold'\n            },\n            children: \"Potvrzen\\xED nov\\xE9ho hesla\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5324,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            value: formData.confirmPassword,\n            onChange: e => setFormData(prev => ({\n              ...prev,\n              confirmPassword: e.target.value\n            })),\n            style: {\n              width: '100%',\n              padding: '8px',\n              border: '1px solid #ced4da',\n              borderRadius: '4px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5327,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 5323,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 5293,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        style: {\n          padding: '10px 20px',\n          backgroundColor: '#007bff',\n          color: 'white',\n          border: 'none',\n          borderRadius: '4px'\n        },\n        children: \"Ulo\\u017Eit zm\\u011Bny\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 5336,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 5262,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 5260,\n    columnNumber: 5\n  }, this);\n};\n\n// Layout component with navigation\n_s15(Settings, \"UgRaL+amAnQpYmrI+WnObnelkXc=\", false, function () {\n  return [useAuth];\n});\n_c18 = Settings;\nconst Layout = ({\n  children\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Navigation, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 5351,\n      columnNumber: 7\n    }, this), children]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 5350,\n    columnNumber: 5\n  }, this);\n};\n\n// Protected Route component\n_c19 = Layout;\nconst ProtectedRoute = ({\n  children\n}) => {\n  _s16();\n  const {\n    isAuthenticated,\n    isLoading\n  } = useAuth();\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '20px'\n      },\n      children: \"Na\\u010D\\xEDt\\xE1n\\xED...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 5363,\n      columnNumber: 12\n    }, this);\n  }\n  if (!isAuthenticated) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/login\",\n      replace: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 5367,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 5371,\n    columnNumber: 5\n  }, this);\n};\n\n// Admin-only Route component\n_s16(ProtectedRoute, \"yb/FJYAIXt7wZoU4a4YvGQ4Nlsc=\", false, function () {\n  return [useAuth];\n});\n_c20 = ProtectedRoute;\nconst AdminRoute = ({\n  children\n}) => {\n  _s17();\n  const {\n    user\n  } = useAuth();\n  if ((user === null || user === void 0 ? void 0 : user.role) !== 'admin') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"P\\u0159\\xEDstup odep\\u0159en\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 5384,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Tato str\\xE1nka je dostupn\\xE1 pouze administr\\xE1tor\\u016Fm.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 5385,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 5383,\n      columnNumber: 7\n    }, this);\n  }\n  return children;\n};\n\n// Statistics Component\n_s17(AdminRoute, \"9ep4vdl3mBfipxjmc+tQCDhw6Ik=\", false, function () {\n  return [useAuth];\n});\n_c21 = AdminRoute;\nconst Statistics = () => {\n  _s18();\n  const {\n    user\n  } = useAuth();\n  const location = useLocation();\n  const surveyId = location.pathname.split('/')[2]; // Get surveyId from URL\n  const [statisticsData, setStatisticsData] = React.useState(null);\n  const [loading, setLoading] = React.useState(true);\n  const [error, setError] = React.useState(null);\n  React.useEffect(() => {\n    if (surveyId) {\n      fetchStatistics();\n    }\n  }, [surveyId]);\n  const fetchStatistics = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const response = await fetch(`/api/responses/statistics/${surveyId}`, {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        setStatisticsData(data);\n      } else {\n        throw new Error('Chyba při načítání statistik');\n      }\n    } catch (error) {\n      console.error('Error fetching statistics:', error);\n      setError(error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const renderEmojiStatistics = statistics => {\n    const emojiLabels = ['Very Happy', 'Happy', 'Neutral', 'Sad', 'Very Sad'];\n    const emojiIcons = ['😄', '😊', '😐', '😞', '😠'];\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: '30px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        style: {\n          marginBottom: '15px'\n        },\n        children: \"Emoji hodnocen\\xED\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 5438,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'space-around',\n          marginBottom: '20px'\n        },\n        children: emojiLabels.map((label, index) => {\n          const count = statistics.distribution[label] || 0;\n          const percentage = statistics.totalResponses > 0 ? (count / statistics.totalResponses * 100).toFixed(1) : 0;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              textAlign: 'center',\n              minWidth: '80px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '24px',\n                marginBottom: '8px'\n              },\n              children: emojiIcons[index]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5446,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontWeight: 'bold',\n                fontSize: '18px'\n              },\n              children: count\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5447,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '14px',\n                color: '#666'\n              },\n              children: [percentage, \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 5448,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '12px',\n                color: '#999'\n              },\n              children: label\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5449,\n              columnNumber: 17\n            }, this)]\n          }, label, true, {\n            fileName: _jsxFileName,\n            lineNumber: 5445,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 5439,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '20px'\n        },\n        children: emojiLabels.map((label, index) => {\n          const count = statistics.distribution[label] || 0;\n          const percentage = statistics.totalResponses > 0 ? count / statistics.totalResponses * 100 : 0;\n          const colors = ['#4CAF50', '#8BC34A', '#FFC107', '#FF9800', '#F44336'];\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: '8px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                alignItems: 'center',\n                fontSize: '14px',\n                marginBottom: '4px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  minWidth: '100px'\n                },\n                children: [emojiIcons[index], \" \", label]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 5470,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  marginLeft: '10px',\n                  fontWeight: 'bold'\n                },\n                children: [count, \" (\", percentage.toFixed(1), \"%)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 5471,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 5464,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                height: '8px',\n                backgroundColor: '#f0f0f0',\n                borderRadius: '4px',\n                overflow: 'hidden'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  height: '100%',\n                  width: `${percentage}%`,\n                  backgroundColor: colors[index],\n                  transition: 'width 0.3s ease'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 5479,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5473,\n              columnNumber: 17\n            }, this)]\n          }, label, true, {\n            fileName: _jsxFileName,\n            lineNumber: 5463,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 5456,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 5437,\n      columnNumber: 7\n    }, this);\n  };\n  const renderTextStatistics = statistics => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: '30px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        style: {\n          marginBottom: '15px'\n        },\n        children: \"Textov\\xE9 odpov\\u011Bdi\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 5497,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          maxHeight: '300px',\n          overflowY: 'auto',\n          border: '1px solid #ddd',\n          borderRadius: '4px',\n          padding: '15px'\n        },\n        children: statistics.textResponses && statistics.textResponses.length > 0 ? statistics.textResponses.map((response, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: '10px',\n            borderBottom: index < statistics.textResponses.length - 1 ? '1px solid #eee' : 'none',\n            fontSize: '14px'\n          },\n          children: [\"\\\"\", response, \"\\\"\"]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 5507,\n          columnNumber: 15\n        }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: '#999',\n            fontStyle: 'italic'\n          },\n          children: \"\\u017D\\xE1dn\\xE9 textov\\xE9 odpov\\u011Bdi\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 5516,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 5498,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 5496,\n      columnNumber: 7\n    }, this);\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '40px',\n        textAlign: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: '18px'\n        },\n        children: \"Na\\u010D\\xEDt\\xE1n\\xED statistik...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 5526,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 5525,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '40px',\n        textAlign: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: 'red',\n          fontSize: '18px',\n          marginBottom: '20px'\n        },\n        children: [\"Chyba: \", error]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 5534,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: fetchStatistics,\n        style: {\n          padding: '10px 20px',\n          backgroundColor: '#007bff',\n          color: 'white',\n          border: 'none',\n          borderRadius: '4px'\n        },\n        children: \"Zkusit znovu\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 5537,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 5533,\n      columnNumber: 7\n    }, this);\n  }\n  if (!statisticsData) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '40px',\n        textAlign: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: '18px',\n          color: '#666'\n        },\n        children: \"Statistiky nenalezeny\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 5556,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 5555,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '20px',\n      maxWidth: '1200px',\n      margin: '0 auto'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: '30px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        style: {\n          marginBottom: '10px'\n        },\n        children: \"\\uD83D\\uDCCA Statistiky dotazn\\xEDku\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 5565,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          color: '#666',\n          fontWeight: 'normal',\n          marginBottom: '10px'\n        },\n        children: statisticsData.survey.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 5566,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          backgroundColor: '#e3f2fd',\n          padding: '15px',\n          borderRadius: '8px',\n          border: '1px solid #2196f3'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: '18px',\n            fontWeight: 'bold',\n            color: '#1976d2'\n          },\n          children: [\"Celkem odpov\\u011Bd\\xED: \", statisticsData.responseCount]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 5575,\n          columnNumber: 11\n        }, this), statisticsData.survey.description && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: '8px',\n            color: '#666'\n          },\n          children: statisticsData.survey.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 5579,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 5569,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 5564,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: '40px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          marginBottom: '20px'\n        },\n        children: \"Statistiky podle ot\\xE1zek\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 5588,\n        columnNumber: 9\n      }, this), Object.keys(statisticsData.statistics).length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: 'center',\n          padding: '40px',\n          backgroundColor: '#f8f9fa',\n          borderRadius: '8px',\n          color: '#666'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: '18px',\n            marginBottom: '10px'\n          },\n          children: \"\\uD83D\\uDCCA\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 5598,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Zat\\xEDm \\u017E\\xE1dn\\xE9 odpov\\u011Bdi k anal\\xFDze\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 5599,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 5591,\n        columnNumber: 11\n      }, this) : Object.entries(statisticsData.statistics).map(([stepId, statistics]) => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          backgroundColor: 'white',\n          border: '1px solid #ddd',\n          borderRadius: '8px',\n          padding: '20px',\n          marginBottom: '20px',\n          boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            marginBottom: '15px',\n            color: '#333',\n            borderBottom: '2px solid #f0f0f0',\n            paddingBottom: '10px'\n          },\n          children: [\"Ot\\xE1zka \", stepId, \" (\", statistics.type, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 5611,\n          columnNumber: 15\n        }, this), statistics.type === 'emoji-rating' && renderEmojiStatistics(statistics), statistics.type === 'text' && renderTextStatistics(statistics)]\n      }, stepId, true, {\n        fileName: _jsxFileName,\n        lineNumber: 5603,\n        columnNumber: 13\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 5587,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: '40px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          marginBottom: '20px'\n        },\n        children: \"Jednotliv\\xE9 odpov\\u011Bdi\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 5629,\n        columnNumber: 9\n      }, this), statisticsData.individualResponses.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: 'center',\n          padding: '40px',\n          backgroundColor: '#f8f9fa',\n          borderRadius: '8px',\n          color: '#666'\n        },\n        children: \"Zat\\xEDm \\u017E\\xE1dn\\xE9 odpov\\u011Bdi\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 5632,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          overflowX: 'auto'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          style: {\n            width: '100%',\n            borderCollapse: 'collapse',\n            fontSize: '14px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              style: {\n                backgroundColor: '#f8f9fa'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  padding: '12px',\n                  textAlign: 'left',\n                  border: '1px solid #dee2e6'\n                },\n                children: \"\\u010Cas odesl\\xE1n\\xED\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 5646,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  padding: '12px',\n                  textAlign: 'left',\n                  border: '1px solid #dee2e6'\n                },\n                children: \"IP adresa\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 5649,\n                columnNumber: 19\n              }, this), Object.keys(statisticsData.statistics).map(stepId => /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  padding: '12px',\n                  textAlign: 'left',\n                  border: '1px solid #dee2e6'\n                },\n                children: [\"Ot\\xE1zka \", stepId]\n              }, stepId, true, {\n                fileName: _jsxFileName,\n                lineNumber: 5654,\n                columnNumber: 21\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 5645,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5644,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: statisticsData.individualResponses.map(response => /*#__PURE__*/_jsxDEV(\"tr\", {\n              style: {\n                borderBottom: '1px solid #dee2e6'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                style: {\n                  padding: '12px',\n                  border: '1px solid #dee2e6'\n                },\n                children: new Date(response.submittedAt).toLocaleString('cs-CZ')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 5663,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                style: {\n                  padding: '12px',\n                  border: '1px solid #dee2e6',\n                  fontFamily: 'monospace'\n                },\n                children: response.ipAddress || 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 5666,\n                columnNumber: 21\n              }, this), Object.keys(statisticsData.statistics).map(stepId => /*#__PURE__*/_jsxDEV(\"td\", {\n                style: {\n                  padding: '12px',\n                  border: '1px solid #dee2e6'\n                },\n                children: response.answers[stepId] ? /*#__PURE__*/_jsxDEV(\"span\", {\n                  title: `Typ: ${response.answers[stepId].type}`,\n                  children: response.answers[stepId].value || 'Bez odpovědi'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 5673,\n                  columnNumber: 27\n                }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    color: '#999',\n                    fontStyle: 'italic'\n                  },\n                  children: \"Bez odpov\\u011Bdi\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 5677,\n                  columnNumber: 27\n                }, this)\n              }, stepId, false, {\n                fileName: _jsxFileName,\n                lineNumber: 5671,\n                columnNumber: 23\n              }, this))]\n            }, response.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 5662,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5660,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 5643,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 5642,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 5628,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: 'center',\n        marginTop: '40px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => window.close(),\n        style: {\n          padding: '12px 24px',\n          backgroundColor: '#6c757d',\n          color: 'white',\n          border: 'none',\n          borderRadius: '4px',\n          fontSize: '16px',\n          marginRight: '10px'\n        },\n        children: \"Zav\\u0159\\xEDt\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 5691,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: fetchStatistics,\n        style: {\n          padding: '12px 24px',\n          backgroundColor: '#28a745',\n          color: 'white',\n          border: 'none',\n          borderRadius: '4px',\n          fontSize: '16px'\n        },\n        children: \"\\uD83D\\uDD04 Aktualizovat\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 5705,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 5690,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 5562,\n    columnNumber: 5\n  }, this);\n};\n\n// Floating Feedback Widget - System Component (Uneditable)\n// FloatingFeedbackWidget removed - floating icon now only shows in preview (Krok 0a)\n_s18(Statistics, \"tZ3Df28PMLCGV0wDDUihzz4PyQ8=\", false, function () {\n  return [useAuth, useLocation];\n});\n_c22 = Statistics;\nfunction App() {\n  return /*#__PURE__*/_jsxDEV(AuthProvider, {\n    children: [/*#__PURE__*/_jsxDEV(GlobalStyles, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 5729,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Router, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"App\",\n        children: /*#__PURE__*/_jsxDEV(Routes, {\n          children: [/*#__PURE__*/_jsxDEV(Route, {\n            path: \"/login\",\n            element: /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5733,\n              columnNumber: 43\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5733,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/confirm-email\",\n            element: /*#__PURE__*/_jsxDEV(EmailConfirmation, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5734,\n              columnNumber: 51\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5734,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/dashboard\",\n            element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n              children: /*#__PURE__*/_jsxDEV(Dashboard, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 5741,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5740,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5737,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/survey-creator\",\n            element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n              children: /*#__PURE__*/_jsxDEV(SurveyCreator, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 5749,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5748,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5745,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/survey-creator/edit/:surveyId\",\n            element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n              children: /*#__PURE__*/_jsxDEV(SurveyCreatorWithParams, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 5757,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5756,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5753,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/surveys\",\n            element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n              children: /*#__PURE__*/_jsxDEV(SurveyList, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 5765,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5764,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5761,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/global-surveys\",\n            element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n              children: /*#__PURE__*/_jsxDEV(AdminRoute, {\n                children: /*#__PURE__*/_jsxDEV(GlobalSurveysCreator, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 5774,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 5773,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5772,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5769,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/tokens\",\n            element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n              children: /*#__PURE__*/_jsxDEV(TokenList, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 5783,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5782,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5779,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/settings\",\n            element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n              children: /*#__PURE__*/_jsxDEV(Settings, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 5791,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5790,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5787,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/users\",\n            element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n              children: /*#__PURE__*/_jsxDEV(AdminRoute, {\n                children: /*#__PURE__*/_jsxDEV(UserList, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 5802,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 5801,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5800,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5797,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/logs\",\n            element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n              children: /*#__PURE__*/_jsxDEV(AdminRoute, {\n                children: /*#__PURE__*/_jsxDEV(AuditLogs, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 5812,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 5811,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5810,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5807,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/statistics/:surveyId\",\n            element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n              children: /*#__PURE__*/_jsxDEV(Statistics, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 5821,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5820,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5817,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/\",\n            element: /*#__PURE__*/_jsxDEV(Navigate, {\n              to: \"/dashboard\",\n              replace: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5826,\n              columnNumber: 38\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5826,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"*\",\n            element: /*#__PURE__*/_jsxDEV(Navigate, {\n              to: \"/dashboard\",\n              replace: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5827,\n              columnNumber: 38\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5827,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 5732,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 5731,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 5730,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 5728,\n    columnNumber: 5\n  }, this);\n}\n_c23 = App;\nexport default App;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12, _c13, _c14, _c15, _c16, _c17, _c18, _c19, _c20, _c21, _c22, _c23;\n$RefreshReg$(_c, \"EmailConfirmation\");\n$RefreshReg$(_c2, \"Login\");\n$RefreshReg$(_c3, \"Navigation\");\n$RefreshReg$(_c4, \"Dashboard\");\n$RefreshReg$(_c5, \"SurveyCreator\");\n$RefreshReg$(_c6, \"SurveyStepCard\");\n$RefreshReg$(_c7, \"SurveyStepEditor\");\n$RefreshReg$(_c8, \"SurveyPreview\");\n$RefreshReg$(_c9, \"BuildingBlocksPalette\");\n$RefreshReg$(_c0, \"SurveyCanvas\");\n$RefreshReg$(_c1, \"SurveyCardManager\");\n$RefreshReg$(_c10, \"CardTab\");\n$RefreshReg$(_c11, \"SurveyCreatorWithParams\");\n$RefreshReg$(_c12, \"GlobalSurveysCreator\");\n$RefreshReg$(_c13, \"SurveyList\");\n$RefreshReg$(_c14, \"TokenList\");\n$RefreshReg$(_c15, \"UserList\");\n$RefreshReg$(_c16, \"AuditLogs\");\n$RefreshReg$(_c17, \"UserForm\");\n$RefreshReg$(_c18, \"Settings\");\n$RefreshReg$(_c19, \"Layout\");\n$RefreshReg$(_c20, \"ProtectedRoute\");\n$RefreshReg$(_c21, \"AdminRoute\");\n$RefreshReg$(_c22, \"Statistics\");\n$RefreshReg$(_c23, \"App\");","map":{"version":3,"names":["React","useState","BrowserRouter","Router","Routes","Route","Navigate","useNavigate","useParams","useLocation","AuthProvider","useAuth","GlobalStyles","jsxDEV","_jsxDEV","Fragment","_Fragment","EmailConfirmation","_s","pendingConfirmation","confirmEmail","resendConfirmation","cancelConfirmation","isLoading","navigate","confirmationCode","setConfirmationCode","message","setMessage","useEffect","handleSubmit","e","preventDefault","result","success","error","handleResend","handleCancel","style","padding","maxWidth","margin","children","fileName","_jsxFileName","lineNumber","columnNumber","email","backgroundColor","border","borderRadius","marginBottom","fontSize","color","startsWith","onSubmit","type","value","onChange","target","toUpperCase","required","width","textAlign","letterSpacing","placeholder","maxLength","disabled","length","opacity","marginTop","onClick","background","cursor","textDecoration","marginRight","_c","Login","_s2","login","isAuthenticated","formData","FormData","username","get","password","requiresConfirmation","alert","name","_c2","Navigation","_s3","user","logout","menuItems","path","label","visibleTo","filteredItems","filter","item","role","borderBottom","display","justifyContent","alignItems","gap","fontFamily","fontWeight","lineHeight","map","_c3","Dashboard","_c4","SurveyCreator","editingSurveyId","globalMode","_s4","currentStep","setCurrentStep","isEditMode","setIsEditMode","originalSurveyId","setOriginalSurveyId","loadingSurvey","setLoadingSurvey","getInitialSurvey","title","description","cards","id","isAdminOnly","isEditable","steps","isSystem","question","uneditable","survey","setSurvey","loadGlobalSections","loadSurveyForEditing","loadGlobalSectionsForUserSurvey","response","fetch","headers","localStorage","getItem","ok","data","json","prev","card","introSection","outroSection","console","surveyId","surveyData","config","Error","activeCardIndex","setActiveCardIndex","editingStep","setEditingStep","showStepEditor","setShowStepEditor","draggedStep","setDraggedStep","dragOverIndex","setDragOverIndex","saveSurvey","introCard","find","outroCard","method","body","JSON","stringify","url","flatMap","addStep","stepData","newStep","Date","now","index","updateStep","step","deleteStep","stepId","cardIndex","window","confirm","moveStep","direction","activeCard","currentIndex","findIndex","newIndex","handleDragStart","dataTransfer","effectAllowed","setData","parentNode","setDragImage","handleDragOver","dropEffect","handleDragLeave","currentTarget","contains","relatedTarget","handleDrop","dropIndex","newSteps","draggedItem","splice","actualDropIndex","handleDragEnd","minHeight","resize","position","href","BuildingBlocksPalette","flex","SurveyCardManager","onActiveCardChange","onSurveyChange","onEditStep","onDeleteStep","borderTop","every","some","SurveyPreview","onClose","SurveyStepEditor","onSave","onCancel","_c5","SurveyStepCard","onEdit","onDelete","onDragStart","isDragging","isInCanvas","canEdit","getStepIcon","getStepTypeName","draggable","undefined","boxShadow","transition","transform","userSelect","options","slice","option","i","flexDirection","_c6","_s5","setFormData","conditionalTriggers","hasTextbox","textboxPlaceholder","newOption","setNewOption","addOption","trim","removeOption","_","top","left","right","bottom","zIndex","maxHeight","overflow","newOptions","onKeyPress","key","checked","optionIndex","trigger","t","marginLeft","optionText","textboxLabel","htmlFor","_c7","_s7","_s6","$RefreshSig$","currentCardIndex","setCurrentCardIndex","previewAnswers","setPreviewAnswers","dropdownStates","setDropdownStates","showScreenshotForm","setShowScreenshotForm","showSuccessScreen","setShowSuccessScreen","showScreenshotSuccess","setShowScreenshotSuccess","SmileyIcon","iconName","state","size","currentState","setCurrentState","getIconPath","stateFolder","src","alt","height","onMouseEnter","onMouseLeave","getAllCardsWithSteps","getNonSystemCardsWithSteps","allCardsWithSteps","nonSystemCards","totalCards","currentCard","currentBlocks","isSystemCard","renderSmileyRating","smileyIcons","stepKey","Math","random","selectedRating","isSelected","iconState","outline","fontStyle","renderSingleChoice","_step$conditionalTrig","paddingLeft","parseInt","appearance","pointerEvents","paddingTop","paddingRight","paddingBottom","renderMultiSelect","selectedOptions","_step$conditionalTrig2","includes","currentSelected","borderLeft","renderTextInput","renderRatingScale","rating","renderSectionHeader","renderDropdownMultiSelect","isOpen","toggleDropdown","borderWidth","borderStyle","borderColor","viewBox","fill","xmlns","fillRule","clipRule","d","overflowY","flexWrap","textOverflow","whiteSpace","opt","flexShrink","triggerIndex","isTriggered","renderFloatingWidget","feedbackModalIndex","nextNonSystemIndex","renderFeedbackModal","firstNonSystemIndex","renderScreenshotForm","renderSuccessScreen","renderStepContent","block","nonSystemCardsBeforeCurrent","_c8","buildingBlocks","icon","blockType","_c9","SurveyCanvas","onStepsChange","cardInfo","isAdmin","_s8","draggedStepIndex","setDraggedStepIndex","getData","dragData","parse","getDefaultQuestion","getDefaultOptions","conditional","dragIndex","handleStepDragStart","dropZones","push","onDragOver","onDrop","onDragLeave","getEmptyStateContent","content","_c0","_s9","handleStepsChange","canEditCard","isGlobal","handleCardClick","shouldRedirect","canDeleteCard","userCards","c","addNewCard","newCardNumber","lastAdminCardIndex","newCard","newCards","deleteCard","newActiveIndex","renameCard","newTitle","filteredIndex","originalIndex","CardTab","isActive","canDelete","onRename","_c1","_s0","isEditing","setIsEditing","editTitle","setEditTitle","handleDoubleClick","handleKeyPress","handleSaveEdit","onDoubleClick","minWidth","onBlur","onKeyDown","autoFocus","stopPropagation","_c10","SurveyCreatorWithParams","_s1","_c11","GlobalSurveysCreator","_c12","SurveyList","_s10","surveys","setSurveys","loading","setLoading","setError","fetchSurveys","handleEdit","handleDelete","surveyTitle","getStatusColor","status","getStatusText","overflowX","borderCollapse","owner_username","user_id","is_active","token_count","created_at","toLocaleDateString","day","month","year","toLocaleTimeString","hour","minute","updated_at","_c13","TokenList","_s11","tokens","setTokens","showCreateForm","setShowCreateForm","newToken","setNewToken","allowedDomains","validFrom","validTo","fetchTokens","handleCreateToken","survey_id","allowed_domains","split","valid_from","valid_until","errorData","handleToggleStatus","tokenId","currentStatus","newStatus","action","endpoint","handleDeleteToken","tokenName","copyToClipboard","text","navigator","clipboard","writeText","then","catch","token","token_id","survey_title","valid_to","location","origin","open","_c14","UserList","_s12","users","setUsers","editingUser","setEditingUser","fetchUsers","newPassword","handleSave","updateData","userId","handleCreate","userData","UserForm","_c15","AuditLogs","_s13","logs","setLogs","filters","setFilters","eventType","dateFrom","dateTo","page","limit","fetchLogs","queryParams","URLSearchParams","append","handleFilterChange","field","getEventTypeColor","colors","formatEventDescription","log","resource_type","resource_id","gridTemplateColumns","timestamp","toLocaleString","details","ip_address","user_agent","substring","_c16","_s14","confirmPassword","dataToSave","handleChange","newData","_c17","Settings","_s15","updateProfile","currentPassword","_c18","Layout","_c19","ProtectedRoute","_s16","to","replace","_c20","AdminRoute","_s17","_c21","Statistics","_s18","pathname","statisticsData","setStatisticsData","fetchStatistics","renderEmojiStatistics","statistics","emojiLabels","emojiIcons","count","distribution","percentage","totalResponses","toFixed","renderTextStatistics","textResponses","responseCount","Object","keys","entries","individualResponses","submittedAt","ipAddress","answers","close","_c22","App","className","element","_c23","$RefreshReg$"],"sources":["C:/Users/simko/Downloads/ZpRopim4/ZpetnaVazbaFinal/client/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate, useNavigate, useParams, useLocation } from 'react-router-dom';\nimport { AuthProvider, useAuth } from './contexts/AuthContext';\nimport GlobalStyles from './styles/GlobalStyles';\n\n// Email Confirmation Component\nconst EmailConfirmation = () => {\n  const { pendingConfirmation, confirmEmail, resendConfirmation, cancelConfirmation, isLoading } = useAuth();\n  const navigate = useNavigate();\n  const [confirmationCode, setConfirmationCode] = React.useState('');\n  const [message, setMessage] = React.useState('');\n\n  React.useEffect(() => {\n    if (!pendingConfirmation) {\n      navigate('/login');\n    }\n  }, [pendingConfirmation, navigate]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setMessage('');\n    \n    try {\n      const result = await confirmEmail(confirmationCode);\n      if (result.success) {\n        navigate('/dashboard');\n      } else {\n        setMessage('Chyba: ' + result.error);\n      }\n    } catch (error) {\n      setMessage('Chyba: ' + error.message);\n    }\n  };\n\n  const handleResend = async () => {\n    setMessage('');\n    try {\n      const result = await resendConfirmation();\n      if (result.success) {\n        setMessage('Potvrzovací email byl znovu odeslán.');\n      } else {\n        setMessage('Chyba: ' + result.error);\n      }\n    } catch (error) {\n      setMessage('Chyba: ' + error.message);\n    }\n  };\n\n  const handleCancel = () => {\n    cancelConfirmation();\n    navigate('/login');\n  };\n\n  if (!pendingConfirmation) {\n    return null;\n  }\n\n  return (\n    <div style={{ padding: '20px', maxWidth: '400px', margin: '100px auto' }}>\n      <h2>Potvrďte svůj email</h2>\n      <p>\n        Na váš email <strong>{pendingConfirmation.email}</strong> jsme vám poslali potvrzovací kód.\n        Zadejte ho níže pro dokončení přihlášení.\n      </p>\n      \n      <div style={{ \n        backgroundColor: '#fff3cd', \n        border: '1px solid #ffeaa7',\n        borderRadius: '4px',\n        padding: '12px',\n        marginBottom: '15px',\n        fontSize: '14px',\n        color: '#856404'\n      }}>\n        <strong>💡 Tip:</strong> Pokud email nevidíte, zkontrolujte prosím složku <strong>spam/nevyžádaná pošta</strong>. \n        Automatické emaily se někdy dostávají do této složky.\n      </div>\n      \n      {message && (\n        <div style={{ \n          padding: '10px', \n          marginBottom: '10px', \n          backgroundColor: message.startsWith('Chyba') ? '#f8d7da' : '#d4edda',\n          color: message.startsWith('Chyba') ? '#721c24' : '#155724',\n          border: '1px solid ' + (message.startsWith('Chyba') ? '#f5c6cb' : '#c3e6cb'),\n          borderRadius: '4px'\n        }}>\n          {message}\n        </div>\n      )}\n      \n      <form onSubmit={handleSubmit}>\n        <div style={{ marginBottom: '15px' }}>\n          <label>Potvrzovací kód:</label>\n          <input \n            type=\"text\" \n            value={confirmationCode}\n            onChange={(e) => setConfirmationCode(e.target.value.toUpperCase())}\n            required \n            style={{ \n              width: '100%', \n              padding: '8px',\n              textAlign: 'center',\n              fontSize: '18px',\n              letterSpacing: '2px'\n            }}\n            placeholder=\"např. A1B2C3\"\n            maxLength={6}\n          />\n        </div>\n        <button \n          type=\"submit\" \n          disabled={isLoading || confirmationCode.length !== 6}\n          style={{ \n            padding: '10px 20px', \n            backgroundColor: '#28a745', \n            color: 'white', \n            border: 'none',\n            width: '100%',\n            marginBottom: '10px',\n            opacity: (isLoading || confirmationCode.length !== 6) ? 0.6 : 1\n          }}\n        >\n          {isLoading ? 'Ověřuji...' : 'Potvrdit'}\n        </button>\n      </form>\n      \n      <div style={{ textAlign: 'center', marginTop: '15px' }}>\n        <button \n          onClick={handleResend}\n          style={{ \n            background: 'none', \n            border: 'none', \n            color: '#007bff', \n            cursor: 'pointer',\n            textDecoration: 'underline',\n            marginRight: '15px'\n          }}\n        >\n          Odeslat znovu\n        </button>\n        <button \n          onClick={handleCancel}\n          style={{ \n            background: 'none', \n            border: 'none', \n            color: '#6c757d', \n            cursor: 'pointer',\n            textDecoration: 'underline'\n          }}\n        >\n          Zpět na přihlášení\n        </button>\n      </div>\n      \n      <div style={{ marginTop: '20px', fontSize: '14px', color: '#6c757d' }}>\n        <p>Tip: Potvrzovací kód je platný 15 minut a obsahuje 6 znaků (písmena a čísla).</p>\n      </div>\n    </div>\n  );\n};\n\n// Simple Login Component\nconst Login = () => {\n  const { login, isAuthenticated, pendingConfirmation } = useAuth();\n  const navigate = useNavigate();\n\n  // Redirect if already logged in or pending confirmation\n  React.useEffect(() => {\n    if (isAuthenticated) {\n      navigate('/dashboard');\n    } else if (pendingConfirmation) {\n      navigate('/confirm-email');\n    }\n  }, [isAuthenticated, pendingConfirmation, navigate]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const formData = new FormData(e.target);\n    try {\n      const result = await login({\n        username: formData.get('username'),\n        password: formData.get('password')\n      });\n      if (result.success) {\n        if (result.requiresConfirmation) {\n          navigate('/confirm-email');\n        } else {\n          navigate('/dashboard');\n        }\n      } else {\n        alert('Přihlášení se nezdařilo: ' + result.error);\n      }\n    } catch (error) {\n      alert('Přihlášení se nezdařilo: ' + error.message);\n    }\n  };\n\n  return (\n    <div style={{ padding: '20px', maxWidth: '400px', margin: '100px auto' }}>\n      <h2>Zpětná vazba - Přihlášení</h2>\n      <form onSubmit={handleSubmit}>\n        <div style={{ marginBottom: '10px' }}>\n          <label>Uživatelské jméno:</label>\n          <input type=\"text\" name=\"username\" required style={{ width: '100%', padding: '8px' }} />\n        </div>\n        <div style={{ marginBottom: '10px' }}>\n          <label>Heslo:</label>\n          <input type=\"password\" name=\"password\" required style={{ width: '100%', padding: '8px' }} />\n        </div>\n        <button type=\"submit\" style={{ padding: '10px 20px', backgroundColor: '#007bff', color: 'white', border: 'none' }}>\n          Přihlásit se\n        </button>\n      </form>\n    </div>\n  );\n};\n\n// Navigation Menu Component\nconst Navigation = () => {\n  const { user, logout } = useAuth();\n  const navigate = useNavigate();\n\n  const menuItems = [\n    { path: '/dashboard', label: 'Dashboard', visibleTo: 'all' },\n    { path: '/survey-creator', label: 'Survey Creator', visibleTo: 'all' },\n    { path: '/surveys', label: 'Survey List', visibleTo: 'all' },\n    { path: '/global-surveys', label: 'Global Surveys', visibleTo: 'admin' },\n    { path: '/tokens', label: 'Survey Tokenisation', visibleTo: 'all' },\n    { path: '/users', label: 'Users', visibleTo: 'admin' },\n    { path: '/logs', label: 'Logs', visibleTo: 'admin' },\n    { path: '/settings', label: 'Settings', visibleTo: 'all' }\n  ];\n\n  const filteredItems = menuItems.filter(item => \n    item.visibleTo === 'all' || (item.visibleTo === 'admin' && user?.role === 'admin')\n  );\n\n  return (\n    <nav style={{ \n      backgroundColor: '#f8f9fa', \n      padding: '10px 20px', \n      borderBottom: '1px solid #dee2e6',\n      display: 'flex',\n      justifyContent: 'space-between',\n      alignItems: 'center'\n    }}>\n      <div style={{ display: 'flex', gap: '20px', alignItems: 'center' }}>\n        <h2 style={{ \n          margin: 0, \n          color: '#262626',\n          fontFamily: 'Roboto, sans-serif',\n          fontWeight: 400,\n          fontSize: '24px',\n          lineHeight: '150%',\n          letterSpacing: '3.12%'\n        }}>Zpětná vazba</h2>\n        <div style={{ display: 'flex', gap: '15px' }}>\n          {filteredItems.map(item => (\n            <button\n              key={item.path}\n              onClick={() => navigate(item.path)}\n              style={{\n                background: 'none',\n                border: 'none',\n                color: '#007bff',\n                cursor: 'pointer',\n                padding: '5px 10px',\n                textDecoration: 'underline'\n              }}\n            >\n              {item.label}\n            </button>\n          ))}\n        </div>\n      </div>\n      <div style={{ display: 'flex', alignItems: 'center', gap: '10px' }}>\n        <span>Přihlášen jako: {user?.username} ({user?.role})</span>\n        <button \n          onClick={logout}\n          style={{ padding: '5px 10px', backgroundColor: '#dc3545', color: 'white', border: 'none', borderRadius: '3px' }}\n        >\n          Odhlásit se\n        </button>\n      </div>\n    </nav>\n  );\n};\n\n// Simple Dashboard Component\nconst Dashboard = () => {\n  return (\n    <div style={{ padding: '20px' }}>\n      <h3 style={{ color: '#CCFF00'}}>Vítejte v systému zpětné vazby!</h3>\n      <p>Základní funkcionalita aplikace:</p>\n      <ul>\n        <li><strong>Survey Creator</strong> - Vytvářejte nové dotazníky</li>\n        <li><strong>Survey List</strong> - Spravujte existující dotazníky</li>\n        <li><strong>Survey Tokenisation</strong> - Vytvářejte embedovatelné widgety</li>\n        <li><strong>Users</strong> - Správa uživatelů (pouze admin)</li>\n        <li><strong>Logs</strong> - Audit trail (pouze admin)</li>\n        <li><strong>Settings</strong> - Osobní nastavení</li>\n      </ul>\n    </div>\n  );\n};\n\n// Placeholder components for menu items\nconst SurveyCreator = ({ editingSurveyId = null, globalMode = false }) => {\n  const { user } = useAuth();\n  const navigate = useNavigate();\n  const [currentStep, setCurrentStep] = React.useState(globalMode ? 2 : 1);\n  const [isEditMode, setIsEditMode] = React.useState(!!editingSurveyId);\n  const [originalSurveyId, setOriginalSurveyId] = React.useState(editingSurveyId);\n  const [loadingSurvey, setLoadingSurvey] = React.useState(!!editingSurveyId);\n  \n  // Initialize survey structure based on mode\n  const getInitialSurvey = () => {\n    if (globalMode) {\n      return {\n        title: 'Globální sekce',\n        description: 'Úprava globálních sekcí sdílených napříč všemi průzkumy',\n        cards: [\n          {\n            id: 2,\n            title: 'Úvodní sekce',\n            description: 'Systémová úvodní část (pouze admin)',\n            isAdminOnly: true,\n            isEditable: true,\n            steps: []\n          },\n          {\n            id: 4,\n            title: 'Závěrečná sekce',\n            description: 'Systémová závěrečná část (pouze admin)',\n            isAdminOnly: true,\n            isEditable: true,\n            steps: []\n          }\n        ]\n      };\n    } else {\n      return {\n        title: '',\n        description: '',\n        cards: [\n          {\n            id: 0,\n            title: 'Floating Widget',\n            description: 'Floating feedback widget',\n            isAdminOnly: false,\n            isEditable: false,\n            isSystem: true,\n            steps: [\n              {\n                id: 'floating-widget',\n                type: 'floating-widget',\n                question: 'Floating feedback widget',\n                isSystem: true,\n                uneditable: true\n              }\n            ]\n          },\n          {\n            id: 1,\n            title: 'Feedback Modal',\n            description: 'Feedback options',\n            isAdminOnly: false,\n            isEditable: false,\n            isSystem: true,\n            steps: [\n              {\n                id: 'feedback-modal',\n                type: 'feedback-modal',\n                question: 'Feedback options',\n                isSystem: true,\n                uneditable: true\n              }\n            ]\n          },\n          {\n            id: 2,\n            title: 'Úvodní sekce',\n            description: 'Systémová úvodní část (pouze admin)',\n            isAdminOnly: true,\n            isEditable: false,\n            steps: []\n          },\n          {\n            id: 3,\n            title: 'Hlavní obsah',\n            description: 'Editovatelná část pro uživatele',\n            isAdminOnly: false,\n            isEditable: true,\n            steps: []\n          },\n          {\n            id: 4,\n            title: 'Závěrečná sekce',\n            description: 'Systémová závěrečná část (pouze admin)',\n            isAdminOnly: true,\n            isEditable: false,\n            steps: []\n          }\n        ]\n      };\n    }\n  };\n\n  const [survey, setSurvey] = React.useState(getInitialSurvey());\n\n  // Load existing survey for editing or global sections\n  React.useEffect(() => {\n    if (globalMode) {\n      loadGlobalSections();\n    } else if (editingSurveyId) {\n      loadSurveyForEditing(editingSurveyId);\n    } else {\n      loadGlobalSectionsForUserSurvey();\n    }\n  }, [editingSurveyId, globalMode]);\n\n  const loadGlobalSections = async () => {\n    try {\n      setLoadingSurvey(true);\n      const response = await fetch('/api/global-surveys/sections', {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        setSurvey(prev => ({\n          ...prev,\n          cards: prev.cards.map(card => {\n            if (card.id === 2) { // Úvodní sekce\n              return { ...card, steps: data.introSection || [] };\n            } else if (card.id === 4) { // Závěrečná sekce\n              return { ...card, steps: data.outroSection || [] };\n            }\n            return card;\n          })\n        }));\n      }\n    } catch (error) {\n      console.error('Error loading global sections:', error);\n    } finally {\n      setLoadingSurvey(false);\n    }\n  };\n\n  const loadGlobalSectionsForUserSurvey = async () => {\n    try {\n      const response = await fetch('/api/global-surveys/sections', {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        \n        // Update the intro and outro sections with global content\n        setSurvey(prev => ({\n          ...prev,\n          cards: prev.cards.map(card => {\n            if (card.id === 2) { // Úvodní sekce\n              return { ...card, steps: data.introSection || [] };\n            } else if (card.id === 4) { // Závěrečná sekce\n              return { ...card, steps: data.outroSection || [] };\n            }\n            return card;\n          })\n        }));\n      }\n    } catch (error) {\n      console.error('Error loading global sections:', error);\n    }\n  };\n\n  const loadSurveyForEditing = async (surveyId) => {\n    try {\n      setLoadingSurvey(true);\n      const response = await fetch(`/api/surveys/${surveyId}`, {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n\n      if (response.ok) {\n        const surveyData = await response.json();\n        setSurvey({\n          title: surveyData.title,\n          description: surveyData.description,\n          cards: surveyData.config.cards || survey.cards // Use existing cards as fallback\n        });\n        setIsEditMode(true);\n        setOriginalSurveyId(surveyId);\n      } else {\n        throw new Error('Chyba při načítání dotazníku');\n      }\n    } catch (error) {\n      console.error('Error loading survey:', error);\n      alert('Chyba při načítání dotazníku: ' + error.message);\n      navigate('/surveys');\n    } finally {\n      setLoadingSurvey(false);\n    }\n  };\n\n  const [activeCardIndex, setActiveCardIndex] = React.useState(globalMode ? 0 : 2); // Default to first global card in global mode\n\n  const [editingStep, setEditingStep] = React.useState(null);\n  const [showStepEditor, setShowStepEditor] = React.useState(false);\n  const [draggedStep, setDraggedStep] = React.useState(null);\n  const [dragOverIndex, setDragOverIndex] = React.useState(null);\n\n  const saveSurvey = async () => {\n    try {\n      if (globalMode) {\n        // Save global sections\n        const introCard = survey.cards.find(card => card.id === 2);\n        const outroCard = survey.cards.find(card => card.id === 4);\n        \n        const response = await fetch('/api/global-surveys/sections', {\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${localStorage.getItem('token')}`\n          },\n          body: JSON.stringify({\n            introSection: introCard?.steps || [],\n            outroSection: outroCard?.steps || []\n          })\n        });\n\n        if (response.ok) {\n          alert('Globální sekce byly úspěšně uloženy!');\n        } else {\n          throw new Error('Chyba při ukládání globálních sekcí');\n        }\n      } else {\n        // Regular survey save\n        const url = isEditMode ? `/api/surveys/${originalSurveyId}` : '/api/surveys';\n        const method = isEditMode ? 'PUT' : 'POST';\n        \n        const response = await fetch(url, {\n          method: method,\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${localStorage.getItem('token')}`\n          },\n          body: JSON.stringify({\n            title: survey.title,\n            description: survey.description,\n            config: {\n              cards: survey.cards,\n              steps: survey.cards.flatMap(card => card.steps || [])\n            }\n          })\n        });\n\n        if (response.ok) {\n          if (isEditMode) {\n            alert('Průzkum byl úspěšně aktualizován!');\n            navigate('/surveys');\n          } else {\n            alert('Průzkum byl úspěšně uložen!');\n            // Reset form for new survey\n            setSurvey(getInitialSurvey());\n            setCurrentStep(1);\n          }\n        } else {\n          alert(isEditMode ? 'Chyba při aktualizaci průzkumu' : 'Chyba při ukládání průzkumu');\n        }\n      }\n    } catch (error) {\n      console.error('Error saving survey:', error);\n      alert(globalMode ? 'Chyba při ukládání globálních sekcí' : (isEditMode ? 'Chyba při aktualizaci průzkumu' : 'Chyba při ukládání průzkumu'));\n    }\n  };\n\n  const addStep = (stepData) => {\n    const newStep = {\n      id: Date.now(),\n      ...stepData\n    };\n    setSurvey(prev => ({\n      ...prev,\n      cards: prev.cards.map((card, index) => \n        index === activeCardIndex \n          ? { ...card, steps: [...card.steps, newStep] }\n          : card\n      )\n    }));\n    setShowStepEditor(false);\n    setEditingStep(null);\n  };\n\n  const updateStep = (stepData) => {\n    setSurvey(prev => ({\n      ...prev,\n      cards: prev.cards.map((card, index) => \n        index === activeCardIndex \n          ? { \n              ...card, \n              steps: card.steps.map(step => \n                step.id === editingStep.id ? { ...editingStep, ...stepData } : step\n              )\n            }\n          : card\n      )\n    }));\n    setShowStepEditor(false);\n    setEditingStep(null);\n  };\n\n  const deleteStep = (stepId, cardIndex) => {\n    if (window.confirm('Opravdu chcete smazat tento blok?')) {\n      setSurvey(prev => ({\n        ...prev,\n        cards: prev.cards.map((card, index) => \n          index === cardIndex \n            ? { ...card, steps: card.steps.filter(step => step.id !== stepId) }\n            : card\n        )\n      }));\n    }\n  };\n\n  const moveStep = (stepId, direction) => {\n    const activeCard = survey.cards[activeCardIndex];\n    if (!activeCard) return;\n    \n    const steps = [...activeCard.steps];\n    const currentIndex = steps.findIndex(step => step.id === stepId);\n    const newIndex = direction === 'up' ? currentIndex - 1 : currentIndex + 1;\n    \n    if (newIndex >= 0 && newIndex < steps.length) {\n      [steps[currentIndex], steps[newIndex]] = [steps[newIndex], steps[currentIndex]];\n      setSurvey(prev => ({\n        ...prev,\n        cards: prev.cards.map((card, index) => \n          index === activeCardIndex ? { ...card, steps } : card\n        )\n      }));\n    }\n  };\n\n  // Drag and Drop handlers\n  const handleDragStart = (e, index) => {\n    setDraggedStep(index);\n    e.dataTransfer.effectAllowed = 'move';\n    e.dataTransfer.setData('text/html', e.target.parentNode);\n    e.dataTransfer.setDragImage(e.target, 0, 0);\n  };\n\n  const handleDragOver = (e, index) => {\n    e.preventDefault();\n    e.dataTransfer.dropEffect = 'move';\n    setDragOverIndex(index);\n  };\n\n  const handleDragLeave = (e) => {\n    // Only clear drag over if we're actually leaving the component\n    if (!e.currentTarget.contains(e.relatedTarget)) {\n      setDragOverIndex(null);\n    }\n  };\n\n  const handleDrop = (e, dropIndex) => {\n    e.preventDefault();\n    \n    if (draggedStep === null || draggedStep === dropIndex) {\n      setDraggedStep(null);\n      setDragOverIndex(null);\n      return;\n    }\n\n    const activeCard = survey.cards[activeCardIndex];\n    if (!activeCard) {\n      setDraggedStep(null);\n      setDragOverIndex(null);\n      return;\n    }\n\n    const newSteps = [...activeCard.steps];\n    const draggedItem = newSteps[draggedStep];\n    \n    // Remove dragged item\n    newSteps.splice(draggedStep, 1);\n    \n    // Insert at new position\n    const actualDropIndex = draggedStep < dropIndex ? dropIndex - 1 : dropIndex;\n    newSteps.splice(actualDropIndex, 0, draggedItem);\n    \n    setSurvey(prev => ({\n      ...prev,\n      cards: prev.cards.map((card, index) => \n        index === activeCardIndex ? { ...card, steps: newSteps } : card\n      )\n    }));\n    setDraggedStep(null);\n    setDragOverIndex(null);\n  };\n\n  const handleDragEnd = () => {\n    setDraggedStep(null);\n    setDragOverIndex(null);\n  };\n\n  if (loadingSurvey) {\n    return (\n      <div style={{ padding: '20px', maxWidth: '1200px', margin: '0 auto', textAlign: 'center' }}>\n        <h2>Survey Creator</h2>\n        <div style={{ marginTop: '50px' }}>\n          <div style={{ fontSize: '18px', marginBottom: '20px' }}>Načítání dotazníku...</div>\n          <div style={{ fontSize: '14px', color: '#6c757d' }}>Prosím počkejte, než se načtou data dotazníku</div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div style={{ padding: '20px', maxWidth: '1200px', margin: '0 auto' }}>\n      <h2>{globalMode ? 'Správa globálních sekcí' : (isEditMode ? 'Editace dotazníku' : 'Survey Creator')}</h2>\n      <p style={{ color: '#6c757d', marginBottom: '30px' }}>\n        {globalMode \n          ? 'Upravte globální sekce \"Úvodní sekce\" a \"Závěrečná sekce\" sdílené napříč všemi průzkumy' \n          : (isEditMode ? 'Upravujte existující průzkum a změny budou uloženy jako nová verze' : 'Vytvořte vlastní průzkum pomocí různých stavebních bloků')\n        }\n      </p>\n      \n      {isEditMode && (\n        <div style={{ \n          backgroundColor: '#e3f2fd', \n          border: '1px solid #2196f3', \n          borderRadius: '8px', \n          padding: '16px', \n          marginBottom: '20px' \n        }}>\n          <div style={{ display: 'flex', alignItems: 'center', marginBottom: '8px' }}>\n            <span style={{ fontSize: '20px', marginRight: '8px' }}>✏️</span>\n            <strong style={{ color: '#1976d2' }}>EDITAČNÍ REŽIM</strong>\n          </div>\n          <p style={{ margin: '0', color: '#1976d2', fontSize: '14px' }}>\n            Upravujete dotazník: <strong>\"{survey.title}\"</strong>. \n            Po uložení bude vytvořena nová aktualizovaná verze průzkumu.\n          </p>\n        </div>\n      )}\n\n      {/* Survey Basic Info */}\n      {currentStep === 1 && (\n        <div style={{ \n          backgroundColor: '#f8f9fa', \n          padding: '30px', \n          borderRadius: '8px', \n          marginBottom: '20px',\n          border: '1px solid #dee2e6'\n        }}>\n          <h3>Krok 1: Základní informace</h3>\n          \n          <div style={{ marginBottom: '20px' }}>\n            <label style={{ display: 'block', marginBottom: '8px', fontWeight: 'bold' }}>\n              Název průzkumu *\n            </label>\n            <input\n              type=\"text\"\n              value={survey.title}\n              onChange={(e) => setSurvey(prev => ({ ...prev, title: e.target.value }))}\n              style={{ \n                width: '100%', \n                padding: '12px', \n                border: '1px solid #ced4da', \n                borderRadius: '4px',\n                fontSize: '16px'\n              }}\n              placeholder=\"Zadejte název vašeho průzkumu\"\n            />\n          </div>\n\n          <div style={{ marginBottom: '30px' }}>\n            <label style={{ display: 'block', marginBottom: '8px', fontWeight: 'bold' }}>\n              Popis průzkumu\n            </label>\n            <textarea\n              value={survey.description}\n              onChange={(e) => setSurvey(prev => ({ ...prev, description: e.target.value }))}\n              style={{ \n                width: '100%', \n                padding: '12px', \n                border: '1px solid #ced4da', \n                borderRadius: '4px',\n                fontSize: '16px',\n                minHeight: '100px',\n                resize: 'vertical'\n              }}\n              placeholder=\"Popište účel a obsah vašeho průzkumu\"\n            />\n          </div>\n\n          <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n            <div></div>\n            <button \n              onClick={() => setCurrentStep(2)}\n              disabled={!survey.title}\n              style={{ \n                position: 'relative',\n                padding: '12px 24px',\n                backgroundColor: survey.title ? 'rgb(0, 123, 255)' : '#6c757d',\n                color: 'white',\n                border: 'none',\n                borderRadius: '4px',\n                fontSize: '16px',\n                cursor: survey.title ? 'pointer' : 'not-allowed'\n              }}\n            >\n              Další krok →\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* Survey Steps Builder */}\n      {currentStep === 2 && (\n        <div>\n          <h3 style={{ marginBottom: '10px' }}>Krok 2: Stavba průzkumu</h3>\n          <small style={{ color: '#6c757d', display: 'block', marginBottom: '20px' }}>\n            💡 Tip: Přetáhněte stavební bloky z nabídky vlevo do oblasti průzkumu vpravo\n          </small>\n          \n          {/* Global sections warning */}\n          {globalMode ? (\n            <div style={{\n              backgroundColor: '#fff3cd',\n              border: '1px solid #ffeaa7',\n              borderRadius: '8px',\n              padding: '16px',\n              marginBottom: '20px'\n            }}>\n              <div style={{ display: 'flex', alignItems: 'center', marginBottom: '8px' }}>\n                <span style={{ fontSize: '20px', marginRight: '8px' }}>🌐</span>\n                <strong style={{ color: '#856404' }}>SPRÁVA GLOBÁLNÍCH SEKCÍ</strong>\n              </div>\n              <p style={{ margin: '0', color: '#856404', fontSize: '14px' }}>\n                Upravujete <strong>globální sekce</strong> sdílené napříč všemi průzkumy.\n                Změny zde ovlivní <strong>všechny existující dotazníky</strong> v systému.\n                Pouze jedna verze globálních sekcí existuje a je automaticky zahrnuta do všech surveys.\n              </p>\n            </div>\n          ) : (\n            <div style={{\n              backgroundColor: '#e3f2fd',\n              border: '1px solid #2196f3',\n              borderRadius: '8px',\n              padding: '16px',\n              marginBottom: '20px'\n            }}>\n              <div style={{ display: 'flex', alignItems: 'center', marginBottom: '8px' }}>\n                <span style={{ fontSize: '20px', marginRight: '8px' }}>🌐</span>\n                <strong style={{ color: '#1976d2' }}>GLOBÁLNÍ SEKCE</strong>\n              </div>\n              <p style={{ margin: '0', color: '#1976d2', fontSize: '14px' }}>\n                <strong>\"Úvodní sekce\"</strong> a <strong>\"Závěrečná sekce\"</strong> jsou <strong>globální napříč všemi průzkumy</strong>.\n                {user?.role === 'admin' ? (\n                  <>\n                    Pro správu těchto sekcí doporučujeme použít dedikovanou stránku{' '}\n                    <a \n                      href=\"/global-surveys\" \n                      style={{ color: '#1976d2', fontWeight: 'bold', textDecoration: 'underline' }}\n                      onClick={(e) => {\n                        e.preventDefault();\n                        navigate('/global-surveys');\n                      }}\n                    >\n                      Global Surveys\n                    </a>\n                    {' '}kde máte lepší přehled a kontrolu nad globálními sekcemi.\n                  </>\n                ) : (\n                  <>\n                    Tyto sekce spravuje administrátor a jsou automaticky zahrnuty do všech dotazníků.\n                  </>\n                )}\n              </p>\n            </div>\n          )}\n\n          <div style={{ display: 'flex', gap: '20px', minHeight: '500px' }}>\n            {/* Building Blocks Palette */}\n            <div style={{ \n              width: '300px', \n              backgroundColor: '#f8f9fa', \n              border: '1px solid #dee2e6',\n              borderRadius: '8px',\n              padding: '20px'\n            }}>\n              <h4 style={{ margin: '0 0 15px 0', color: '#495057' }}>\n                📦 Stavební bloky\n              </h4>\n              <BuildingBlocksPalette />\n            </div>\n\n            {/* Survey Canvas */}\n            <div style={{ \n              flex: 1,\n              backgroundColor: 'white',\n              border: '2px solid #dee2e6',\n              borderRadius: '8px',\n              minHeight: '500px',\n              position: 'relative'\n            }}>\n              <div style={{ \n                padding: '20px',\n                borderBottom: '1px solid #dee2e6',\n                backgroundColor: '#f8f9fa'\n              }}>\n                <h4 style={{ margin: 0, color: '#495057' }}>\n                  🎯 Oblast průzkumu\n                </h4>\n                <small style={{ color: '#6c757d' }}>\n                  Přetáhněte bloky sem a uspořádejte je v požadovaném pořadí\n                </small>\n              </div>\n              \n              <SurveyCardManager \n                survey={survey}\n                activeCardIndex={activeCardIndex}\n                onActiveCardChange={setActiveCardIndex}\n                onSurveyChange={setSurvey}\n                onEditStep={(step) => {\n                  setEditingStep(step);\n                  setShowStepEditor(true);\n                }}\n                onDeleteStep={deleteStep}\n                user={user}\n                globalMode={globalMode}\n              />\n            </div>\n          </div>\n\n          {/* Bottom Navigation Buttons */}\n          <div style={{ \n            display: 'flex', \n            justifyContent: globalMode ? 'center' : 'space-between', \n            marginTop: '30px',\n            padding: '20px 0',\n            borderTop: '1px solid #dee2e6'\n          }}>\n            {!globalMode && (\n              <button \n                onClick={() => setCurrentStep(1)}\n                style={{ \n                  position: 'relative',\n                  padding: '12px 24px',\n                  backgroundColor: '#6c757d',\n                  color: 'white',\n                  border: 'none',\n                  borderRadius: '4px',\n                  fontSize: '16px',\n                  cursor: 'pointer'\n                }}\n              >\n                ← Zpět\n              </button>\n            )}\n            {globalMode ? (\n              <button \n                onClick={saveSurvey}\n                style={{ \n                  position: 'relative',\n                  padding: '12px 24px',\n                  backgroundColor: '#28a745',\n                  color: 'white',\n                  border: 'none',\n                  borderRadius: '4px',\n                  fontSize: '16px',\n                  cursor: 'pointer'\n                }}\n              >\n                💾 Uložit globální sekce\n              </button>\n            ) : (\n              <button \n                onClick={() => setCurrentStep(3)}\n                disabled={survey.cards.every(card => card.steps.length === 0)}\n                style={{ \n                  position: 'relative',\n                  padding: '12px 24px',\n                  backgroundColor: survey.cards.some(card => card.steps.length > 0) ? 'rgb(0, 123, 255)' : '#6c757d',\n                  color: 'white',\n                  border: 'none',\n                  borderRadius: '4px',\n                  fontSize: '16px',\n                  cursor: survey.cards.some(card => card.steps.length > 0) ? 'pointer' : 'not-allowed'\n                }}\n              >\n                Náhled →\n              </button>\n            )}\n          </div>\n        </div>\n      )}\n\n      {/* Preview */}\n      {currentStep === 3 && (\n        <div>\n          <h3>Krok 3: Náhled a uložení</h3>\n          \n          <div style={{ display: 'flex', justifyContent: 'center', marginBottom: '30px' }}>\n            <SurveyPreview \n              survey={survey} \n              onClose={() => setCurrentStep(2)}\n            />\n          </div>\n\n          <div style={{ display: 'flex', justifyContent: 'space-between', marginTop: '30px' }}>\n            <button \n              onClick={() => setCurrentStep(2)}\n              style={{ \n                position: 'relative',\n                padding: '12px 24px',\n                backgroundColor: '#6c757d',\n                color: 'white',\n                border: 'none',\n                borderRadius: '4px',\n                fontSize: '16px',\n                cursor: 'pointer'\n              }}\n            >\n              ← Upravit\n            </button>\n            <button \n              onClick={saveSurvey}\n              style={{ \n                position: 'relative',\n                padding: '12px 24px',\n                backgroundColor: '#28a745',\n                color: 'white',\n                border: 'none',\n                borderRadius: '4px',\n                fontSize: '16px',\n                cursor: 'pointer'\n              }}\n            >\n              {isEditMode ? 'Aktualizovat novou verzi' : 'Uložit průzkum'}\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* Step Editor Modal */}\n      {showStepEditor && (\n        <SurveyStepEditor \n          step={editingStep}\n          onSave={editingStep ? updateStep : addStep}\n          onCancel={() => {\n            setShowStepEditor(false);\n            setEditingStep(null);\n          }}\n        />\n      )}\n    </div>\n  );\n};\n\n// Survey Builder Supporting Components\nconst SurveyStepCard = ({ \n  step, \n  index, \n  onEdit, \n  onDelete,\n  onDragStart,\n  isDragging,\n  isInCanvas = false,\n  canEdit = true\n}) => {\n  const getStepIcon = (type) => {\n    switch (type) {\n      case 'smiley': return '😊';\n      case 'single-choice': return '📝';\n      case 'dropdown-multiselect': return '☑️';\n      case 'text': return '📄';\n      case 'section-header': return '📋';\n      case 'floating-widget': return '🔧';\n      case 'feedback-modal': return '💬';\n      default: return '❓';\n    }\n  };\n\n  const getStepTypeName = (type) => {\n    switch (type) {\n      case 'smiley': return '5-bodové hodnocení smajlíky';\n      case 'single-choice': return 'Jednoduché výběr';\n      case 'dropdown-multiselect': return 'Vícenásobný výběr (dropdown)';\n      case 'text': return 'Textové pole';\n      case 'section-header': return 'Nadpis sekce';\n      case 'floating-widget': return 'Plovoucí widget';\n      case 'feedback-modal': return 'Feedback modal';\n      default: return 'Neznámý typ';\n    }\n  };\n\n  return (\n    <div \n      draggable={isInCanvas && canEdit}\n      onDragStart={isInCanvas && canEdit ? (e) => onDragStart(e, index) : undefined}\n      style={{\n        border: step.type === 'section-header' ? '2px solid #ffb74d' : '2px solid #dee2e6',\n        borderRadius: '8px',\n        padding: step.type === 'section-header' ? '15px 20px' : '20px',\n        marginBottom: '15px',\n        backgroundColor: isDragging ? '#f0f7ff' : (step.type === 'section-header' ? '#fff8e1' : 'white'),\n        boxShadow: isDragging ? '0 6px 12px rgba(0,0,0,0.15)' : '0 2px 4px rgba(0,0,0,0.1)',\n        opacity: isDragging ? 0.8 : (canEdit ? 1 : 0.7),\n        cursor: isInCanvas && canEdit ? 'move' : 'default',\n        transition: 'all 0.2s ease',\n        transform: isDragging ? 'rotate(2deg) scale(1.02)' : 'rotate(0deg) scale(1)'\n      }}>\n              <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n        {isInCanvas && canEdit && (\n          <div style={{ display: 'flex', alignItems: 'center', marginRight: '15px' }}>\n            <div \n              style={{ \n                cursor: isDragging ? 'grabbing' : 'grab', \n                fontSize: '20px', \n                color: isDragging ? '#007bff' : '#6c757d',\n                marginRight: '10px',\n                userSelect: 'none',\n                padding: '4px',\n                borderRadius: '4px',\n                backgroundColor: isDragging ? '#e3f2fd' : 'transparent',\n                transition: 'all 0.2s ease'\n              }}\n              title=\"Přetáhnout pro změnu pořadí\"\n            >\n              ⋮⋮\n            </div>\n          </div>\n        )}\n        <div style={{ flex: 1 }}>\n          <div style={{ display: 'flex', alignItems: 'center', marginBottom: '10px' }}>\n            <span style={{ fontSize: '20px', marginRight: '10px' }}>\n              {getStepIcon(step.type)}\n            </span>\n            <div>\n              {step.type === 'section-header' ? (\n                <div>\n                  <h3 style={{ \n                    margin: '0', \n                    color: '#f57c00',\n                    fontSize: '18px',\n                    fontWeight: 'bold'\n                  }}>\n                    📋 {step.question || 'Název sekce'}\n                  </h3>\n                  <small style={{ \n                    color: '#e65100', \n                    fontFamily: 'Roboto, sans-serif',\n                    fontWeight: 400,\n                    fontSize: '14px',\n                    lineHeight: '150%',\n                    letterSpacing: '1.25%'\n                  }}>\n                    {getStepTypeName(step.type)}\n                  </small>\n                </div>\n              ) : (\n                <div>\n                  <h4 style={{ \n                    margin: '0', \n                    color: '#262626',\n                    fontFamily: 'Roboto, sans-serif',\n                    fontWeight: 400,\n                    fontSize: '18px',\n                    lineHeight: '150%',\n                    letterSpacing: '1.25%'\n                  }}>\n                    Blok {index + 1}: {step.question || 'Bez názvu'}\n                  </h4>\n                  <small style={{ \n                    color: '#6c757d',\n                    fontFamily: 'Roboto, sans-serif',\n                    fontWeight: 400,\n                    fontSize: '14px',\n                    lineHeight: '150%',\n                    letterSpacing: '1.25%'\n                  }}>\n                    {getStepTypeName(step.type)}\n                  </small>\n                </div>\n              )}\n            </div>\n          </div>\n          \n          {step.options && step.options.length > 0 && (\n            <div style={{ marginTop: '10px' }}>\n              <small style={{ \n                color: '#6c757d',\n                fontFamily: 'Roboto, sans-serif',\n                fontWeight: 400,\n                fontSize: '14px',\n                lineHeight: '150%',\n                letterSpacing: '1.25%'\n              }}>Možnosti:</small>\n              <div style={{ marginTop: '5px' }}>\n                {step.options.slice(0, 3).map((option, i) => (\n                  <span key={i} style={{\n                    display: 'inline-block',\n                    backgroundColor: '#e9ecef',\n                    padding: '2px 6px',\n                    borderRadius: '3px',\n                    fontSize: '12px',\n                    marginRight: '5px'\n                  }}>\n                    {option}\n                  </span>\n                ))}\n                {step.options.length > 3 && (\n                  <span style={{ color: '#6c757d', fontSize: '12px' }}>\n                    ... a {step.options.length - 3} dalších\n                  </span>\n                )}\n              </div>\n            </div>\n          )}\n        </div>\n\n        {canEdit && !step.isSystem && !step.uneditable && (\n          <div style={{ display: 'flex', gap: '8px', alignItems: 'center' }}>\n            <button\n              onClick={onEdit}\n              style={{\n                padding: '6px 12px',\n                backgroundColor: '#007bff',\n                color: 'white',\n                border: 'none',\n                borderRadius: '4px',\n                fontSize: '12px'\n              }}\n            >\n              ✏️ Upravit\n            </button>\n            <button\n              onClick={onDelete}\n              style={{\n                padding: '6px 12px',\n                backgroundColor: '#dc3545',\n                color: 'white',\n                border: 'none',\n                borderRadius: '4px',\n                fontSize: '12px'\n              }}\n            >\n              🗑️ Smazat\n            </button>\n          </div>\n        )}\n        {(!canEdit || step.isSystem || step.uneditable) && (\n          <div style={{ \n            display: 'flex', \n            alignItems: 'center',\n            color: '#dc3545',\n            fontSize: '16px',\n            flexDirection: 'column',\n            gap: '4px'\n          }}>\n            {step.isSystem || step.uneditable ? (\n              <div style={{\n                backgroundColor: '#dc3545',\n                color: 'white',\n                borderRadius: '4px',\n                padding: '2px 6px',\n                fontSize: '10px',\n                fontWeight: 'bold'\n              }}>\n                SYSTEM\n              </div>\n            ) : (\n              <div>🔒</div>\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nconst SurveyStepEditor = ({ step, onSave, onCancel }) => {\n  const [formData, setFormData] = React.useState({\n    type: step?.type || 'smiley',\n    question: step?.question || '',\n    options: step?.options || [],\n    required: step?.required || true,\n    conditionalTriggers: step?.conditionalTriggers || [],\n    hasTextbox: step?.hasTextbox || false,\n    textboxPlaceholder: step?.textboxPlaceholder || ''\n  });\n\n  const [newOption, setNewOption] = React.useState('');\n\n  const addOption = () => {\n    if (newOption.trim()) {\n      setFormData(prev => ({\n        ...prev,\n        options: [...prev.options, newOption.trim()]\n      }));\n      setNewOption('');\n    }\n  };\n\n  const removeOption = (index) => {\n    setFormData(prev => ({\n      ...prev,\n      options: prev.options.filter((_, i) => i !== index)\n    }));\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (!formData.question.trim()) {\n      alert('Zadejte prosím otázku');\n      return;\n    }\n    if ((formData.type === 'single-choice' || formData.type === 'multi-select' || formData.type === 'rating-scale') && formData.type !== 'section-header' && formData.options.length === 0) {\n      alert('Přidejte prosím alespoň jednu možnost');\n      return;\n    }\n    onSave(formData);\n  };\n\n  return (\n    <div style={{\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      backgroundColor: 'rgba(0,0,0,0.5)',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      zIndex: 1000\n    }}>\n      <div style={{\n        backgroundColor: 'white',\n        borderRadius: '8px',\n        padding: '30px',\n        maxWidth: '600px',\n        width: '90%',\n        maxHeight: '80vh',\n        overflow: 'auto'\n      }}>\n        <h3>{step ? 'Upravit blok' : 'Přidat nový blok'}</h3>\n        \n        <form onSubmit={handleSubmit}>\n          <div style={{ marginBottom: '20px' }}>\n            <label style={{ display: 'block', marginBottom: '8px', fontWeight: 'bold' }}>\n              Typ otázky *\n            </label>\n            <select\n              value={formData.type}\n              onChange={(e) => setFormData(prev => ({ ...prev, type: e.target.value }))}\n              style={{\n                width: '100%',\n                padding: '10px',\n                border: '1px solid #ced4da',\n                borderRadius: '4px'\n              }}\n                         >\n               <option value=\"smiley\">5-bodové hodnocení smajlíky</option>\n               <option value=\"single-choice\">Jednoduché výběr</option>\n               <option value=\"dropdown-multiselect\">Vícenásobný výběr (dropdown)</option>\n               <option value=\"text\">Textové pole</option>\n               <option value=\"section-header\">Nadpis sekce</option>\n             </select>\n          </div>\n\n                     <div style={{ marginBottom: '20px' }}>\n             <label style={{ display: 'block', marginBottom: '8px', fontWeight: 'bold' }}>\n               {formData.type === 'section-header' ? 'Název sekce *' : 'Otázka *'}\n             </label>\n             <input\n               type=\"text\"\n               value={formData.question}\n               onChange={(e) => setFormData(prev => ({ ...prev, question: e.target.value }))}\n               style={{\n                 width: '100%',\n                 padding: '10px',\n                 border: '1px solid #ced4da',\n                 borderRadius: '4px'\n               }}\n               placeholder={formData.type === 'section-header' ? 'Zadejte název sekce' : 'Zadejte text otázky'}\n             />\n           </div>\n\n                     {(formData.type === 'single-choice' || formData.type === 'dropdown-multiselect') && formData.type !== 'section-header' && (\n            <div style={{ marginBottom: '20px' }}>\n              <label style={{ display: 'block', marginBottom: '8px', fontWeight: 'bold' }}>\n                Možnosti odpovědí\n              </label>\n              \n              {formData.options.map((option, index) => (\n                <div key={index} style={{ display: 'flex', marginBottom: '8px', alignItems: 'center' }}>\n                  <input\n                    type=\"text\"\n                    value={option}\n                    onChange={(e) => {\n                      const newOptions = [...formData.options];\n                      newOptions[index] = e.target.value;\n                      setFormData(prev => ({ ...prev, options: newOptions }));\n                    }}\n                    style={{\n                      flex: 1,\n                      padding: '8px',\n                      border: '1px solid #ced4da',\n                      borderRadius: '4px',\n                      marginRight: '8px'\n                    }}\n                  />\n                  <button\n                    type=\"button\"\n                    onClick={() => removeOption(index)}\n                    style={{\n                      padding: '8px 12px',\n                      backgroundColor: '#dc3545',\n                      color: 'white',\n                      border: 'none',\n                      borderRadius: '4px'\n                    }}\n                  >\n                    ×\n                  </button>\n                </div>\n              ))}\n\n              <div style={{ display: 'flex', marginTop: '10px' }}>\n                <input\n                  type=\"text\"\n                  value={newOption}\n                  onChange={(e) => setNewOption(e.target.value)}\n                  onKeyPress={(e) => e.key === 'Enter' && (e.preventDefault(), addOption())}\n                  style={{\n                    flex: 1,\n                    padding: '8px',\n                    border: '1px solid #ced4da',\n                    borderRadius: '4px',\n                    marginRight: '8px'\n                  }}\n                  placeholder=\"Nová možnost...\"\n                />\n                <button\n                  type=\"button\"\n                  onClick={addOption}\n                  style={{\n                    padding: '8px 16px',\n                    backgroundColor: '#28a745',\n                    color: 'white',\n                    border: 'none',\n                    borderRadius: '4px'\n                  }}\n                >\n                  Přidat\n                </button>\n              </div>\n            </div>\n          )}\n\n                     {formData.type !== 'section-header' && (\n             <div style={{ marginBottom: '20px' }}>\n               <label style={{ display: 'flex', alignItems: 'center' }}>\n                 <input\n                   type=\"checkbox\"\n                   checked={formData.required}\n                   onChange={(e) => setFormData(prev => ({ ...prev, required: e.target.checked }))}\n                   style={{ marginRight: '8px' }}\n                 />\n                 Povinná otázka\n               </label>\n             </div>\n           )}\n\n          {/* Conditional Text Boxes for Options */}\n          {(formData.type === 'single-choice' || formData.type === 'dropdown-multiselect') && formData.options.length > 0 && (\n            <div style={{ marginBottom: '20px' }}>\n              <label style={{ display: 'block', marginBottom: '12px', fontWeight: 'bold', color: '#495057' }}>\n                💡 Podmíněné textové pole \n                <small style={{ display: 'block', fontWeight: 'normal', color: '#6c757d', fontSize: '14px', marginTop: '4px' }}>\n                  Přidejte textové pole, které se zobrazí při výběru konkrétní možnosti\n                </small>\n              </label>\n              \n              {formData.options.map((option, optionIndex) => {\n                const trigger = formData.conditionalTriggers.find(t => t.optionIndex === optionIndex);\n                \n                return (\n                  <div key={optionIndex} style={{ \n                    marginBottom: '12px', \n                    padding: '12px', \n                    border: '1px solid #e9ecef',\n                    borderRadius: '6px',\n                    backgroundColor: trigger ? '#f8f9fa' : 'transparent'\n                  }}>\n                    <div style={{ display: 'flex', alignItems: 'center', marginBottom: trigger ? '8px' : '0' }}>\n                      <span style={{ \n                        flex: 1, \n                        fontWeight: '500',\n                        fontSize: '14px'\n                      }}>\n                        \"{option}\"\n                      </span>\n                      <label style={{ display: 'flex', alignItems: 'center', marginLeft: '12px' }}>\n                        <input\n                          type=\"checkbox\"\n                          checked={!!trigger}\n                          onChange={(e) => {\n                            if (e.target.checked) {\n                              // Add trigger\n                              setFormData(prev => ({\n                                ...prev,\n                                conditionalTriggers: [\n                                  ...prev.conditionalTriggers,\n                                  {\n                                    optionIndex: optionIndex,\n                                    optionText: option,\n                                    textboxPlaceholder: 'Prosím, okomentujte',\n                                    textboxLabel: 'Nepovinné pole'\n                                  }\n                                ]\n                              }));\n                            } else {\n                              // Remove trigger\n                              setFormData(prev => ({\n                                ...prev,\n                                conditionalTriggers: prev.conditionalTriggers.filter(t => t.optionIndex !== optionIndex)\n                              }));\n                            }\n                          }}\n                          style={{ marginRight: '6px' }}\n                        />\n                        <span style={{ fontSize: '13px', color: '#6c757d' }}>\n                          Textové pole\n                        </span>\n                      </label>\n                    </div>\n                    \n                    {trigger && (\n                      <div style={{ marginTop: '8px' }}>\n                        <input\n                          type=\"text\"\n                          value={trigger.textboxPlaceholder}\n                          onChange={(e) => {\n                            setFormData(prev => ({\n                              ...prev,\n                              conditionalTriggers: prev.conditionalTriggers.map(t => \n                                t.optionIndex === optionIndex \n                                  ? { ...t, textboxPlaceholder: e.target.value }\n                                  : t\n                              )\n                            }));\n                          }}\n                          style={{\n                            width: '100%',\n                            padding: '6px 8px',\n                            border: '1px solid #ced4da',\n                            borderRadius: '4px',\n                            fontSize: '13px'\n                          }}\n                          placeholder=\"Text v textovém poli (např: 'Prosím, okomentujte')\"\n                        />\n                        <small style={{ color: '#6c757d', fontSize: '12px' }}>\n                          Tento text se zobrazí jako nápověda v textovém poli\n                        </small>\n                      </div>\n                    )}\n                  </div>\n                );\n              })}\n              \n              {formData.conditionalTriggers.length > 0 && (\n                <div style={{ \n                  marginTop: '8px', \n                  padding: '8px 12px', \n                  backgroundColor: '#d4edda', \n                  border: '1px solid #c3e6cb',\n                  borderRadius: '4px',\n                  fontSize: '13px',\n                  color: '#155724'\n                }}>\n                  ✅ {formData.conditionalTriggers.length} podmíněn{formData.conditionalTriggers.length === 1 ? 'é' : 'ých'} textov{formData.conditionalTriggers.length === 1 ? 'é pole' : 'á pole'} nastaveno\n                </div>\n              )}\n            </div>\n          )}\n\n          {/* Default textbox for emoji rating */}\n          {formData.type === 'smiley' && (\n            <div style={{ marginBottom: '20px' }}>\n              <div style={{ display: 'flex', alignItems: 'center', marginBottom: '10px' }}>\n                <input\n                  type=\"checkbox\"\n                  id={`textbox-${step?.id || 'new'}`}\n                  checked={formData.hasTextbox || false}\n                  onChange={(e) => setFormData(prev => ({ ...prev, hasTextbox: e.target.checked }))}\n                  style={{ marginRight: '8px' }}\n                />\n                <label \n                  htmlFor={`textbox-${step?.id || 'new'}`}\n                  style={{\n                    fontFamily: 'Roboto',\n                    fontWeight: 400,\n                    fontSize: '14px',\n                    lineHeight: '150%',\n                    letterSpacing: '1.25%',\n                    color: '#262626'\n                  }}\n                >\n                  Přidat pole pro komentář\n                </label>\n              </div>\n              {formData.hasTextbox && (\n                <div style={{ marginLeft: '26px' }}>\n                  <input\n                    type=\"text\"\n                    placeholder=\"Placeholder text pro komentář\"\n                    value={formData.textboxPlaceholder || ''}\n                    onChange={(e) => setFormData(prev => ({ ...prev, textboxPlaceholder: e.target.value }))}\n                    style={{\n                      width: '100%',\n                      padding: '8px',\n                      border: '1px solid #ced4da',\n                      borderRadius: '4px',\n                      fontFamily: 'Roboto',\n                      fontWeight: 400,\n                      fontSize: '14px',\n                      lineHeight: '150%',\n                      letterSpacing: '1.25%'\n                    }}\n                  />\n                </div>\n              )}\n            </div>\n          )}\n\n          <div style={{ display: 'flex', justifyContent: 'space-between', marginTop: '30px' }}>\n            <button\n              type=\"button\"\n              onClick={onCancel}\n              style={{\n                padding: '10px 20px',\n                backgroundColor: '#6c757d',\n                color: 'white',\n                border: 'none',\n                borderRadius: '4px'\n              }}\n            >\n              Zrušit\n            </button>\n            <button\n              type=\"submit\"\n              style={{\n                padding: '10px 20px',\n                backgroundColor: '#007bff',\n                color: 'white',\n                border: 'none',\n                borderRadius: '4px'\n              }}\n            >\n              {step ? 'Uložit změny' : 'Přidat blok'}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nconst SurveyPreview = ({ survey, onClose }) => {\n  const [currentCardIndex, setCurrentCardIndex] = React.useState(0);\n  const [previewAnswers, setPreviewAnswers] = React.useState({});\n  const [dropdownStates, setDropdownStates] = React.useState({});\n  const [showScreenshotForm, setShowScreenshotForm] = React.useState(false);\n  const [showSuccessScreen, setShowSuccessScreen] = React.useState(false);\n  const [showScreenshotSuccess, setShowScreenshotSuccess] = React.useState(false);\n\n  const SmileyIcon = ({ iconName, state = 'default', size = 48, style = {} }) => {\n    const [currentState, setCurrentState] = React.useState(state);\n    \n    const getIconPath = () => {\n      const stateFolder = currentState === 'active' ? 'activeState' : \n                         currentState === 'hover' ? 'hoverState' : 'defaultState';\n      return `/icons/${stateFolder}/${iconName}.svg`;\n    };\n\n    return (\n      <img \n        src={getIconPath()}\n        alt={iconName}\n        width={size}\n        height={size}\n        style={{\n          cursor: 'pointer',\n          transition: 'all 0.2s ease',\n          ...style\n        }}\n        onMouseEnter={() => setCurrentState('hover')}\n        onMouseLeave={() => setCurrentState(state)}\n        onClick={() => setCurrentState('active')}\n      />\n    );\n  };\n\n  // Get cards with non-empty steps\n  const getAllCardsWithSteps = () => {\n    if (!survey.cards) return [];\n    return survey.cards.filter(card => card.steps && card.steps.length > 0);\n  };\n\n  const getNonSystemCardsWithSteps = () => {\n    if (!survey.cards) return [];\n    return survey.cards.filter(card => card.steps && card.steps.length > 0 && !card.isSystem);\n  };\n\n  const allCardsWithSteps = getAllCardsWithSteps();\n  const nonSystemCards = getNonSystemCardsWithSteps();\n  const totalCards = nonSystemCards.length; // Only count non-system cards\n  const currentCard = allCardsWithSteps[currentCardIndex]; // Use all cards for display\n  const currentBlocks = currentCard ? currentCard.steps : [];\n  const isSystemCard = currentCard ? currentCard.isSystem : false;\n\n  const renderSmileyRating = (step) => {\n    // Reversed order: start from best (nejlepší) to worst\n    const smileyIcons = ['emoji-laughing', 'emoji-smile', 'emoji-neutral', 'emoji-frown', 'emoji-angry'];\n    const stepKey = `step-${step.id || Math.random()}`;\n    const selectedRating = previewAnswers[stepKey];\n    \n    return (\n      <div style={{ textAlign: 'center', marginBottom: '20px' }}>\n        <div style={{ display: 'flex', justifyContent: 'space-around', marginBottom: '20px' }}>\n          {smileyIcons.map((iconName, index) => {\n            const isSelected = selectedRating === index;\n            const iconState = isSelected ? 'active' : 'default';\n            \n            return (\n              <div \n                key={index} \n                style={{ \n                  textAlign: 'center', \n                  cursor: 'pointer',\n                  opacity: isSelected ? 1 : 0.7,\n                  transform: isSelected ? 'scale(1.1)' : 'scale(1)',\n                  transition: 'all 0.2s ease'\n                }}\n                onClick={() => {\n                  setPreviewAnswers(prev => ({\n                    ...prev,\n                    [stepKey]: index\n                  }));\n                }}\n                onMouseEnter={(e) => {\n                  if (!isSelected) {\n                    e.currentTarget.style.opacity = '0.9';\n                  }\n                }}\n                onMouseLeave={(e) => {\n                  if (!isSelected) {\n                    e.currentTarget.style.opacity = '0.7';\n                  }\n                }}\n              >\n                <div>\n                  <SmileyIcon iconName={iconName} state={iconState} size={34} />\n                </div>\n              </div>\n            );\n          })}\n        </div>\n        \n        {/* Default textbox for emoji rating if enabled */}\n        {step.hasTextbox && (\n          <div style={{ marginTop: '16px' }}>\n            <div style={{\n              width: '372px',\n              minHeight: '48px',\n              padding: '12px 16px',\n              gap: '8px',\n              borderRadius: '4px',\n              border: '1px solid #4F4F4F',\n              backgroundColor: 'white'\n            }}>\n              <input\n                type=\"text\"\n                placeholder={step.textboxPlaceholder || 'Prosím, okomentujte vaše hodnocení'}\n                value={previewAnswers[`${stepKey}-textbox`] || ''}\n                onChange={(e) => setPreviewAnswers(prev => ({\n                  ...prev,\n                  [`${stepKey}-textbox`]: e.target.value\n                }))}\n                style={{\n                  width: '100%',\n                  border: 'none',\n                  outline: 'none',\n                  fontFamily: 'Roboto',\n                  fontWeight: 400,\n                  fontSize: '16px',\n                  lineHeight: '150%',\n                  letterSpacing: '1.25%',\n                  color: '#262626',\n                  backgroundColor: 'transparent'\n                }}\n              />\n            </div>\n            <div style={{\n              marginTop: '8px',\n              fontFamily: 'Roboto',\n              fontWeight: 400,\n              fontSize: '14px',\n              lineHeight: '150%',\n              letterSpacing: '1.25%',\n              color: '#6c757d',\n              fontStyle: 'italic',\n              textAlign: 'left'\n            }}>\n              Nepovinné pole\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  const renderSingleChoice = (step) => {\n    const stepKey = `step-${step.id || Math.random()}`;\n    return (\n      <div style={{ marginBottom: '20px', marginTop: '16px' }}>\n        {step.options.map((option, index) => {\n          const trigger = step.conditionalTriggers?.find(t => t.optionIndex === index);\n          const isSelected = previewAnswers[stepKey] === index;\n          \n          return (\n            <div key={index}>\n              <label style={{ \n                paddingLeft: '10px',\n                display: 'block', \n                marginBottom: '12px', \n                cursor: 'pointer',\n                fontFamily: 'Roboto, sans-serif',\n                fontWeight: 400,\n                fontSize: '16px',\n                lineHeight: '150%',\n                letterSpacing: '1.25%',\n                color: '#262626'\n              }}>\n                <div style={{ \n                  position: 'relative', \n                  display: 'inline-block', \n                  marginRight: '8px' \n                }}>\n                  <input\n                    type=\"radio\"\n                    name={stepKey}\n                    value={index}\n                    checked={isSelected}\n                    onChange={(e) => setPreviewAnswers(prev => ({ \n                      ...prev, \n                      [stepKey]: parseInt(e.target.value) \n                    }))}\n                    style={{ \n                      width: '20px',\n                      height: '20px',\n                      borderRadius: '20px',\n                      border: '2px solid ' + (isSelected ? '#609352' : '#ced4da'),\n                      backgroundColor: '#FFFFFF',\n                      appearance: 'none',\n                      cursor: 'pointer',\n                      position: 'relative'\n                    }}\n                  />\n                  {isSelected && (\n                    <div style={{\n                      position: 'absolute',\n                      top: '5px',\n                      left: '5px',\n                      width: '10px',\n                      height: '10px',\n                      borderRadius: '50%',\n                      backgroundColor: '#609352',\n                      pointerEvents: 'none'\n                    }} />\n                  )}\n                </div>\n                {option}\n              </label>\n              \n              {/* Show conditional textbox if this option is selected and has a trigger */}\n              {trigger && isSelected && (\n                <div style={{ marginLeft: '0px', marginTop: '16px', marginBottom: '16px' }}>\n                  <div style={{ \n                    width: '372px',\n                    minHeight: '48px',\n                    gap: '8px',\n                    paddingTop: '12px',\n                    paddingRight: '8px',\n                    paddingBottom: '12px',\n                    paddingLeft: '8px',\n                    borderRadius: '4px',\n                    border: '1px solid #4F4F4F'\n                  }}>\n                    <input\n                      type=\"text\"\n                      style={{\n                        width: '100%',\n                        height: '24px',\n                        border: 'none',\n                        outline: 'none',\n                        fontFamily: 'Roboto, sans-serif',\n                        fontWeight: 400,\n                        fontSize: '16px',\n                        lineHeight: '150%',\n                        letterSpacing: '1.25%',\n                        backgroundColor: 'transparent'\n                      }}\n                      placeholder={trigger.textboxPlaceholder || 'Prosím, okomentujte'}\n                    />\n                  </div>\n                  <div style={{ \n                    marginTop: '8px'\n                  }}>\n                    <small style={{ \n                      fontFamily: 'Roboto, sans-serif',\n                      fontWeight: 400,\n                      fontStyle: 'italic',\n                      fontSize: '14px',\n                      lineHeight: '150%',\n                      letterSpacing: '1.25%',\n                      color: '#262626',\n                      textAlign: 'left'\n                    }}>\n                      {trigger.textboxLabel || 'Nepovinné pole'}\n                    </small>\n                  </div>\n                </div>\n              )}\n            </div>\n          );\n        })}\n      </div>\n    );\n  };\n\n  const renderMultiSelect = (step) => {\n    const stepKey = `step-${step.id || Math.random()}`;\n    const selectedOptions = previewAnswers[stepKey] || [];\n    \n    return (\n      <div style={{ marginBottom: '20px', marginTop: '16px' }}>\n        {step.options.map((option, index) => {\n          const trigger = step.conditionalTriggers?.find(t => t.optionIndex === index);\n          const isSelected = selectedOptions.includes(index);\n          \n          return (\n            <div key={index}>\n              <label style={{ \n                paddingLeft: '10px',\n                display: 'block', \n                marginBottom: '12px', \n                cursor: 'pointer',\n                fontFamily: 'Roboto, sans-serif',\n                fontWeight: 400,\n                fontSize: '16px',\n                lineHeight: '150%',\n                letterSpacing: '1.25%',\n                color: '#262626'\n              }}>\n                <div style={{ \n                  position: 'relative', \n                  display: 'inline-block', \n                  marginRight: '8px' \n                }}>\n                  <input\n                    type=\"checkbox\"\n                    checked={isSelected}\n                    onChange={(e) => {\n                      setPreviewAnswers(prev => {\n                        const currentSelected = prev[stepKey] || [];\n                        if (e.target.checked) {\n                          return { ...prev, [stepKey]: [...currentSelected, index] };\n                        } else {\n                          return { ...prev, [stepKey]: currentSelected.filter(i => i !== index) };\n                        }\n                      });\n                    }}\n                    style={{ \n                      width: '20px',\n                      height: '20px',\n                      borderRadius: '4px',\n                      border: '2px solid ' + (isSelected ? '#609352' : '#ced4da'),\n                      backgroundColor: isSelected ? '#609352' : '#FFFFFF',\n                      appearance: 'none',\n                      cursor: 'pointer',\n                      position: 'relative'\n                    }}\n                  />\n                  {isSelected && (\n                    <div style={{\n                      position: 'absolute',\n                      top: '2px',\n                      left: '4px',\n                      width: '12px',\n                      height: '8px',\n                      borderLeft: '2px solid #FFFFFF',\n                      borderBottom: '2px solid #FFFFFF',\n                      transform: 'rotate(-45deg)',\n                      pointerEvents: 'none'\n                    }} />\n                  )}\n                </div>\n                {option}\n              </label>\n              \n              {/* Show conditional textbox if this option is selected and has a trigger */}\n              {trigger && isSelected && (\n                <div style={{ marginLeft: '0px', marginTop: '16px', marginBottom: '16px' }}>\n                  <div style={{ \n                    width: '372px',\n                    minHeight: '48px',\n                    gap: '8px',\n                    paddingTop: '12px',\n                    paddingRight: '8px',\n                    paddingBottom: '12px',\n                    paddingLeft: '8px',\n                    borderRadius: '4px',\n                    border: '1px solid #4F4F4F'\n                  }}>\n                    <input\n                      type=\"text\"\n                      style={{\n                        width: '100%',\n                        height: '24px',\n                        border: 'none',\n                        outline: 'none',\n                        fontFamily: 'Roboto, sans-serif',\n                        fontWeight: 400,\n                        fontSize: '16px',\n                        lineHeight: '150%',\n                        letterSpacing: '1.25%',\n                        backgroundColor: 'transparent'\n                      }}\n                      placeholder={trigger.textboxPlaceholder || 'Prosím, okomentujte'}\n                    />\n                  </div>\n                  <div style={{ \n                    marginTop: '8px'\n                  }}>\n                    <small style={{ \n                      fontFamily: 'Roboto, sans-serif',\n                      fontWeight: 400,\n                      fontStyle: 'italic',\n                      fontSize: '14px',\n                      lineHeight: '150%',\n                      letterSpacing: '1.25%',\n                      color: '#262626',\n                      textAlign: 'left'\n                    }}>\n                      {trigger.textboxLabel || 'Nepovinné pole'}\n                    </small>\n                  </div>\n                </div>\n              )}\n            </div>\n          );\n        })}\n      </div>\n    );\n  };\n\n  const renderTextInput = (step) => (\n    <div style={{ marginBottom: '20px' }}>\n      <textarea\n        disabled\n        style={{\n          width: '100%',\n          minHeight: '100px',\n          padding: '12px',\n          border: '1px solid #ced4da',\n          borderRadius: '4px',\n          resize: 'vertical',\n          fontFamily: 'Roboto, sans-serif',\n          fontWeight: 400,\n          fontSize: '16px',\n          lineHeight: '150%',\n          letterSpacing: '1.25%'\n        }}\n        placeholder=\"Text odpovědi...\"\n      />\n    </div>\n  );\n\n  const renderRatingScale = (step) => (\n    <div style={{ marginBottom: '20px' }}>\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '20px' }}>\n        {step.options.map((rating, index) => (\n          <div key={index} style={{ textAlign: 'center', cursor: 'pointer' }}>\n            <div style={{ \n              width: '40px', \n              height: '40px', \n              border: '2px solid #dee2e6',\n              borderRadius: '50%',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              fontSize: '16px',\n              fontWeight: 'bold',\n              color: '#262626',\n              fontFamily: 'Roboto, sans-serif'\n            }}>\n              {rating}\n            </div>\n          </div>\n        ))}\n      </div>\n      <div style={{ \n        display: 'flex', \n        justifyContent: 'space-between', \n        fontFamily: 'Roboto, sans-serif',\n        fontWeight: 400,\n        fontSize: '14px',\n        lineHeight: '150%',\n        letterSpacing: '1.25%',\n        color: '#262626' \n      }}>\n        <span>Nejnižší</span>\n        <span>Nejvyšší</span>\n      </div>\n    </div>\n  );\n\n  const renderSectionHeader = (step) => (\n    <div style={{ \n      marginBottom: '20px'\n    }}>\n      <h3 style={{ \n        margin: 0, \n        color: '#262626',\n        fontFamily: 'Roboto, sans-serif',\n        fontWeight: 400,\n        fontSize: '18px',\n        lineHeight: '150%',\n        letterSpacing: '1.25%'\n      }}>\n        {step.question}\n      </h3>\n    </div>\n  );\n\n  const renderDropdownMultiSelect = (step) => {\n    const stepKey = `step-${step.id || Math.random()}`;\n    const selectedOptions = previewAnswers[stepKey] || [];\n    const isOpen = dropdownStates[stepKey] || false;\n    \n    const toggleDropdown = () => {\n      setDropdownStates(prev => ({\n        ...prev,\n        [stepKey]: !prev[stepKey]\n      }));\n    };\n\n    return (\n      <div style={{ marginBottom: '20px', position: 'relative' }}>\n        {/* Dropdown */}\n        <div \n          onClick={toggleDropdown}\n          style={{\n            position: 'relative',\n            width: '372px',\n            height: '40px',\n            paddingTop: '5px',\n            paddingBottom: '5px',\n            paddingLeft: '12px',\n            paddingRight: '40px',\n            borderRadius: '8px',\n            borderWidth: '1px',\n            borderStyle: 'solid',\n            borderColor: '#ced4da',\n            backgroundColor: 'white',\n            cursor: 'pointer',\n            display: 'flex',\n            alignItems: 'center',\n            fontFamily: 'Roboto',\n            fontWeight: 400,\n            fontSize: '16px',\n            lineHeight: '150%',\n            letterSpacing: '1.25%',\n            color: '#262626'\n          }}>\n          <span style={{ flex: 1 }}>\n            {selectedOptions.length === 0 ? 'Vyberte možnosti...' : \n             selectedOptions.length === 1 ? `${selectedOptions.length} možnost vybrána` :\n             selectedOptions.length <= 4 ? `${selectedOptions.length} možnosti vybrány` :\n             `${selectedOptions.length} možností vybráno`}\n          </span>\n          \n          {/* Custom green arrow */}\n          <div style={{ \n            position: 'absolute', \n            right: '12px', \n            transform: 'translateY(-50%)',\n            width: '16px',\n            height: '9px'\n          }}>\n            <svg width=\"16\" height=\"9\" viewBox=\"0 0 16 9\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M0.180242 0.180242C0.420565 -0.0600807 0.810205 -0.0600807 1.05053 0.180242L8 7.12971L14.9495 0.180242C15.1898 -0.0600807 15.5794 -0.0600807 15.8198 0.180242C16.0601 0.420565 16.0601 0.810205 15.8198 1.05053L8.43514 8.43514C8.19482 8.67546 7.80518 8.67546 7.56486 8.43514L0.180242 1.05053C-0.0600807 0.810205 -0.0600807 0.420565 0.180242 0.180242Z\" fill=\"#609352\"/>\n            </svg>\n          </div>\n        </div>\n\n        {/* Dropdown options (when open) */}\n        {isOpen && (\n          <div style={{\n            position: 'absolute',\n            top: '42px',\n            left: 0,\n            width: '372px',\n            zIndex: 1000,\n            backgroundColor: 'white',\n            border: '1px solid #ced4da',\n            borderRadius: '4px',\n            maxHeight: '200px',\n            overflowY: 'auto',\n            boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\n          }}>\n            {(step.options || []).map((option, index) => (\n              <div \n                key={index}\n                                 onClick={() => {\n                   if (!selectedOptions.includes(option)) {\n                     setPreviewAnswers(prev => ({\n                       ...prev,\n                       [stepKey]: [...selectedOptions, option]\n                     }));\n                   }\n                   setDropdownStates(prev => ({\n                     ...prev,\n                     [stepKey]: false\n                   }));\n                 }}\n                style={{\n                  padding: '8px 12px',\n                  cursor: selectedOptions.includes(option) ? 'not-allowed' : 'pointer',\n                  fontFamily: 'Roboto',\n                  fontWeight: 400,\n                  fontSize: '16px',\n                  lineHeight: '150%',\n                  letterSpacing: '1.25%',\n                  color: selectedOptions.includes(option) ? '#6c757d' : '#262626',\n                  backgroundColor: selectedOptions.includes(option) ? '#f8f9fa' : 'white',\n                  borderBottom: index < (step.options || []).length - 1 ? '1px solid #e9ecef' : 'none'\n                }}\n                onMouseEnter={(e) => {\n                  if (!selectedOptions.includes(option)) {\n                    e.target.style.backgroundColor = '#f8f9fa';\n                  }\n                }}\n                onMouseLeave={(e) => {\n                  if (!selectedOptions.includes(option)) {\n                    e.target.style.backgroundColor = 'white';\n                  }\n                }}\n              >\n                {selectedOptions.includes(option) ? '✓ ' : ''}{option}\n              </div>\n            ))}\n          </div>\n        )}\n\n        {/* Selected choices (chips below dropdown) */}\n        {selectedOptions.length > 0 && (\n          <div style={{\n            marginTop: '8px',\n            display: 'flex',\n            flexWrap: 'wrap',\n            gap: '8px',\n            maxWidth: '320px'\n          }}>\n            {selectedOptions.map((option, index) => (\n              <div key={index} style={{\n                display: 'flex',\n                alignItems: 'center',\n                width: '121px',\n                maxWidth: '320px',\n                height: '28px',\n                paddingLeft: '8px',\n                paddingRight: '8px',\n                borderRadius: '4px',\n                borderWidth: '1px',\n                borderStyle: 'solid',\n                borderColor: '#ced4da',\n                backgroundColor: '#f8f9fa',\n                fontFamily: 'Roboto',\n                fontWeight: 400,\n                fontSize: '14px',\n                lineHeight: '150%',\n                letterSpacing: '1.25%',\n                color: '#262626'\n              }}>\n                <span style={{ \n                  flex: 1,\n                  overflow: 'hidden',\n                  textOverflow: 'ellipsis',\n                  whiteSpace: 'nowrap'\n                }}>\n                  {option}\n                </span>\n                <button\n                  onClick={() => {\n                    setPreviewAnswers(prev => ({\n                      ...prev,\n                      [stepKey]: selectedOptions.filter(opt => opt !== option)\n                    }));\n                  }}\n                  style={{\n                    background: 'none',\n                    border: 'none',\n                    cursor: 'pointer',\n                    padding: '0',\n                    marginLeft: '4px',\n                    width: '12px',\n                    height: '12px',\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    flexShrink: 0\n                  }}\n                >\n                  <svg width=\"12\" height=\"12\" viewBox=\"0 0 12 12\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path d=\"M0.878303 1.49725C0.837626 1.45658 0.805359 1.40829 0.783345 1.35514C0.761331 1.30199 0.75 1.24503 0.75 1.1875C0.75 1.12998 0.761331 1.07301 0.783345 1.01987C0.805359 0.966721 0.837626 0.91843 0.878303 0.877753C0.918979 0.837076 0.96727 0.80481 1.02042 0.782795C1.07356 0.760781 1.13053 0.749451 1.18805 0.749451C1.24558 0.749451 1.30254 0.760781 1.35569 0.782795C1.40884 0.80481 1.45713 0.837076 1.4978 0.877753L6.00055 5.38138L10.5033 0.877753C10.544 0.837076 10.5923 0.80481 10.6454 0.782795C10.6986 0.760781 10.7555 0.749451 10.8131 0.749451C10.8706 0.749451 10.9275 0.760781 10.9807 0.782795C11.0338 0.80481 11.0821 0.837076 11.1228 0.877753C11.1635 0.91843 11.1957 0.966721 11.2178 1.01987C11.2398 1.07301 11.2511 1.12998 11.2511 1.1875C11.2511 1.24503 11.2398 1.30199 11.2178 1.35514C11.1957 1.40829 11.1635 1.45658 11.1228 1.49725L6.61918 6L11.1228 10.5028C11.1635 10.5434 11.1957 10.5917 11.2178 10.6449C11.2398 10.698 11.2511 10.755 11.2511 10.8125C11.2511 10.87 11.2398 10.927 11.2178 10.9801C11.1957 11.0333 11.1635 11.0816 11.1228 11.1223C11.0821 11.1629 11.0338 11.1952 10.9807 11.2172C10.9275 11.2392 10.8706 11.2506 10.8131 11.2506C10.7555 11.2506 10.6986 11.2392 10.6454 11.2172C10.5923 11.1952 10.544 11.1629 10.5033 11.1223L6.00055 6.61863L1.4978 11.1223C1.45713 11.1629 1.40884 11.1952 1.35569 11.2172C1.30254 11.2392 1.24558 11.2506 1.18805 11.2506C1.13053 11.2506 1.07356 11.2392 1.02042 11.2172C0.96727 11.1952 0.918979 11.1629 0.878303 11.1223C0.837626 11.0816 0.805359 11.0333 0.783345 10.9801C0.761331 10.927 0.75 10.87 0.75 10.8125C0.75 10.755 0.761331 10.698 0.783345 10.6449C0.805359 10.5917 0.837626 10.5434 0.878303 10.5028L5.38193 6L0.878303 1.49725Z\" fill=\"#609352\"/>\n                  </svg>\n                </button>\n              </div>\n            ))}\n          </div>\n        )}\n\n        {/* Conditional text boxes */}\n        {(step.conditionalTriggers || []).map((trigger, triggerIndex) => {\n          const isTriggered = selectedOptions.includes(trigger.optionText);\n          \n          return isTriggered ? (\n            <div key={triggerIndex} style={{ marginTop: '16px' }}>\n              <div style={{\n                width: '372px',\n                minHeight: '48px',\n                gap: '8px',\n                paddingTop: '12px',\n                paddingRight: '8px',\n                paddingBottom: '12px',\n                paddingLeft: '8px',\n                borderRadius: '4px',\n                border: '1px solid #4F4F4F',\n                backgroundColor: 'white'\n              }}>\n                <input\n                  type=\"text\"\n                  placeholder={trigger.textboxPlaceholder || 'Prosím, okomentujte'}\n                  style={{\n                    width: '100%',\n                    height: '24px',\n                    border: 'none',\n                    outline: 'none',\n                    backgroundColor: 'transparent',\n                    fontFamily: 'Roboto, sans-serif',\n                    fontWeight: 400,\n                    fontSize: '16px',\n                    lineHeight: '150%',\n                    letterSpacing: '1.25%',\n                    color: '#262626'\n                  }}\n                />\n              </div>\n              <div style={{ marginTop: '8px' }}>\n                <small style={{\n                  fontFamily: 'Roboto, sans-serif',\n                  fontWeight: 400,\n                  fontStyle: 'italic',\n                  fontSize: '14px',\n                  lineHeight: '150%',\n                  letterSpacing: '1.25%',\n                  color: '#262626',\n                  textAlign: 'left'\n                }}>\n                  {trigger.textboxLabel || 'Nepovinné pole'}\n                </small>\n              </div>\n            </div>\n          ) : null;\n        })}\n      </div>\n    );\n  };\n\nconst renderFloatingWidget = (step) => (\n  <div style={{ \n    position: 'relative',\n    height: '120px',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    margin: '20px auto'\n  }}>\n    {/* Just the 2 icons - no window wrapper */}\n    <div style={{ position: 'relative' }}>\n      {/* Main Floating Circle */}\n      <div \n        onClick={() => {\n          // Navigate to Step 0b (Feedback Modal)\n          const feedbackModalIndex = allCardsWithSteps.findIndex(card => \n            card.steps && card.steps.some(step => step.type === 'feedback-modal')\n          );\n          if (feedbackModalIndex !== -1) {\n            setCurrentCardIndex(feedbackModalIndex);\n          }\n        }}\n        style={{\n          width: '82px',\n          height: '82px',\n          backgroundColor: '#FFFFFF',\n          borderRadius: '50%',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          boxShadow: '0 4px 12px rgba(0, 0, 0, 0.15)',\n          cursor: 'pointer',\n          position: 'relative'\n        }}>\n        {/* Floating Icon */}\n        <img \n          src=\"/floating.svg\" \n          alt=\"Feedback\"\n          style={{\n            width: '48px',\n            height: '48px'\n          }}\n        />\n      </div>\n\n      {/* Close Button Circle */}\n      <div \n        onClick={() => {\n          // Close the floating widget - go to next non-system card\n          const nextNonSystemIndex = allCardsWithSteps.findIndex((card, index) => \n            index > currentCardIndex && !card.isSystem\n          );\n          if (nextNonSystemIndex !== -1) {\n            setCurrentCardIndex(nextNonSystemIndex);\n          }\n        }}\n        style={{\n          position: 'absolute',\n          width: '39px',\n          height: '39px',\n          top: '-29px',\n          right: '-120px',\n          backgroundColor: '#FFFFFF',\n          borderRadius: '50%',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          boxShadow: '0 2px 8px rgba(0, 0, 0, 0.15)',\n          cursor: 'pointer'\n        }}>\n        {/* Close Icon */}\n        <img \n          src=\"/close.svg\" \n          alt=\"Close\"\n          style={{\n            width: '23.25px',\n            height: '23.25px'\n          }}\n        />\n      </div>\n    </div>\n  </div>\n);\n\nconst renderFeedbackModal = (step) => (\n  <div style={{\n    marginBottom: '20px'\n  }}>\n    {/* Just the content - no window wrapper */}\n    <div style={{\n      display: 'flex',\n      flexDirection: 'column',\n      gap: '24px'\n    }}>\n      {/* Subtitle */}\n      <div style={{\n        fontFamily: 'Roboto',\n        fontWeight: 400,\n        fontSize: '18px',\n        lineHeight: '150%',\n        letterSpacing: '1.25%',\n        color: '#262626',\n        textAlign: 'left'\n      }}>\n        Hodnocení, účel návštěvy, dojmy\n      </div>\n\n      {/* Green Button 1 */}\n      <button \n        onClick={() => {\n          // Navigate to step 1 (first non-system card)\n          const firstNonSystemIndex = allCardsWithSteps.findIndex(card => !card.isSystem);\n          if (firstNonSystemIndex !== -1) {\n            setCurrentCardIndex(firstNonSystemIndex);\n          }\n        }}\n        style={{\n          width: '241px',\n          height: '56px',\n          gap: '20px',\n          paddingTop: '12px',\n          paddingRight: '20px',\n          paddingBottom: '13px',\n          paddingLeft: '20px',\n          borderRadius: '8px',\n          backgroundColor: '#609352',\n          border: 'none',\n          cursor: 'pointer',\n          fontFamily: 'Roboto',\n          fontWeight: 700,\n          fontSize: '20px',\n          lineHeight: '150%',\n          letterSpacing: '3%',\n          color: '#FFFFFF'\n        }}>\n        Zpětná vazba na web\n      </button>\n\n      {/* Second Label */}\n      <div style={{\n        fontFamily: 'Roboto',\n        fontWeight: 400,\n        fontSize: '18px',\n        lineHeight: '150%',\n        letterSpacing: '1.25%',\n        color: '#262626',\n        textAlign: 'left'\n      }}>\n        Možnost připojit screenshot + komentář\n      </div>\n\n      {/* Green Button 2 */}\n      <button \n        onClick={() => {\n          setShowScreenshotForm(true);\n        }}\n        style={{\n          width: '183px',\n          height: '56px',\n          gap: '20px',\n          paddingTop: '12px',\n          paddingRight: '20px',\n          paddingBottom: '13px',\n          paddingLeft: '20px',\n          borderRadius: '8px',\n          backgroundColor: '#609352',\n          border: 'none',\n          cursor: 'pointer',\n          fontFamily: 'Roboto',\n          fontWeight: 700,\n          fontSize: '20px',\n          lineHeight: '150%',\n          letterSpacing: '3%',\n          color: '#FFFFFF'\n        }}>\n        Máte problém?\n      </button>\n    </div>\n  </div>\n);\n\n// Screenshot Form Component\nconst renderScreenshotForm = () => (\n  <div style={{\n    width: '450px',\n    height: '603px',\n    borderRadius: '16px',\n    backgroundColor: '#FFFFFF',\n    padding: '24px',\n    gap: '24px',\n    display: 'flex',\n    flexDirection: 'column',\n    position: 'relative'\n  }}>\n    {/* Header */}\n    <div style={{ \n      display: 'flex', \n      justifyContent: 'space-between', \n      alignItems: 'center',\n      marginBottom: '24px'\n    }}>\n      <h4 style={{ \n        margin: 0,\n        fontFamily: 'Roboto',\n        fontWeight: 400,\n        fontSize: '24px',\n        lineHeight: '150%',\n        letterSpacing: '3.12%',\n        color: '#262626'\n      }}>\n        Přiložit snímek obrazovky\n      </h4>\n      <button\n        onClick={onClose}\n        style={{\n          background: 'none',\n          border: 'none',\n          cursor: 'pointer',\n          padding: '4px',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center'\n        }}\n      >\n        <img src=\"/close.svg\" alt=\"Close\" width=\"24\" height=\"24\" />\n      </button>\n    </div>\n\n    {/* Content */}\n    <div style={{ flex: 1, display: 'flex', flexDirection: 'column', gap: '24px' }}>\n      {/* Question */}\n      <div style={{\n        fontFamily: 'Roboto',\n        fontWeight: 400,\n        fontSize: '18px',\n        lineHeight: '150%',\n        letterSpacing: '1.25%',\n        color: '#262626'\n      }}>\n        Chcete přiložit screenshot?\n      </div>\n\n      {/* Upload Button */}\n      <button style={{\n        width: '160px',\n        height: '40px',\n        gap: '12px',\n        paddingTop: '8px',\n        paddingRight: '12px',\n        paddingBottom: '9px',\n        paddingLeft: '12px',\n        borderRadius: '8px',\n        border: '1px solid #609352',\n        backgroundColor: 'transparent',\n        cursor: 'pointer',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center'\n      }}>\n        {/* Upload Icon */}\n        <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" style={{ marginRight: '8px' }}>\n          <path d=\"M0.625 12.375C0.970178 12.375 1.25 12.6549 1.25 13V16.125C1.25 16.8154 1.80964 17.375 2.5 17.375H17.5C18.1904 17.375 18.75 16.8154 18.75 16.125V13C18.75 12.6549 19.0298 12.375 19.375 12.375C19.7202 12.375 20 12.6549 20 13V16.125C20 17.5057 18.8807 18.625 17.5 18.625H2.5C1.11929 18.625 0 17.5057 0 16.125V13C0 12.6549 0.279822 12.375 0.625 12.375Z\" fill=\"#609352\"/>\n          <path d=\"M9.55806 1.43306C9.80214 1.18898 10.1979 1.18898 10.4419 1.43306L14.1919 5.18306C14.436 5.42714 14.436 5.82286 14.1919 6.06694C13.9479 6.31102 13.5521 6.31102 13.3081 6.06694L10.625 3.38388V14.375C10.625 14.7202 10.3452 15 10 15C9.65482 15 9.375 14.7202 9.375 14.375V3.38388L6.69194 6.06694C6.44786 6.31102 6.05214 6.31102 5.80806 6.06694C5.56398 5.82286 5.56398 5.42714 5.80806 5.18306L9.55806 1.43306Z\" fill=\"#609352\"/>\n        </svg>\n        <span style={{\n          fontFamily: 'Roboto',\n          fontWeight: 700,\n          fontSize: '14px',\n          lineHeight: '150%',\n          letterSpacing: '1.25%',\n          color: '#368537'\n        }}>\n          Nahrajte soubor\n        </span>\n      </button>\n\n      {/* Supported formats */}\n      <div style={{\n        fontFamily: 'Roboto',\n        fontWeight: 400,\n        fontSize: '14px',\n        lineHeight: '150%',\n        letterSpacing: '1.25%',\n        color: '#262626',\n        textAlign: 'center'\n      }}>\n        Podporované formáty JPEG, PNG, PDF\n      </div>\n\n      {/* Problem description label */}\n      <div style={{\n        fontFamily: 'Roboto',\n        fontWeight: 400,\n        fontSize: '18px',\n        lineHeight: '150%',\n        letterSpacing: '1.25%',\n        color: '#262626',\n        marginTop: '24px'\n      }}>\n        Popište problém nebo potíže\n      </div>\n\n      {/* Text area */}\n      <textarea \n        placeholder=\"Prosím, uvěďte\"\n        style={{\n          width: '372px',\n          minHeight: '120px',\n          padding: '12px 8px',\n          borderRadius: '4px',\n          border: '1px solid #4F4F4F',\n          fontFamily: 'Roboto',\n          fontWeight: 400,\n          fontSize: '16px',\n          lineHeight: '150%',\n          letterSpacing: '1.25%',\n          color: '#6D6D6D',\n          backgroundColor: '#FFFFFF',\n          resize: 'vertical',\n          outline: 'none'\n        }}\n      />\n\n      {/* Buttons */}\n      <div style={{\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        marginTop: 'auto',\n        paddingTop: '20px'\n      }}>\n        {/* Back Button */}\n        <button \n          onClick={() => {\n            setShowScreenshotForm(false);\n          }}\n          style={{\n            width: '83px',\n            height: '56px',\n            gap: '20px',\n            paddingTop: '12px',\n            paddingRight: '20px',\n            paddingBottom: '13px',\n            paddingLeft: '20px',\n            borderRadius: '8px',\n            border: '1px solid #609352',\n            backgroundColor: 'transparent',\n            cursor: 'pointer',\n            fontFamily: 'Roboto',\n            fontWeight: 700,\n            fontSize: '20px',\n            lineHeight: '150%',\n            letterSpacing: '3%',\n            color: '#368537'\n          }}>\n          Zpět\n        </button>\n\n        {/* Submit Button */}\n        <button \n          onClick={() => {\n            setShowScreenshotForm(false);\n            setShowScreenshotSuccess(true);\n          }}\n          style={{\n            width: '113px',\n            height: '56px',\n            gap: '20px',\n            paddingTop: '12px',\n            paddingRight: '20px',\n            paddingBottom: '13px',\n            paddingLeft: '20px',\n            borderRadius: '8px',\n            backgroundColor: '#609352',\n            border: 'none',\n            cursor: 'pointer',\n            fontFamily: 'Roboto',\n            fontWeight: 700,\n            fontSize: '20px',\n            lineHeight: '150%',\n            letterSpacing: '3%',\n            color: '#FFFFFF'\n          }}>\n          Odeslat\n        </button>\n      </div>\n    </div>\n  </div>\n);\n\n// Success Screen Component\nconst renderSuccessScreen = (message) => (\n  <div style={{\n    width: '450px',\n    height: '603px',\n    borderRadius: '16px',\n    backgroundColor: '#FFFFFF',\n    padding: '24px',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n    textAlign: 'center'\n  }}>\n    <h2 style={{\n      margin: 0,\n      fontFamily: 'Roboto',\n      fontWeight: 400,\n      fontSize: '24px',\n      lineHeight: '150%',\n      letterSpacing: '3.12%',\n      color: '#262626'\n    }}>\n      {message}\n    </h2>\n  </div>\n);\n\nconst renderStepContent = (step) => {\n  switch (step.type) {\n    case 'smiley': return renderSmileyRating(step);\n    case 'single-choice': return renderSingleChoice(step);\n    case 'dropdown-multiselect': return renderDropdownMultiSelect(step);\n    case 'text': return renderTextInput(step);\n    case 'section-header': return renderSectionHeader(step);\n    case 'floating-widget': return renderFloatingWidget(step);\n    case 'feedback-modal': return renderFeedbackModal(step);\n    default: return <div>Neznámý typ otázky</div>;\n  }\n};\n\n// Handle special screens\nif (showScreenshotForm) {\n  return renderScreenshotForm();\n}\n\nif (showScreenshotSuccess) {\n  return renderSuccessScreen('Odesláno');\n}\n\nif (showSuccessScreen) {\n  return renderSuccessScreen('Zpětná vazba odeslána');\n}\n\nif (totalCards === 0) {\n  return (\n    <div style={{\n      width: '450px',\n      height: '603px',\n      borderRadius: '16px',\n      backgroundColor: '#FFFFFF',\n      padding: '24px',\n      gap: '24px',\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'center',\n      alignItems: 'center'\n    }}>\n      <p style={{ color: '#6c757d' }}>Žádné kroky pro náhled</p>\n    </div>\n  );\n}\n\nreturn (\n  <div style={{\n    width: '450px',\n    height: '603px',\n    borderRadius: '16px',\n    backgroundColor: '#FFFFFF',\n    padding: '24px',\n    gap: '24px',\n    display: 'flex',\n    flexDirection: 'column',\n    position: 'relative'\n  }}>\n    {/* Header with title and close button - Hide for system cards */}\n    {!isSystemCard && (\n      <div style={{ \n        display: 'flex', \n        justifyContent: 'space-between', \n        alignItems: 'center',\n        marginBottom: '24px'\n      }}>\n        <h4 style={{ \n          margin: 0,\n          fontFamily: 'Roboto, sans-serif',\n          fontWeight: 400,\n          fontSize: '24px',\n          lineHeight: '150%',\n          letterSpacing: '3.12%',\n          color: '#262626'\n        }}>\n          {survey.title}\n        </h4>\n        <button\n          onClick={onClose}\n          style={{\n            background: 'none',\n            border: 'none',\n            cursor: 'pointer',\n            padding: '4px',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center'\n          }}\n        >\n          <img src=\"/close.svg\" alt=\"Close\" width=\"24\" height=\"24\" />\n        </button>\n      </div>\n    )}\n\n    {/* Content - All blocks from current step */}\n    <div style={{ flex: 1, overflow: 'auto' }}>\n      {currentBlocks.map((block, index) => (\n        <div key={index} style={{ marginBottom: index < currentBlocks.length - 1 ? '32px' : '0' }}>\n          {/* Question/Block Title - Hide for system cards */}\n          {block.type !== 'section-header' && !isSystemCard && (\n            <div style={{ marginBottom: '16px' }}>\n              <h3 style={{ \n                margin: 0,\n                fontFamily: 'Roboto, sans-serif',\n                fontWeight: 400,\n                fontSize: '18px',\n                lineHeight: '150%',\n                letterSpacing: '1.25%',\n                color: '#262626'\n              }}>\n                {block.question || `Blok ${index + 1}`}\n              </h3>\n            </div>\n          )}\n          \n          {/* Block Content */}\n          {renderStepContent(block)}\n          \n\n        </div>\n      ))}\n    </div>\n\n    {/* Bottom section with step counter and continue button - Hide for system cards */}\n    {!isSystemCard && (\n      <div style={{\n        width: '371px',\n        height: '85px',\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        paddingTop: '20px',\n        paddingBottom: '20px',\n        marginTop: 'auto'\n      }}>\n        <div style={{\n          width: '78px',\n          height: '24px',\n          fontFamily: 'Roboto, sans-serif',\n          fontWeight: 400,\n          fontSize: '16px',\n          lineHeight: '150%',\n          letterSpacing: '0%',\n          color: '#262626'\n        }}>\n          {/* Calculate step number excluding system cards */}\n          {(() => {\n            const nonSystemCardsBeforeCurrent = allCardsWithSteps\n              .slice(0, currentCardIndex)\n              .filter(card => !card.isSystem).length;\n            return nonSystemCardsBeforeCurrent + 1;\n          })()} z {totalCards} kroků\n        </div>\n        \n        <button\n          onClick={() => {\n            // Check if this is the last step\n            const nonSystemCardsBeforeCurrent = allCardsWithSteps\n              .slice(0, currentCardIndex)\n              .filter(card => !card.isSystem).length;\n            \n            if (nonSystemCardsBeforeCurrent >= totalCards - 1) {\n              // Last step - show success screen\n              setShowSuccessScreen(true);\n            } else {\n              // Find next non-system card\n              const nextNonSystemIndex = allCardsWithSteps.findIndex((card, index) => \n                index > currentCardIndex && !card.isSystem\n              );\n              if (nextNonSystemIndex !== -1) {\n                setCurrentCardIndex(nextNonSystemIndex);\n              }\n            }\n          }}\n          disabled={false}\n          style={{\n            width: (() => {\n              const nonSystemCardsBeforeCurrent = allCardsWithSteps\n                .slice(0, currentCardIndex)\n                .filter(card => !card.isSystem).length;\n              return nonSystemCardsBeforeCurrent >= totalCards - 1 ? '201px' : '147px';\n            })(),\n            height: '56px',\n            gap: '20px',\n            paddingTop: '12px',\n            paddingRight: '20px',\n            paddingBottom: '13px',\n            paddingLeft: '20px',\n            borderRadius: '8px',\n            background: '#609352',\n            border: 'none',\n            color: 'white',\n            cursor: 'pointer',\n            fontFamily: 'Roboto, sans-serif',\n            fontWeight: 700,\n            fontSize: '20px',\n            lineHeight: '150%',\n            letterSpacing: '3%'\n          }}\n        >\n          {(() => {\n            const nonSystemCardsBeforeCurrent = allCardsWithSteps\n              .slice(0, currentCardIndex)\n              .filter(card => !card.isSystem).length;\n            return nonSystemCardsBeforeCurrent >= totalCards - 1 ? 'Odeslat dotazník' : 'Pokračovat';\n          })()}\n        </button>\n      </div>\n    )}\n  </div>\n);\n};\n\n// Building Blocks Palette Component\nconst BuildingBlocksPalette = () => {\n  const buildingBlocks = [\n    {\n      id: 'smiley',\n      name: '5-bodové hodnocení',\n      icon: '😊',\n      description: 'Hodnocení pomocí smajlíků (1-5)',\n      color: '#ffd54f'\n    },\n    {\n      id: 'single-choice',\n      name: 'Jednoduché výběr',\n      icon: '📝',\n      description: 'Výběr jedné možnosti ze seznamu',\n      color: '#81c784'\n    },\n    {\n      id: 'dropdown-multiselect',\n      name: 'Vícenásobný výběr',\n      icon: '☑️',\n      description: 'Výběr více možností (dropdown)',\n      color: '#64b5f6'\n    },\n    {\n      id: 'text',\n      name: 'Textové pole',\n      icon: '📄',\n      description: 'Volný text nebo komentář',\n      color: '#a1887f'\n    },\n    {\n      id: 'section-header',\n      name: 'Nadpis sekce',\n      icon: '📋',\n      description: 'Název sekce nebo popisný text',\n      color: '#ffb74d'\n    }\n  ];\n\n  const handleDragStart = (e, blockType) => {\n    e.dataTransfer.setData('application/json', JSON.stringify({\n      type: 'building-block',\n      blockType: blockType\n    }));\n    e.dataTransfer.effectAllowed = 'copy';\n  };\n\n  return (\n    <div>\n      {buildingBlocks.map((block) => (\n        <div\n          key={block.id}\n          draggable\n          onDragStart={(e) => handleDragStart(e, block.id)}\n          style={{\n            backgroundColor: 'white',\n            border: '2px solid #dee2e6',\n            borderRadius: '8px',\n            padding: '15px',\n            marginBottom: '12px',\n            cursor: 'grab',\n            transition: 'all 0.2s ease',\n            boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\n          }}\n          onMouseEnter={(e) => {\n            e.target.style.transform = 'translateY(-2px)';\n            e.target.style.boxShadow = '0 4px 8px rgba(0,0,0,0.15)';\n            e.target.style.borderColor = block.color;\n          }}\n          onMouseLeave={(e) => {\n            e.target.style.transform = 'translateY(0)';\n            e.target.style.boxShadow = '0 2px 4px rgba(0,0,0,0.1)';\n            e.target.style.borderColor = '#dee2e6';\n          }}\n        >\n          <div style={{ display: 'flex', alignItems: 'center', marginBottom: '8px' }}>\n            <span \n              style={{ \n                fontSize: '24px', \n                marginRight: '12px',\n                backgroundColor: block.color + '20',\n                padding: '8px',\n                borderRadius: '6px'\n              }}\n            >\n              {block.icon}\n            </span>\n            <div style={{ flex: 1 }}>\n              <h5 style={{ margin: '0 0 4px 0', color: '#495057', fontSize: '14px' }}>\n                {block.name}\n              </h5>\n              <small style={{ color: '#6c757d', fontSize: '12px' }}>\n                {block.description}\n              </small>\n            </div>\n          </div>\n          <div style={{ \n            fontSize: '11px', \n            color: '#6c757d',\n            fontStyle: 'italic',\n            textAlign: 'center',\n            borderTop: '1px solid #f0f0f0',\n            paddingTop: '8px',\n            marginTop: '8px'\n          }}>\n            🖱️ Přetáhnout do průzkumu\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n};\n\n// Survey Canvas Component\nconst SurveyCanvas = ({ steps, onStepsChange, onEditStep, onDeleteStep, cardInfo, canEdit, isAdmin }) => {\n  const [dragOverIndex, setDragOverIndex] = React.useState(null);\n  const [draggedStepIndex, setDraggedStepIndex] = React.useState(null);\n\n  const handleDragOver = (e, index) => {\n    e.preventDefault();\n    e.dataTransfer.dropEffect = 'copy';\n    setDragOverIndex(index);\n  };\n\n  const handleDrop = (e, dropIndex) => {\n    e.preventDefault();\n    \n    // Check if editing is allowed\n    if (!canEdit) {\n      alert(cardInfo?.isAdminOnly ? 'Tato sekce může být upravována pouze administrátorem' : 'Tato sekce není editovatelná');\n      setDragOverIndex(null);\n      setDraggedStepIndex(null);\n      return;\n    }\n    \n    const data = e.dataTransfer.getData('application/json');\n    \n    try {\n      const dragData = JSON.parse(data);\n      \n      if (dragData.type === 'building-block') {\n        // Adding new block from palette\n        const newStep = {\n          id: Date.now(),\n          type: dragData.blockType,\n          question: getDefaultQuestion(dragData.blockType),\n          options: getDefaultOptions(dragData.blockType),\n          required: true,\n          conditional: false\n        };\n        \n        const newSteps = [...steps];\n        newSteps.splice(dropIndex, 0, newStep);\n        onStepsChange(newSteps);\n      } else if (dragData.type === 'existing-step') {\n        // Reordering existing steps\n        const dragIndex = dragData.index;\n        if (dragIndex !== dropIndex) {\n          const newSteps = [...steps];\n          const draggedItem = newSteps[dragIndex];\n          newSteps.splice(dragIndex, 1);\n          const actualDropIndex = dragIndex < dropIndex ? dropIndex - 1 : dropIndex;\n          newSteps.splice(actualDropIndex, 0, draggedItem);\n          onStepsChange(newSteps);\n        }\n      }\n    } catch (error) {\n      console.error('Error parsing drag data:', error);\n    }\n    \n    setDragOverIndex(null);\n    setDraggedStepIndex(null);\n  };\n\n  const handleStepDragStart = (e, index) => {\n    e.dataTransfer.setData('application/json', JSON.stringify({\n      type: 'existing-step',\n      index: index\n    }));\n    e.dataTransfer.effectAllowed = 'move';\n    setDraggedStepIndex(index);\n  };\n\n  const getDefaultQuestion = (blockType) => {\n    switch (blockType) {\n      case 'smiley': return 'Jak hodnotíte naši službu?';\n      case 'single-choice': return 'Vyberte jednu možnost:';\n      case 'dropdown-multiselect': return 'Vyberte všechny vhodné možnosti:';\n      case 'text': return 'Váš komentář nebo připomínka:';\n      case 'section-header': return 'Název sekce';\n      default: return 'Nová otázka';\n    }\n  };\n\n  const getDefaultOptions = (blockType) => {\n    switch (blockType) {\n      case 'single-choice': return ['Možnost 1', 'Možnost 2', 'Možnost 3'];\n      case 'dropdown-multiselect': return ['Možnost A', 'Možnost B', 'Možnost C'];\n      default: return [];\n    }\n  };\n\n  // Create drop zones between steps and at the end\n  const dropZones = [];\n  for (let i = 0; i <= steps.length; i++) {\n    dropZones.push(\n      <div\n        key={`drop-${i}`}\n        onDragOver={(e) => handleDragOver(e, i)}\n        onDrop={(e) => handleDrop(e, i)}\n        onDragLeave={() => setDragOverIndex(null)}\n        style={{\n          height: dragOverIndex === i ? '40px' : '20px',\n          backgroundColor: dragOverIndex === i ? '#e3f2fd' : 'transparent',\n          border: dragOverIndex === i ? '2px dashed #2196f3' : '2px dashed transparent',\n          borderRadius: '8px',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          transition: 'all 0.2s ease',\n          margin: '5px 0'\n        }}\n      >\n        {dragOverIndex === i && (\n          <span style={{ color: '#2196f3', fontSize: '12px', fontWeight: 'bold' }}>\n            ⬇️ Upustit zde\n          </span>\n        )}\n      </div>\n    );\n\n    // Add step card after each drop zone (except the last one)\n    if (i < steps.length) {\n      dropZones.push(\n        <SurveyStepCard\n          key={steps[i].id}\n          step={steps[i]}\n          index={i}\n          onEdit={canEdit ? () => onEditStep(steps[i]) : undefined}\n          onDelete={canEdit ? () => onDeleteStep(steps[i].id) : undefined}\n          onDragStart={canEdit ? handleStepDragStart : undefined}\n          isDragging={draggedStepIndex === i}\n          isInCanvas={true}\n          canEdit={canEdit}\n        />\n      );\n    }\n  }\n\n  const getEmptyStateContent = () => {\n    if (!canEdit) {\n      return {\n        icon: '🔒',\n        title: cardInfo?.isAdminOnly ? 'Sekce pouze pro administrátory' : 'Sekce jen pro čtení',\n        message: cardInfo?.isAdminOnly \n          ? 'Tato sekce může být upravována pouze administrátorem'\n          : 'Tato sekce není editovatelná, ale můžete si prohlédnout její obsah'\n      };\n    }\n    \n    if (dragOverIndex === 0) {\n      return {\n        icon: '⬇️',\n        title: 'Upustit zde!',\n        message: 'Vytvořte svůj první blok v tomto kroku'\n      };\n    }\n    \n    return {\n      icon: '📋',\n      title: 'Prázdný krok',\n      message: 'Přetáhněte stavební bloky sem pro vytvoření obsahu tohoto kroku'\n    };\n  };\n\n  return (\n    <div style={{ padding: '20px', minHeight: '400px' }}>\n      {/* Card Header */}\n      <div style={{ \n        marginBottom: '20px', \n        padding: '15px',\n        backgroundColor: cardInfo?.isAdminOnly ? '#fff3cd' : '#e7f3ff',\n        border: `1px solid ${cardInfo?.isAdminOnly ? '#ffeaa7' : '#b3d7ff'}`,\n        borderRadius: '6px'\n      }}>\n                 <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n            <div>\n            <h4 style={{ margin: '0 0 4px 0', color: '#495057' }}>\n              {cardInfo?.title} - Krok průzkumu\n              {cardInfo?.isAdminOnly && (\n                <span style={{ \n                  marginLeft: '8px', \n                  fontSize: '11px',\n                  backgroundColor: '#dc3545',\n                  color: 'white',\n                  padding: '2px 6px',\n                  borderRadius: '3px'\n                }}>\n                  ADMIN ONLY\n                </span>\n              )}\n            </h4>\n            <small style={{ color: '#6c757d' }}>{cardInfo?.description}</small>\n          </div>\n          <div style={{\n            display: 'flex',\n            alignItems: 'center',\n            gap: '10px'\n          }}>\n                         <span style={{ \n               backgroundColor: '#6c757d',\n               color: 'white',\n               padding: '4px 8px',\n               borderRadius: '12px',\n               fontSize: '12px',\n               fontWeight: 'bold'\n             }}>\n               {steps.length} {steps.length === 1 ? 'blok' : steps.length < 5 ? 'bloky' : 'bloků'}\n             </span>\n            {!canEdit && <span style={{ fontSize: '20px' }}>🔒</span>}\n          </div>\n        </div>\n      </div>\n\n      {steps.length === 0 ? (\n        <div\n          onDragOver={canEdit ? (e) => handleDragOver(e, 0) : undefined}\n          onDrop={canEdit ? (e) => handleDrop(e, 0) : undefined}\n          onDragLeave={canEdit ? () => setDragOverIndex(null) : undefined}\n          style={{\n            textAlign: 'center',\n            padding: '80px 20px',\n            border: `3px dashed ${canEdit && dragOverIndex === 0 ? '#2196f3' : '#dee2e6'}`,\n            borderRadius: '12px',\n            backgroundColor: canEdit && dragOverIndex === 0 ? '#e3f2fd' : '#f8f9fa',\n            color: '#6c757d',\n            transition: 'all 0.3s ease',\n            opacity: canEdit ? 1 : 0.7\n          }}\n        >\n          {(() => {\n            const content = getEmptyStateContent();\n            return (\n              <>\n                <div style={{ fontSize: '48px', marginBottom: '20px' }}>\n                  {content.icon}\n                </div>\n                <h4 style={{ margin: '0 0 10px 0' }}>\n                  {content.title}\n                </h4>\n                <p style={{ margin: 0 }}>\n                  {content.message}\n                </p>\n              </>\n            );\n          })()}\n        </div>\n      ) : (\n        <div style={{ opacity: canEdit ? 1 : 0.8 }}>\n          {dropZones}\n        </div>\n      )}\n    </div>\n  );\n};\n\n// Survey Card Manager Component\nconst SurveyCardManager = ({ survey, activeCardIndex, onActiveCardChange, onSurveyChange, onEditStep, onDeleteStep, user, globalMode = false }) => {\n  const navigate = useNavigate();\n  const isAdmin = user?.role === 'admin';\n\n  const handleStepsChange = (cardIndex, newSteps) => {\n    onSurveyChange(prev => ({\n      ...prev,\n      cards: prev.cards.map((card, index) => \n        index === cardIndex ? { ...card, steps: newSteps } : card\n      )\n    }));\n  };\n\n  const canEditCard = (card) => {\n    if (card.isGlobal && !globalMode) {\n      return false; // Global cards are not editable in regular survey creator\n    }\n    if (card.isAdminOnly) {\n      return isAdmin;\n    }\n    return card.isEditable;\n  };\n\n  const handleCardClick = (cardIndex) => {\n    const card = survey.cards[cardIndex];\n    \n    // Show warning for global sections in regular mode\n    if (!globalMode && (card.id === 2 || card.id === 4)) {\n      if (isAdmin) {\n        const shouldRedirect = window.confirm(\n          `Pokoušíte se editovat globální sekci \"${card.title}\".\\n\\n` +\n          `Pro lepší správu globálních sekcí doporučujeme použít dedikovanou stránku \"Global Surveys\".\\n\\n` +\n          `Chcete přejít na Global Surveys nyní?`\n        );\n        \n        if (shouldRedirect) {\n          navigate('/global-surveys');\n          return;\n        }\n      } else {\n        alert(\n          `Sekce \"${card.title}\" je globální a spravuje ji administrátor.\\n\\n` +\n          `Tato sekce je automaticky zahrnuta do všech dotazníků a nelze ji zde upravovat.`\n        );\n        return;\n      }\n    }\n    \n    onActiveCardChange(cardIndex);\n  };\n\n  const canDeleteCard = (card, cardIndex) => {\n    // Cannot delete system cards or admin cards\n    // Cannot delete if it's the only user card\n    const userCards = survey.cards.filter(c => !c.isAdminOnly && !c.isSystem);\n    return !card.isAdminOnly && !card.isSystem && userCards.length > 1;\n  };\n\n  const addNewCard = () => {\n    const userCards = survey.cards.filter(c => !c.isAdminOnly && !c.isSystem);\n    const newCardNumber = userCards.length + 1;\n    const lastAdminCardIndex = survey.cards.length - 1; // Last card is always admin \"Závěrečná sekce\"\n    \n    const newCard = {\n      id: Date.now(),\n      title: `Krok ${newCardNumber}`,\n      description: `Uživatelská sekce ${newCardNumber}`,\n      isAdminOnly: false,\n      isEditable: true,\n      steps: []\n    };\n\n    onSurveyChange(prev => {\n      const newCards = [...prev.cards];\n      // Insert before the last admin card\n      newCards.splice(lastAdminCardIndex, 0, newCard);\n      return {\n        ...prev,\n        cards: newCards\n      };\n    });\n  };\n\n  const deleteCard = (cardIndex) => {\n    const card = survey.cards[cardIndex];\n    if (!canDeleteCard(card, cardIndex)) return;\n\n    if (window.confirm(`Opravdu chcete smazat \"${card.title}\"? Všechny bloky v této sekci budou ztraceny.`)) {\n      onSurveyChange(prev => ({\n        ...prev,\n        cards: prev.cards.filter((_, index) => index !== cardIndex)\n      }));\n\n      // Adjust active card index if needed\n      if (activeCardIndex === cardIndex) {\n        // Move to the previous card or first editable card\n        const newActiveIndex = cardIndex > 0 ? cardIndex - 1 : 0;\n        onActiveCardChange(newActiveIndex);\n      } else if (activeCardIndex > cardIndex) {\n        onActiveCardChange(activeCardIndex - 1);\n      }\n    }\n  };\n\n  const renameCard = (cardIndex, newTitle) => {\n    onSurveyChange(prev => ({\n      ...prev,\n      cards: prev.cards.map((card, index) => \n        index === cardIndex ? { ...card, title: newTitle } : card\n      )\n    }));\n  };\n\n  return (\n    <div style={{ display: 'flex', flexDirection: 'column', height: '100%' }}>\n      {/* Card Management Panel */}\n      <div style={{\n        backgroundColor: '#f8f9fa',\n        padding: '12px 20px',\n        borderBottom: '2px solid #dee2e6',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        gap: '15px'\n      }}>\n        <div style={{ display: 'flex', alignItems: 'center', gap: '10px' }}>\n          <span style={{ \n            fontWeight: 'bold', \n            color: '#495057',\n            fontSize: '14px'\n          }}>\n            📋 Správa kroků:\n          </span>\n          \n          <button\n            onClick={addNewCard}\n            style={{\n              display: 'flex',\n              alignItems: 'center',\n              gap: '5px',\n              padding: '8px 12px',\n              backgroundColor: '#28a745',\n              color: 'white',\n              border: 'none',\n              borderRadius: '4px',\n              fontSize: '13px',\n              fontWeight: 'bold',\n              cursor: 'pointer',\n              transition: 'all 0.2s ease'\n            }}\n            onMouseEnter={(e) => e.target.style.backgroundColor = '#218838'}\n            onMouseLeave={(e) => e.target.style.backgroundColor = '#28a745'}\n            title=\"Přidat nový krok mezi uživatelské sekce\"\n          >\n            ➕ Přidat krok\n          </button>\n        </div>\n\n        <div style={{ display: 'flex', alignItems: 'center', gap: '15px' }}>\n          <small style={{ color: '#6c757d', fontSize: '12px' }}>\n            💡 Tip: Kliknutím na krok ho aktivujete, systémové kroky 🔒 může editovat pouze admin\n          </small>\n          \n          <div style={{ \n            backgroundColor: '#e9ecef',\n            padding: '4px 8px',\n            borderRadius: '4px',\n            fontSize: '12px',\n            fontWeight: 'bold',\n            color: '#495057'\n          }}>\n            {survey.cards.filter(card => !card.isSystem).length} {survey.cards.filter(card => !card.isSystem).length === 1 ? 'krok' : survey.cards.filter(card => !card.isSystem).length < 5 ? 'kroky' : 'kroků'}\n          </div>\n        </div>\n      </div>\n\n      {/* Card Tabs - Hide system cards */}\n      <div style={{ \n        display: 'flex', \n        borderBottom: '1px solid #dee2e6',\n        backgroundColor: '#f8f9fa',\n        borderRadius: '0'\n      }}>\n        {survey.cards\n          .filter(card => !card.isSystem) // Hide system cards from the interface\n          .map((card, filteredIndex) => {\n            // Find the original index in the unfiltered array\n            const originalIndex = survey.cards.findIndex(c => c.id === card.id);\n            return (\n              <CardTab\n                key={card.id}\n                card={card}\n                index={originalIndex}\n                isActive={activeCardIndex === originalIndex}\n                canEdit={canEditCard(card)}\n                canDelete={canDeleteCard(card, originalIndex)}\n                isAdmin={isAdmin}\n                onClick={() => handleCardClick(originalIndex)}\n                onDelete={() => deleteCard(originalIndex)}\n                onRename={(newTitle) => renameCard(originalIndex, newTitle)}\n              />\n            );\n          })}\n      </div>\n\n      {/* Active Card Content */}\n      <div style={{ flex: 1, backgroundColor: 'white' }}>\n        {survey.cards[activeCardIndex] && (\n          <SurveyCanvas \n            steps={survey.cards[activeCardIndex].steps}\n            onStepsChange={(newSteps) => handleStepsChange(activeCardIndex, newSteps)}\n            onEditStep={onEditStep}\n            onDeleteStep={(stepId) => onDeleteStep(stepId, activeCardIndex)}\n            cardInfo={survey.cards[activeCardIndex]}\n            canEdit={canEditCard(survey.cards[activeCardIndex])}\n            isAdmin={isAdmin}\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n\n// New CardTab component for individual card management\nconst CardTab = ({ card, index, isActive, canEdit, canDelete, isAdmin, onClick, onDelete, onRename }) => {\n  const [isEditing, setIsEditing] = React.useState(false);\n  const [editTitle, setEditTitle] = React.useState(card.title);\n\n  const handleDoubleClick = () => {\n    if (canEdit && !card.isAdminOnly) {\n      setIsEditing(true);\n      setEditTitle(card.title);\n    }\n  };\n\n  const handleKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      handleSaveEdit();\n    } else if (e.key === 'Escape') {\n      setIsEditing(false);\n      setEditTitle(card.title);\n    }\n  };\n\n  const handleSaveEdit = () => {\n    if (editTitle.trim() && editTitle !== card.title) {\n      onRename(editTitle.trim());\n    }\n    setIsEditing(false);\n  };\n\n  return (\n    <div\n      onClick={!isEditing ? onClick : undefined}\n      onDoubleClick={handleDoubleClick}\n      style={{\n        flex: 1,\n        padding: '15px 20px',\n        cursor: isEditing ? 'default' : 'pointer',\n        backgroundColor: isActive ? '#007bff' : 'transparent',\n        color: isActive ? 'white' : (card.isAdminOnly && !isAdmin ? '#999' : '#495057'),\n        borderBottom: isActive ? '3px solid #0056b3' : '3px solid transparent',\n        transition: 'all 0.2s ease',\n        opacity: card.isAdminOnly && !isAdmin ? 0.6 : 1,\n        position: 'relative',\n        minWidth: '180px'\n      }}\n      onMouseEnter={(e) => {\n        if (!isActive && (canEdit || !card.isAdminOnly) && !isEditing) {\n          e.target.style.backgroundColor = '#e9ecef';\n        }\n      }}\n      onMouseLeave={(e) => {\n        if (!isActive && !isEditing) {\n          e.target.style.backgroundColor = 'transparent';\n        }\n      }}\n    >\n      <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>\n        <div style={{ flex: 1 }}>\n          {isEditing ? (\n            <input\n              type=\"text\"\n              value={editTitle}\n              onChange={(e) => setEditTitle(e.target.value)}\n              onBlur={handleSaveEdit}\n              onKeyDown={handleKeyPress}\n              style={{\n                backgroundColor: 'white',\n                color: '#000',\n                border: '2px solid #007bff',\n                borderRadius: '3px',\n                padding: '4px 8px',\n                fontSize: '14px',\n                fontWeight: 'bold',\n                width: '100%',\n                outline: 'none'\n              }}\n              autoFocus\n              onClick={(e) => e.stopPropagation()}\n            />\n          ) : (\n            <h5 style={{ margin: '0 0 4px 0', fontSize: '14px', fontWeight: 'bold' }}>\n              {card.title}\n              {card.isAdminOnly && (\n                <span style={{ \n                  marginLeft: '8px', \n                  fontSize: '12px',\n                  backgroundColor: '#dc3545',\n                  color: 'white',\n                  padding: '2px 6px',\n                  borderRadius: '3px'\n                }}>\n                  Admin\n                </span>\n              )}\n            </h5>\n          )}\n          \n          {!isEditing && (\n            <small style={{ \n              opacity: 0.8, \n              fontSize: '11px',\n              display: 'block' \n            }}>\n              {card.description}\n            </small>\n          )}\n        </div>\n\n        <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'flex-end', gap: '2px', marginLeft: '10px' }}>\n          <div style={{ \n            backgroundColor: isActive ? 'rgba(255,255,255,0.2)' : '#6c757d',\n            color: 'white',\n            borderRadius: '12px',\n            padding: '2px 8px',\n            fontSize: '11px',\n            fontWeight: 'bold'\n          }}>\n            Krok {index + 1}\n          </div>\n          \n          <div style={{ \n            backgroundColor: isActive ? 'rgba(255,255,255,0.1)' : '#28a745',\n            color: 'white',\n            borderRadius: '8px',\n            padding: '1px 6px',\n            fontSize: '10px',\n            fontWeight: 'bold'\n          }}>\n            {card.steps.length} {card.steps.length === 1 ? 'blok' : card.steps.length < 5 ? 'bloky' : 'bloků'}\n          </div>\n        </div>\n      </div>\n      \n      {/* Card Actions */}\n      <div style={{\n        position: 'absolute',\n        top: '4px',\n        right: '4px',\n        display: 'flex',\n        gap: '4px',\n        opacity: isActive ? 1 : 0.7\n      }}>\n        {!canEdit && (\n          <span style={{ fontSize: '16px' }}>🔒</span>\n        )}\n        \n        {canDelete && (\n          <button\n            onClick={(e) => {\n              e.stopPropagation();\n              onDelete();\n            }}\n            style={{\n              background: 'none',\n              border: 'none',\n              fontSize: '14px',\n              cursor: 'pointer',\n              padding: '2px',\n              borderRadius: '2px',\n              color: isActive ? 'rgba(255,255,255,0.8)' : '#dc3545'\n            }}\n            title=\"Smazat tento krok\"\n            onMouseEnter={(e) => e.target.style.backgroundColor = 'rgba(220, 53, 69, 0.1)'}\n            onMouseLeave={(e) => e.target.style.backgroundColor = 'transparent'}\n          >\n            ❌\n          </button>\n        )}\n        \n        {canEdit && !card.isAdminOnly && !isEditing && (\n          <button\n            onClick={(e) => {\n              e.stopPropagation();\n              handleDoubleClick();\n            }}\n            style={{\n              background: 'none',\n              border: 'none',\n              fontSize: '12px',\n              cursor: 'pointer',\n              padding: '2px',\n              borderRadius: '2px',\n              color: isActive ? 'rgba(255,255,255,0.8)' : '#6c757d'\n            }}\n            title=\"Přejmenovat krok (nebo dvojklik)\"\n            onMouseEnter={(e) => e.target.style.backgroundColor = 'rgba(108, 117, 125, 0.1)'}\n            onMouseLeave={(e) => e.target.style.backgroundColor = 'transparent'}\n          >\n            ✏️\n          </button>\n        )}\n      </div>\n      \n      {!isEditing && canEdit && !card.isAdminOnly && (\n        <div style={{\n          position: 'absolute',\n          bottom: '2px',\n          left: '50%',\n          transform: 'translateX(-50%)',\n          fontSize: '9px',\n          opacity: 0.6,\n          color: isActive ? 'rgba(255,255,255,0.6)' : '#6c757d'\n        }}>\n          Dvojklik = přejmenovat\n        </div>\n      )}\n    </div>\n  );\n};\n\n// Wrapper component to handle URL parameters\nconst SurveyCreatorWithParams = () => {\n  const { surveyId } = useParams();\n  return <SurveyCreator editingSurveyId={surveyId} />;\n};\n\n// Wrapper component for Global Surveys mode\nconst GlobalSurveysCreator = () => {\n  return <SurveyCreator globalMode={true} />;\n};\n\nconst SurveyList = () => {\n  const { user } = useAuth();\n  const navigate = useNavigate();\n  const [surveys, setSurveys] = React.useState([]);\n  const [loading, setLoading] = React.useState(true);\n  const [error, setError] = React.useState(null);\n\n\n  // Fetch surveys\n  React.useEffect(() => {\n    fetchSurveys();\n  }, []);\n\n  const fetchSurveys = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const response = await fetch('/api/surveys', {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      \n      if (response.ok) {\n        const data = await response.json();\n        setSurveys(data.surveys || []);\n      } else {\n        throw new Error('Chyba při načítání dotazníků');\n      }\n    } catch (error) {\n      console.error('Error fetching surveys:', error);\n      setError(error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleEdit = (survey) => {\n    navigate(`/survey-creator/edit/${survey.id}`);\n  };\n\n  const handleDelete = async (surveyId, surveyTitle) => {\n    if (window.confirm(`Opravdu chcete smazat dotazník \"${surveyTitle}\"?`)) {\n      try {\n        const response = await fetch(`/api/surveys/${surveyId}`, {\n          method: 'DELETE',\n          headers: {\n            'Authorization': `Bearer ${localStorage.getItem('token')}`\n          }\n        });\n\n        if (response.ok) {\n          await fetchSurveys();\n          alert('Dotazník byl smazán');\n        } else {\n          throw new Error('Chyba při mazání dotazníku');\n        }\n      } catch (error) {\n        console.error('Error deleting survey:', error);\n        alert('Chyba při mazání dotazníku: ' + error.message);\n      }\n    }\n  };\n\n\n\n  const getStatusColor = (status) => {\n    switch (status) {\n      case 'active': return '#28a745';\n      case 'draft': return '#6c757d';\n      case 'paused': return '#ffc107';\n      case 'completed': return '#17a2b8';\n      default: return '#6c757d';\n    }\n  };\n\n  const getStatusText = (status) => {\n    switch (status) {\n      case 'active': return 'Aktivní';\n      case 'draft': return 'Koncept';\n      case 'paused': return 'Pozastaveno';\n      case 'completed': return 'Dokončeno';\n      default: return status;\n    }\n  };\n\n  if (loading) {\n    return <div style={{ padding: '20px' }}>Načítání dotazníků...</div>;\n  }\n\n  if (error) {\n    return (\n      <div style={{ padding: '20px' }}>\n        <div style={{ color: 'red', marginBottom: '10px' }}>Chyba: {error}</div>\n        <button onClick={fetchSurveys} style={{ padding: '8px 16px', backgroundColor: '#007bff', color: 'white', border: 'none', borderRadius: '4px' }}>\n          Zkusit znovu\n        </button>\n      </div>\n    );\n  }\n\n  return (\n    <div style={{ padding: '20px' }}>\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '20px' }}>\n        <h2>Seznam dotazníků</h2>\n        <div style={{ fontSize: '14px', color: '#6c757d' }}>\n          {user?.role === 'admin' ? 'Zobrazeny všechny dotazníky' : 'Zobrazeny vaše dotazníky'}\n        </div>\n      </div>\n\n      {surveys.length === 0 ? (\n        <div style={{ textAlign: 'center', padding: '40px', color: '#6c757d' }}>\n          <p>Žádné dotazníky nebyly nalezeny.</p>\n          <p>Začněte vytvořením nového dotazníku v Survey Creator.</p>\n        </div>\n      ) : (\n        <div style={{ overflowX: 'auto' }}>\n          <table style={{ width: '100%', borderCollapse: 'collapse', marginTop: '10px' }}>\n            <thead>\n              <tr style={{ backgroundColor: '#f8f9fa' }}>\n                <th style={{ padding: '12px', textAlign: 'left', border: '1px solid #dee2e6', fontWeight: 'bold' }}>Název</th>\n                <th style={{ padding: '12px', textAlign: 'left', border: '1px solid #dee2e6', fontWeight: 'bold' }}>Vlastník</th>\n                <th style={{ padding: '12px', textAlign: 'left', border: '1px solid #dee2e6', fontWeight: 'bold' }}>Status</th>\n                <th style={{ padding: '12px', textAlign: 'center', border: '1px solid #dee2e6', fontWeight: 'bold' }}>Aktivní tokeny</th>\n                <th style={{ padding: '12px', textAlign: 'left', border: '1px solid #dee2e6', fontWeight: 'bold' }}>Vytvořeno</th>\n                <th style={{ padding: '12px', textAlign: 'left', border: '1px solid #dee2e6', fontWeight: 'bold' }}>Upraveno</th>\n                <th style={{ padding: '12px', textAlign: 'center', border: '1px solid #dee2e6', fontWeight: 'bold' }}>Akce</th>\n              </tr>\n            </thead>\n            <tbody>\n              {surveys.map(survey => (\n                <tr key={survey.id} style={{ backgroundColor: survey.id % 2 === 0 ? '#f9f9f9' : 'white' }}>\n                  <td style={{ padding: '12px', border: '1px solid #dee2e6' }}>\n                    <div style={{ fontWeight: 'bold', marginBottom: '4px' }}>{survey.title}</div>\n                    {survey.description && (\n                      <div style={{ fontSize: '12px', color: '#6c757d', maxWidth: '200px', overflow: 'hidden', textOverflow: 'ellipsis' }}>\n                        {survey.description}\n                      </div>\n                    )}\n                  </td>\n                  <td style={{ padding: '12px', border: '1px solid #dee2e6' }}>\n                    <div style={{ fontWeight: 'bold' }}>{survey.owner_username}</div>\n                    {user?.role === 'admin' && survey.user_id !== user.id && (\n                      <div style={{ fontSize: '11px', color: '#dc3545', fontWeight: 'bold' }}>CIZÍ</div>\n                    )}\n                  </td>\n                  <td style={{ padding: '12px', border: '1px solid #dee2e6' }}>\n                    <span style={{ \n                      padding: '4px 8px', \n                      borderRadius: '12px',\n                      backgroundColor: getStatusColor(survey.status),\n                      color: 'white',\n                      fontSize: '12px',\n                      fontWeight: 'bold'\n                    }}>\n                      {getStatusText(survey.status)}\n                    </span>\n                  </td>\n                  <td style={{ padding: '12px', border: '1px solid #dee2e6', textAlign: 'center' }}>\n                    {survey.is_active ? (\n                      <span style={{ \n                        padding: '4px 8px', \n                        borderRadius: '12px',\n                        backgroundColor: '#28a745',\n                        color: 'white',\n                        fontSize: '12px',\n                        fontWeight: 'bold'\n                      }}>\n                        AKTIVNÍ\n                      </span>\n                    ) : (\n                      <span style={{ \n                        padding: '4px 8px', \n                        borderRadius: '12px',\n                        backgroundColor: '#6c757d',\n                        color: 'white',\n                        fontSize: '12px'\n                      }}>\n                        NEAKTIVNÍ\n                      </span>\n                    )}\n                    <div style={{ fontSize: '11px', color: '#6c757d', marginTop: '2px' }}>\n                      {survey.token_count || 0} tokenů\n                    </div>\n                  </td>\n                  <td style={{ padding: '12px', border: '1px solid #dee2e6', fontSize: '13px' }}>\n                    {new Date(survey.created_at).toLocaleDateString('cs-CZ', {\n                      day: '2-digit',\n                      month: '2-digit',\n                      year: 'numeric'\n                    })}\n                    <div style={{ fontSize: '11px', color: '#6c757d' }}>\n                      {new Date(survey.created_at).toLocaleTimeString('cs-CZ', {\n                        hour: '2-digit',\n                        minute: '2-digit'\n                      })}\n                    </div>\n                  </td>\n                  <td style={{ padding: '12px', border: '1px solid #dee2e6', fontSize: '13px' }}>\n                    {new Date(survey.updated_at).toLocaleDateString('cs-CZ', {\n                      day: '2-digit',\n                      month: '2-digit',\n                      year: 'numeric'\n                    })}\n                    <div style={{ fontSize: '11px', color: '#6c757d' }}>\n                      {new Date(survey.updated_at).toLocaleTimeString('cs-CZ', {\n                        hour: '2-digit',\n                        minute: '2-digit'\n                      })}\n                    </div>\n                  </td>\n                  <td style={{ padding: '12px', border: '1px solid #dee2e6', textAlign: 'center' }}>\n                    <div style={{ display: 'flex', flexDirection: 'column', gap: '4px', alignItems: 'center' }}>\n                      {(user?.role === 'admin' || survey.user_id === user?.id) && (\n                        <>\n                          <button \n                            onClick={() => handleEdit(survey)}\n                            style={{ \n                              padding: '4px 8px', \n                              backgroundColor: '#ffc107', \n                              border: 'none', \n                              borderRadius: '3px',\n                              fontSize: '12px',\n                              cursor: 'pointer',\n                              minWidth: '60px'\n                            }}\n                            title=\"Upravit dotazník\"\n                          >\n                            Upravit\n                          </button>\n                          \n                          <button \n                            onClick={() => handleDelete(survey.id, survey.title)}\n                            style={{ \n                              padding: '4px 8px', \n                              backgroundColor: '#dc3545', \n                              color: 'white', \n                              border: 'none', \n                              borderRadius: '3px',\n                              fontSize: '12px',\n                              cursor: 'pointer',\n                              minWidth: '60px'\n                            }}\n                            title=\"Smazat dotazník\"\n                          >\n                            Smazat\n                          </button>\n                        </>\n                      )}\n                      \n                      {user?.role !== 'admin' && survey.user_id !== user?.id && (\n                        <span style={{ fontSize: '12px', color: '#6c757d', fontStyle: 'italic' }}>\n                          Pouze zobrazení\n                        </span>\n                      )}\n                    </div>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      )}\n\n\n    </div>\n  );\n};\n\nconst TokenList = () => {\n  const { user } = useAuth();\n  const [tokens, setTokens] = React.useState([]);\n  const [surveys, setSurveys] = React.useState([]);\n  const [loading, setLoading] = React.useState(true);\n  const [error, setError] = React.useState(null);\n  const [showCreateForm, setShowCreateForm] = React.useState(false);\n  const [newToken, setNewToken] = React.useState({\n    surveyId: '',\n    allowedDomains: '',\n    validFrom: '',\n    validTo: ''\n  });\n\n  // Fetch tokens and surveys\n  React.useEffect(() => {\n    fetchTokens();\n    fetchSurveys();\n  }, []);\n\n  const fetchTokens = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const response = await fetch('/api/tokens', {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      \n      if (response.ok) {\n        const data = await response.json();\n        setTokens(data.tokens || []);\n      } else {\n        throw new Error('Chyba při načítání tokenů');\n      }\n    } catch (error) {\n      console.error('Error fetching tokens:', error);\n      setError(error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchSurveys = async () => {\n    try {\n      const response = await fetch('/api/surveys', {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      \n      if (response.ok) {\n        const data = await response.json();\n        setSurveys(data.surveys || []);\n      }\n    } catch (error) {\n      console.error('Error fetching surveys:', error);\n    }\n  };\n\n  const handleCreateToken = async (e) => {\n    e.preventDefault();\n    \n    if (!newToken.surveyId) {\n      alert('Vyberte prosím dotazník');\n      return;\n    }\n\n    try {\n      const response = await fetch('/api/tokens', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        },\n        body: JSON.stringify({\n          survey_id: newToken.surveyId,\n          allowed_domains: newToken.allowedDomains.split('\\n').filter(d => d.trim()),\n          valid_from: newToken.validFrom || null,\n          valid_until: newToken.validTo || null\n        })\n      });\n\n      if (response.ok) {\n        await fetchTokens();\n        setShowCreateForm(false);\n        setNewToken({ surveyId: '', allowedDomains: '', validFrom: '', validTo: '' });\n        alert('Token byl úspěšně vytvořen!');\n      } else {\n        const errorData = await response.json();\n        throw new Error(errorData.error || 'Chyba při vytváření tokenu');\n      }\n    } catch (error) {\n      console.error('Error creating token:', error);\n      alert('Chyba při vytváření tokenu: ' + error.message);\n    }\n  };\n\n  const handleToggleStatus = async (tokenId, currentStatus) => {\n    const newStatus = currentStatus === 'active' ? 'paused' : 'active';\n    const action = newStatus === 'active' ? 'obnovit' : 'pozastavit';\n    const endpoint = newStatus === 'active' ? 'resume' : 'pause';\n    \n    if (window.confirm(`Opravdu chcete ${action} tento token?`)) {\n      try {\n        const response = await fetch(`/api/tokens/${tokenId}/${endpoint}`, {\n          method: 'PATCH',\n          headers: {\n            'Authorization': `Bearer ${localStorage.getItem('token')}`\n          }\n        });\n\n        if (response.ok) {\n          await fetchTokens();\n          alert(`Token byl ${newStatus === 'active' ? 'obnoven' : 'pozastaven'}`);\n        } else {\n          throw new Error('Chyba při změně statusu');\n        }\n      } catch (error) {\n        console.error('Error updating token:', error);\n        alert('Chyba při změně statusu: ' + error.message);\n      }\n    }\n  };\n\n  const handleDeleteToken = async (tokenId, tokenName) => {\n    if (window.confirm(`Opravdu chcete smazat token \"${tokenName}\"?`)) {\n      try {\n        const response = await fetch(`/api/tokens/${tokenId}`, {\n          method: 'DELETE',\n          headers: {\n            'Authorization': `Bearer ${localStorage.getItem('token')}`\n          }\n        });\n\n        if (response.ok) {\n          await fetchTokens();\n          alert('Token byl smazán');\n        } else {\n          throw new Error('Chyba při mazání tokenu');\n        }\n      } catch (error) {\n        console.error('Error deleting token:', error);\n        alert('Chyba při mazání tokenu: ' + error.message);\n      }\n    }\n  };\n\n  const copyToClipboard = (text) => {\n    navigator.clipboard.writeText(text).then(() => {\n      alert('Kód byl zkopírován do schránky!');\n    }).catch(() => {\n      alert('Chyba při kopírování do schránky');\n    });\n  };\n\n  const getStatusColor = (status) => {\n    return status === 'active' ? '#28a745' : '#6c757d';\n  };\n\n  const getStatusText = (status) => {\n    return status === 'active' ? 'Aktivní' : 'Pozastaveno';\n  };\n\n  if (loading) {\n    return <div style={{ padding: '20px' }}>Načítání tokenů...</div>;\n  }\n\n  if (error) {\n    return (\n      <div style={{ padding: '20px' }}>\n        <div style={{ color: 'red', marginBottom: '10px' }}>Chyba: {error}</div>\n        <button onClick={fetchTokens} style={{ padding: '8px 16px', backgroundColor: '#007bff', color: 'white', border: 'none', borderRadius: '4px' }}>\n          Zkusit znovu\n        </button>\n      </div>\n    );\n  }\n\n  return (\n    <div style={{ padding: '20px' }}>\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '20px' }}>\n        <h2>Survey Tokenisation</h2>\n        <div style={{ fontSize: '14px', color: '#6c757d' }}>\n          {user?.role === 'admin' ? 'Zobrazeny všechny tokeny' : 'Zobrazeny vaše tokeny'}\n        </div>\n      </div>\n\n      <div style={{ \n        backgroundColor: '#e3f2fd', \n        border: '1px solid #2196f3', \n        borderRadius: '8px', \n        padding: '16px', \n        marginBottom: '20px' \n      }}>\n        <div style={{ display: 'flex', alignItems: 'center', marginBottom: '8px' }}>\n          <span style={{ fontSize: '20px', marginRight: '8px' }}>📡</span>\n          <strong style={{ color: '#1976d2' }}>EMBEDOVÁNÍ WIDGETŮ</strong>\n        </div>\n        <p style={{ margin: '0', color: '#1976d2', fontSize: '14px' }}>\n          Vytvořte tokeny pro embedování dotazníků na externí weby. \n          Každý token generuje JavaScript soubor, který můžete vložit na vaše stránky.\n        </p>\n      </div>\n\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '20px' }}>\n        <h3>Seznam tokenů</h3>\n        <button \n          onClick={() => setShowCreateForm(true)}\n          style={{ \n            padding: '8px 16px', \n            backgroundColor: '#28a745', \n            color: 'white', \n            border: 'none', \n            borderRadius: '4px',\n            cursor: 'pointer'\n          }}\n        >\n          ➕ Tokenise survey (Add)\n        </button>\n      </div>\n\n      {showCreateForm && (\n        <div style={{ \n          backgroundColor: '#f8f9fa', \n          border: '1px solid #dee2e6', \n          borderRadius: '8px', \n          padding: '20px', \n          marginBottom: '20px' \n        }}>\n          <h4>Vytvořit nový token</h4>\n          <form onSubmit={handleCreateToken}>\n            <div style={{ marginBottom: '15px' }}>\n              <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>\n                Vyberte dotazník *\n              </label>\n              <select \n                value={newToken.surveyId}\n                onChange={(e) => setNewToken({...newToken, surveyId: e.target.value})}\n                style={{ width: '100%', padding: '8px', border: '1px solid #ccc', borderRadius: '4px' }}\n                required\n              >\n                <option value=\"\">-- Vyberte dotazník --</option>\n                {surveys.map(survey => (\n                  <option key={survey.id} value={survey.id}>\n                    {survey.title} ({getStatusText(survey.status)})\n                  </option>\n                ))}\n              </select>\n            </div>\n\n            <div style={{ marginBottom: '15px' }}>\n              <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>\n                Povolené domény (whitelist)\n              </label>\n              <textarea \n                value={newToken.allowedDomains}\n                onChange={(e) => setNewToken({...newToken, allowedDomains: e.target.value})}\n                placeholder=\"example.com&#10;subdomain.example.com&#10;*.example.org\"\n                style={{ \n                  width: '100%', \n                  padding: '8px', \n                  border: '1px solid #ccc', \n                  borderRadius: '4px', \n                  minHeight: '80px',\n                  resize: 'vertical'\n                }}\n              />\n              <small style={{ color: '#6c757d' }}>\n                Zadejte každou doménu na nový řádek. Nechte prázdné pro povolení všech domén.\n              </small>\n            </div>\n\n            <div style={{ display: 'flex', gap: '15px', marginBottom: '15px' }}>\n              <div style={{ flex: 1 }}>\n                <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>\n                  Platnost od\n                </label>\n                <input \n                  type=\"datetime-local\"\n                  value={newToken.validFrom}\n                  onChange={(e) => setNewToken({...newToken, validFrom: e.target.value})}\n                  style={{ width: '100%', padding: '8px', border: '1px solid #ccc', borderRadius: '4px' }}\n                />\n              </div>\n              <div style={{ flex: 1 }}>\n                <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>\n                  Platnost do\n                </label>\n                <input \n                  type=\"datetime-local\"\n                  value={newToken.validTo}\n                  onChange={(e) => setNewToken({...newToken, validTo: e.target.value})}\n                  style={{ width: '100%', padding: '8px', border: '1px solid #ccc', borderRadius: '4px' }}\n                />\n              </div>\n            </div>\n\n            <div style={{ display: 'flex', gap: '10px', justifyContent: 'flex-end' }}>\n              <button \n                type=\"button\"\n                onClick={() => {\n                  setShowCreateForm(false);\n                  setNewToken({ surveyId: '', allowedDomains: '', validFrom: '', validTo: '' });\n                }}\n                style={{ padding: '8px 16px', backgroundColor: '#6c757d', color: 'white', border: 'none', borderRadius: '4px' }}\n              >\n                Zrušit\n              </button>\n              <button \n                type=\"submit\"\n                style={{ padding: '8px 16px', backgroundColor: '#007bff', color: 'white', border: 'none', borderRadius: '4px' }}\n              >\n                Vytvořit token\n              </button>\n            </div>\n          </form>\n        </div>\n      )}\n\n      {tokens.length === 0 ? (\n        <div style={{ textAlign: 'center', padding: '40px', color: '#6c757d' }}>\n          <p>Žádné tokeny nebyly nalezeny.</p>\n          <p>Začněte vytvořením nového tokenu pro embedování dotazníků.</p>\n        </div>\n      ) : (\n        <div style={{ overflowX: 'auto' }}>\n          <table style={{ width: '100%', borderCollapse: 'collapse', marginTop: '10px' }}>\n            <thead>\n              <tr style={{ backgroundColor: '#f8f9fa' }}>\n                <th style={{ padding: '12px', textAlign: 'left', border: '1px solid #dee2e6', fontWeight: 'bold' }}>Token ID</th>\n                <th style={{ padding: '12px', textAlign: 'left', border: '1px solid #dee2e6', fontWeight: 'bold' }}>Dotazník</th>\n                <th style={{ padding: '12px', textAlign: 'left', border: '1px solid #dee2e6', fontWeight: 'bold' }}>Vlastník</th>\n                <th style={{ padding: '12px', textAlign: 'center', border: '1px solid #dee2e6', fontWeight: 'bold' }}>Status</th>\n                <th style={{ padding: '12px', textAlign: 'left', border: '1px solid #dee2e6', fontWeight: 'bold' }}>Platnost</th>\n                <th style={{ padding: '12px', textAlign: 'left', border: '1px solid #dee2e6', fontWeight: 'bold' }}>Embed kód</th>\n                <th style={{ padding: '12px', textAlign: 'center', border: '1px solid #dee2e6', fontWeight: 'bold' }}>Statistiky</th>\n                <th style={{ padding: '12px', textAlign: 'center', border: '1px solid #dee2e6', fontWeight: 'bold' }}>Akce</th>\n              </tr>\n            </thead>\n            <tbody>\n              {tokens.map(token => (\n                <tr key={token.id} style={{ backgroundColor: token.id % 2 === 0 ? '#f9f9f9' : 'white' }}>\n                  <td style={{ padding: '12px', border: '1px solid #dee2e6' }}>\n                    <code style={{ \n                      backgroundColor: '#f8f9fa', \n                      padding: '2px 4px', \n                      borderRadius: '3px',\n                      fontSize: '12px'\n                    }}>\n                      {token.token_id}\n                    </code>\n                  </td>\n                  <td style={{ padding: '12px', border: '1px solid #dee2e6' }}>\n                    <div style={{ fontWeight: 'bold' }}>{token.survey_title}</div>\n                    <div style={{ fontSize: '12px', color: '#6c757d' }}>ID: {token.survey_id}</div>\n                  </td>\n                  <td style={{ padding: '12px', border: '1px solid #dee2e6' }}>\n                    <div style={{ fontWeight: 'bold' }}>{token.owner_username}</div>\n                    {user?.role === 'admin' && token.user_id !== user.id && (\n                      <div style={{ fontSize: '11px', color: '#dc3545', fontWeight: 'bold' }}>CIZÍ</div>\n                    )}\n                  </td>\n                  <td style={{ padding: '12px', border: '1px solid #dee2e6', textAlign: 'center' }}>\n                    <span style={{ \n                      padding: '4px 8px', \n                      borderRadius: '12px',\n                      backgroundColor: getStatusColor(token.status),\n                      color: 'white',\n                      fontSize: '12px',\n                      fontWeight: 'bold'\n                    }}>\n                      {getStatusText(token.status)}\n                    </span>\n                  </td>\n                  <td style={{ padding: '12px', border: '1px solid #dee2e6', fontSize: '13px' }}>\n                    {token.valid_from && (\n                      <div>\n                        <strong>Od:</strong> {new Date(token.valid_from).toLocaleDateString('cs-CZ')}\n                      </div>\n                    )}\n                    {token.valid_to && (\n                      <div>\n                        <strong>Do:</strong> {new Date(token.valid_to).toLocaleDateString('cs-CZ')}\n                      </div>\n                    )}\n                    {!token.valid_from && !token.valid_to && (\n                      <span style={{ color: '#6c757d', fontStyle: 'italic' }}>Bez omezení</span>\n                    )}\n                  </td>\n                  <td style={{ padding: '12px', border: '1px solid #dee2e6' }}>\n                    <div style={{ \n                      backgroundColor: '#f8f9fa', \n                      border: '1px solid #dee2e6', \n                      borderRadius: '4px', \n                      padding: '8px',\n                      fontSize: '12px',\n                      fontFamily: 'monospace',\n                      marginBottom: '5px'\n                    }}>\n                      {`<script src=\"${window.location.origin}/widget_${token.token_id}.js\"></script>`}\n                    </div>\n                                         <div style={{ display: 'flex', gap: '4px' }}>\n                       <button \n                         onClick={() => copyToClipboard(`<script src=\"${window.location.origin}/widget_${token.token_id}.js\"></script>`)}\n                         style={{ \n                           padding: '4px 8px', \n                           backgroundColor: '#17a2b8', \n                           color: 'white', \n                           border: 'none', \n                           borderRadius: '3px',\n                           fontSize: '11px',\n                           cursor: 'pointer'\n                         }}\n                         title=\"Zkopírovat do schránky\"\n                       >\n                         📋 Kopírovat\n                       </button>\n                       <button \n                         onClick={() => window.open(`/widget_${token.token_id}.html`, '_blank')}\n                         style={{ \n                           padding: '4px 8px', \n                           backgroundColor: '#28a745', \n                           color: 'white', \n                           border: 'none', \n                           borderRadius: '3px',\n                           fontSize: '11px',\n                           cursor: 'pointer'\n                         }}\n                         title=\"Zobrazit náhled widgetu\"\n                       >\n                         👁️ Náhled\n                       </button>\n                     </div>\n                  </td>\n                  <td style={{ padding: '12px', border: '1px solid #dee2e6', textAlign: 'center' }}>\n                    <button \n                      onClick={() => window.open(`/statistics/${token.survey_id}`, '_blank')}\n                      style={{ \n                        padding: '6px 12px', \n                        backgroundColor: '#6f42c1', \n                        color: 'white', \n                        border: 'none', \n                        borderRadius: '4px',\n                        fontSize: '12px',\n                        cursor: 'pointer',\n                        fontWeight: 'bold'\n                      }}\n                      title=\"Zobrazit statistiky dotazníku\"\n                    >\n                      📊 Statistiky\n                    </button>\n                  </td>\n                  <td style={{ padding: '12px', border: '1px solid #dee2e6', textAlign: 'center' }}>\n                    <div style={{ display: 'flex', flexDirection: 'column', gap: '4px', alignItems: 'center' }}>\n                      {(user?.role === 'admin' || token.user_id === user?.id) && (\n                        <>\n                          <button \n                            onClick={() => handleToggleStatus(token.id, token.status)}\n                            style={{ \n                              padding: '4px 8px', \n                              backgroundColor: token.status === 'active' ? '#ffc107' : '#28a745',\n                              color: token.status === 'active' ? 'black' : 'white',\n                              border: 'none', \n                              borderRadius: '3px',\n                              fontSize: '12px',\n                              cursor: 'pointer',\n                              minWidth: '70px'\n                            }}\n                            title={token.status === 'active' ? 'Pozastavit token' : 'Obnovit token'}\n                          >\n                            {token.status === 'active' ? 'Pozastavit' : 'Obnovit'}\n                          </button>\n                          \n                          <button \n                            onClick={() => handleDeleteToken(token.id, token.token_id)}\n                            style={{ \n                              padding: '4px 8px', \n                              backgroundColor: '#dc3545', \n                              color: 'white', \n                              border: 'none', \n                              borderRadius: '3px',\n                              fontSize: '12px',\n                              cursor: 'pointer',\n                              minWidth: '70px'\n                            }}\n                            title=\"Smazat token\"\n                          >\n                            Smazat\n                          </button>\n                        </>\n                      )}\n                      \n                      {user?.role !== 'admin' && token.user_id !== user?.id && (\n                        <span style={{ fontSize: '12px', color: '#6c757d', fontStyle: 'italic' }}>\n                          Pouze zobrazení\n                        </span>\n                      )}\n                    </div>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      )}\n    </div>\n  );\n};\n\nconst UserList = () => {\n  const [users, setUsers] = React.useState([]);\n  const [loading, setLoading] = React.useState(true);\n  const [editingUser, setEditingUser] = React.useState(null);\n  const [showCreateForm, setShowCreateForm] = React.useState(false);\n\n  // Fetch users\n  React.useEffect(() => {\n    fetchUsers();\n  }, []);\n\n  const fetchUsers = async () => {\n    try {\n      setLoading(true);\n      const response = await fetch('/api/users', {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        // Handle API response format - it returns {users: [...], pagination: {...}}\n        setUsers(data.users || data);\n      }\n    } catch (error) {\n      console.error('Error fetching users:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleEdit = (user) => {\n    setEditingUser({...user, newPassword: ''});\n  };\n\n  const handleSave = async () => {\n    try {\n      const { id, newPassword, ...updateData } = editingUser;\n      if (newPassword) {\n        updateData.password = newPassword;\n      }\n\n      const response = await fetch(`/api/users/${id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        },\n        body: JSON.stringify(updateData)\n      });\n\n      if (response.ok) {\n        await fetchUsers();\n        setEditingUser(null);\n        alert('Uživatel byl úspěšně upraven');\n      } else {\n        alert('Chyba při ukládání uživatele');\n      }\n    } catch (error) {\n      console.error('Error saving user:', error);\n      alert('Chyba při ukládání uživatele');\n    }\n  };\n\n  const handleDelete = async (userId, username) => {\n    if (window.confirm(`Opravdu chcete smazat uživatele \"${username}\"?`)) {\n      try {\n        const response = await fetch(`/api/users/${userId}`, {\n          method: 'DELETE',\n          headers: {\n            'Authorization': `Bearer ${localStorage.getItem('token')}`\n          }\n        });\n\n        if (response.ok) {\n          await fetchUsers();\n          alert('Uživatel byl smazán');\n        } else {\n          alert('Chyba při mazání uživatele');\n        }\n      } catch (error) {\n        console.error('Error deleting user:', error);\n        alert('Chyba při mazání uživatele');\n      }\n    }\n  };\n\n  const handleCreate = async (userData) => {\n    try {\n      const response = await fetch('/api/users', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        },\n        body: JSON.stringify(userData)\n      });\n\n      if (response.ok) {\n        await fetchUsers();\n        setShowCreateForm(false);\n        alert('Uživatel byl vytvořen');\n      } else {\n        const error = await response.json();\n        alert('Chyba při vytváření uživatele: ' + error.error);\n      }\n    } catch (error) {\n      console.error('Error creating user:', error);\n      alert('Chyba při vytváření uživatele');\n    }\n  };\n\n  if (loading) {\n    return <div style={{ padding: '20px' }}>Načítání uživatelů...</div>;\n  }\n\n  return (\n    <div style={{ padding: '20px' }}>\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '20px' }}>\n        <h2>Správa uživatelů</h2>\n        <button \n          onClick={() => setShowCreateForm(true)}\n          style={{ padding: '8px 16px', backgroundColor: '#28a745', color: 'white', border: 'none', borderRadius: '4px' }}\n        >\n          Přidat uživatele\n        </button>\n      </div>\n\n      {showCreateForm && (\n        <UserForm \n          onSave={handleCreate}\n          onCancel={() => setShowCreateForm(false)}\n          title=\"Vytvořit nového uživatele\"\n        />\n      )}\n\n      {editingUser && (\n        <UserForm \n          user={editingUser}\n          onSave={() => handleSave()}\n          onCancel={() => setEditingUser(null)}\n          onChange={setEditingUser}\n          title=\"Upravit uživatele\"\n        />\n      )}\n\n      <table style={{ width: '100%', borderCollapse: 'collapse', marginTop: '20px' }}>\n        <thead>\n          <tr style={{ backgroundColor: '#f8f9fa' }}>\n            <th style={{ padding: '12px', textAlign: 'left', border: '1px solid #dee2e6' }}>Uživatelské jméno</th>\n            <th style={{ padding: '12px', textAlign: 'left', border: '1px solid #dee2e6' }}>Email</th>\n            <th style={{ padding: '12px', textAlign: 'left', border: '1px solid #dee2e6' }}>Role</th>\n            <th style={{ padding: '12px', textAlign: 'left', border: '1px solid #dee2e6' }}>Vytvořeno</th>\n            <th style={{ padding: '12px', textAlign: 'left', border: '1px solid #dee2e6' }}>Akce</th>\n          </tr>\n        </thead>\n        <tbody>\n          {users.map(user => (\n            <tr key={user.id}>\n              <td style={{ padding: '12px', border: '1px solid #dee2e6' }}>{user.username}</td>\n              <td style={{ padding: '12px', border: '1px solid #dee2e6' }}>{user.email}</td>\n              <td style={{ padding: '12px', border: '1px solid #dee2e6' }}>\n                <span style={{ \n                  padding: '4px 8px', \n                  borderRadius: '4px',\n                  backgroundColor: user.role === 'admin' ? '#dc3545' : '#007bff',\n                  color: 'white',\n                  fontSize: '12px'\n                }}>\n                  {user.role}\n                </span>\n              </td>\n              <td style={{ padding: '12px', border: '1px solid #dee2e6' }}>\n                {new Date(user.created_at).toLocaleDateString('cs-CZ')}\n              </td>\n              <td style={{ padding: '12px', border: '1px solid #dee2e6' }}>\n                <button \n                  onClick={() => handleEdit(user)}\n                  style={{ padding: '4px 8px', marginRight: '8px', backgroundColor: '#ffc107', border: 'none', borderRadius: '3px' }}\n                >\n                  Upravit\n                </button>\n                <button \n                  onClick={() => handleDelete(user.id, user.username)}\n                  style={{ padding: '4px 8px', backgroundColor: '#dc3545', color: 'white', border: 'none', borderRadius: '3px' }}\n                >\n                  Smazat\n                </button>\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n\n      {users.length === 0 && (\n        <div style={{ textAlign: 'center', padding: '40px', color: '#6c757d' }}>\n          Žádní uživatelé nebyli nalezeni\n        </div>\n      )}\n    </div>\n  );\n};\n\nconst AuditLogs = () => {\n  const [logs, setLogs] = React.useState([]);\n  const [loading, setLoading] = React.useState(true);\n  const [filters, setFilters] = React.useState({\n    eventType: '',\n    userId: '',\n    dateFrom: '',\n    dateTo: '',\n    page: 1,\n    limit: 50\n  });\n\n  // Fetch logs\n  React.useEffect(() => {\n    fetchLogs();\n  }, [filters]);\n\n  const fetchLogs = async () => {\n    try {\n      setLoading(true);\n      const queryParams = new URLSearchParams();\n      \n      // Map frontend filters to backend API parameters\n      if (filters.eventType) queryParams.append('action', filters.eventType);\n      if (filters.userId) queryParams.append('user_id', filters.userId);\n      if (filters.dateFrom) queryParams.append('from_date', filters.dateFrom + 'T00:00:00Z');\n      if (filters.dateTo) queryParams.append('to_date', filters.dateTo + 'T23:59:59Z');\n      if (filters.page) queryParams.append('page', filters.page);\n      if (filters.limit) queryParams.append('limit', filters.limit);\n\n      const response = await fetch(`/api/logs?${queryParams}`, {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      \n      if (response.ok) {\n        const data = await response.json();\n        setLogs(data.logs || data);\n      }\n    } catch (error) {\n      console.error('Error fetching logs:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleFilterChange = (field, value) => {\n    setFilters(prev => ({ ...prev, [field]: value, page: 1 }));\n  };\n\n  const getEventTypeColor = (eventType) => {\n    const colors = {\n      'LOGIN': '#28a745',\n      'LOGOUT': '#6c757d',\n      'CREATE': '#007bff',\n      'UPDATE': '#ffc107',\n      'DELETE': '#dc3545',\n      'TOKEN_CREATE': '#17a2b8',\n      'TOKEN_PAUSE': '#fd7e14',\n      'TOKEN_RESUME': '#20c997',\n      'TOKEN_DELETE': '#e83e8c',\n      'SURVEY_DELIVERY': '#6f42c1'\n    };\n    return colors[eventType] || '#6c757d';\n  };\n\n  const formatEventDescription = (log) => {\n    switch(log.action) {\n      case 'LOGIN':\n        return `Uživatel se přihlásil`;\n      case 'LOGOUT':\n        return `Uživatel se odhlásil`;\n      case 'CREATE':\n        return `Vytvořil ${log.resource_type}: ${log.resource_id}`;\n      case 'UPDATE':\n        return `Upravil ${log.resource_type}: ${log.resource_id}`;\n      case 'DELETE':\n        return `Smazal ${log.resource_type}: ${log.resource_id}`;\n      case 'TOKEN_CREATE':\n        return `Vytvořil token pro survey: ${log.resource_id}`;\n      case 'TOKEN_PAUSE':\n        return `Pozastavil token: ${log.resource_id}`;\n      case 'TOKEN_RESUME':\n        return `Obnovil token: ${log.resource_id}`;\n      case 'TOKEN_DELETE':\n        return `Smazal token: ${log.resource_id}`;\n      case 'SURVEY_DELIVERY':\n        return `Survey doručen přes token: ${log.resource_id}`;\n      default:\n        return log.action;\n    }\n  };\n\n  if (loading) {\n    return <div style={{ padding: '20px' }}>Načítání audit logů...</div>;\n  }\n\n  return (\n    <div style={{ padding: '20px' }}>\n      <h2>Audit Logs</h2>\n      <p style={{ color: '#6c757d', marginBottom: '20px' }}>\n        Kompletní záznam všech aktivit v systému\n      </p>\n\n      {/* Filters */}\n      <div style={{ \n        backgroundColor: '#f8f9fa', \n        padding: '20px', \n        borderRadius: '8px', \n        marginBottom: '20px',\n        border: '1px solid #dee2e6'\n      }}>\n        <h4 style={{ marginBottom: '15px' }}>Filtry</h4>\n        <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '15px' }}>\n          <div>\n            <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>\n              Typ události\n            </label>\n            <select\n              value={filters.eventType}\n              onChange={(e) => handleFilterChange('eventType', e.target.value)}\n              style={{ width: '100%', padding: '8px', border: '1px solid #ced4da', borderRadius: '4px' }}\n            >\n              <option value=\"\">Všechny</option>\n              <option value=\"LOGIN\">Přihlášení</option>\n              <option value=\"LOGOUT\">Odhlášení</option>\n              <option value=\"CREATE\">Vytvoření</option>\n              <option value=\"UPDATE\">Úprava</option>\n              <option value=\"DELETE\">Smazání</option>\n              <option value=\"TOKEN_CREATE\">Vytvoření tokenu</option>\n              <option value=\"TOKEN_PAUSE\">Pozastavení tokenu</option>\n              <option value=\"TOKEN_RESUME\">Obnovení tokenu</option>\n              <option value=\"TOKEN_DELETE\">Smazání tokenu</option>\n              <option value=\"SURVEY_DELIVERY\">Doručení survey</option>\n            </select>\n          </div>\n\n          <div>\n            <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>\n              Od data\n            </label>\n            <input\n              type=\"date\"\n              value={filters.dateFrom}\n              onChange={(e) => handleFilterChange('dateFrom', e.target.value)}\n              style={{ width: '100%', padding: '8px', border: '1px solid #ced4da', borderRadius: '4px' }}\n            />\n          </div>\n\n          <div>\n            <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>\n              Do data\n            </label>\n            <input\n              type=\"date\"\n              value={filters.dateTo}\n              onChange={(e) => handleFilterChange('dateTo', e.target.value)}\n              style={{ width: '100%', padding: '8px', border: '1px solid #ced4da', borderRadius: '4px' }}\n            />\n          </div>\n\n          <div>\n            <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>\n              ID uživatele\n            </label>\n            <input\n              type=\"text\"\n              value={filters.userId}\n              onChange={(e) => handleFilterChange('userId', e.target.value)}\n              placeholder=\"např. 1\"\n              style={{ width: '100%', padding: '8px', border: '1px solid #ced4da', borderRadius: '4px' }}\n            />\n          </div>\n        </div>\n\n        <div style={{ marginTop: '15px' }}>\n          <button \n            onClick={() => setFilters({ eventType: '', userId: '', dateFrom: '', dateTo: '', page: 1, limit: 50 })}\n            style={{ padding: '8px 16px', backgroundColor: '#6c757d', color: 'white', border: 'none', borderRadius: '4px' }}\n          >\n            Vymazat filtry\n          </button>\n        </div>\n      </div>\n\n      {/* Logs Table */}\n      <div style={{ overflowX: 'auto' }}>\n        <table style={{ width: '100%', borderCollapse: 'collapse', fontSize: '14px' }}>\n          <thead>\n            <tr style={{ backgroundColor: '#f8f9fa' }}>\n              <th style={{ padding: '12px', textAlign: 'left', border: '1px solid #dee2e6', minWidth: '150px' }}>Datum a čas</th>\n              <th style={{ padding: '12px', textAlign: 'left', border: '1px solid #dee2e6', minWidth: '80px' }}>Uživatel</th>\n              <th style={{ padding: '12px', textAlign: 'left', border: '1px solid #dee2e6', minWidth: '120px' }}>Typ události</th>\n              <th style={{ padding: '12px', textAlign: 'left', border: '1px solid #dee2e6', minWidth: '200px' }}>Popis</th>\n              <th style={{ padding: '12px', textAlign: 'left', border: '1px solid #dee2e6', minWidth: '120px' }}>IP adresa</th>\n              <th style={{ padding: '12px', textAlign: 'left', border: '1px solid #dee2e6', minWidth: '150px' }}>User Agent</th>\n            </tr>\n          </thead>\n          <tbody>\n            {logs.map(log => (\n              <tr key={log.id} style={{ borderBottom: '1px solid #dee2e6' }}>\n                <td style={{ padding: '12px', border: '1px solid #dee2e6' }}>\n                  {new Date(log.timestamp).toLocaleString('cs-CZ')}\n                </td>\n                <td style={{ padding: '12px', border: '1px solid #dee2e6' }}>\n                  {log.username || log.user_id || 'N/A'}\n                </td>\n                <td style={{ padding: '12px', border: '1px solid #dee2e6' }}>\n                  <span style={{ \n                    padding: '4px 8px', \n                    borderRadius: '4px',\n                    backgroundColor: getEventTypeColor(log.action),\n                    color: 'white',\n                    fontSize: '12px',\n                    fontWeight: 'bold'\n                  }}>\n                    {log.action}\n                  </span>\n                </td>\n                <td style={{ padding: '12px', border: '1px solid #dee2e6' }}>\n                  {formatEventDescription(log)}\n                  {log.details && (\n                    <div style={{ fontSize: '12px', color: '#6c757d', marginTop: '4px' }}>\n                      {typeof log.details === 'string' ? log.details : JSON.stringify(log.details)}\n                    </div>\n                  )}\n                </td>\n                <td style={{ padding: '12px', border: '1px solid #dee2e6', fontFamily: 'monospace' }}>\n                  {log.ip_address || 'N/A'}\n                </td>\n                <td style={{ padding: '12px', border: '1px solid #dee2e6', fontSize: '12px', color: '#6c757d' }}>\n                  {log.user_agent ? log.user_agent.substring(0, 50) + (log.user_agent.length > 50 ? '...' : '') : 'N/A'}\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n\n      {logs.length === 0 && (\n        <div style={{ textAlign: 'center', padding: '40px', color: '#6c757d' }}>\n          Žádné audit logy nebyly nalezeny\n        </div>\n      )}\n\n      {/* Pagination would go here if needed */}\n      <div style={{ marginTop: '20px', textAlign: 'center', color: '#6c757d' }}>\n        Zobrazeno {logs.length} záznamů\n      </div>\n    </div>\n  );\n};\n\nconst UserForm = ({ user, onSave, onCancel, onChange, title }) => {\n  const [formData, setFormData] = React.useState({\n    username: user?.username || '',\n    email: user?.email || '',\n    password: '',\n    confirmPassword: '',\n    role: user?.role || 'user'\n  });\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (!formData.username || !formData.email) {\n      alert('Uživatelské jméno a email jsou povinné');\n      return;\n    }\n    if (!user && !formData.password) {\n      alert('Heslo je povinné pro nového uživatele');\n      return;\n    }\n    if (formData.password && formData.password !== formData.confirmPassword) {\n      alert('Hesla se neshodují');\n      return;\n    }\n\n    const dataToSave = { ...formData };\n    if (user && !formData.password) {\n      delete dataToSave.password; // Don't update password if not provided\n    }\n    delete dataToSave.confirmPassword; // Remove confirmPassword from data to save\n\n    if (onChange) {\n      onChange({ ...user, ...dataToSave, newPassword: formData.password });\n    } else {\n      onSave(dataToSave);\n    }\n  };\n\n  const handleChange = (field, value) => {\n    const newData = { ...formData, [field]: value };\n    setFormData(newData);\n    if (onChange) {\n      onChange({ ...user, ...newData, newPassword: newData.password });\n    }\n  };\n\n  return (\n    <div style={{ \n      backgroundColor: '#f8f9fa', \n      padding: '20px', \n      borderRadius: '8px', \n      marginBottom: '20px',\n      border: '1px solid #dee2e6'\n    }}>\n      <h3>{title}</h3>\n      <form onSubmit={handleSubmit}>\n        <div style={{ marginBottom: '15px' }}>\n          <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>\n            Uživatelské jméno *\n          </label>\n          <input\n            type=\"text\"\n            value={formData.username}\n            onChange={(e) => handleChange('username', e.target.value)}\n            style={{ width: '100%', padding: '8px', border: '1px solid #ced4da', borderRadius: '4px' }}\n            required\n          />\n        </div>\n\n        <div style={{ marginBottom: '15px' }}>\n          <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>\n            Email *\n          </label>\n          <input\n            type=\"email\"\n            value={formData.email}\n            onChange={(e) => handleChange('email', e.target.value)}\n            style={{ width: '100%', padding: '8px', border: '1px solid #ced4da', borderRadius: '4px' }}\n            required\n          />\n        </div>\n\n        <div style={{ marginBottom: '15px' }}>\n          <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>\n            {user ? 'Nové heslo (ponechte prázdné pro nezměnu)' : 'Heslo *'}\n          </label>\n          <input\n            type=\"password\"\n            value={formData.password}\n            onChange={(e) => handleChange('password', e.target.value)}\n            style={{ width: '100%', padding: '8px', border: '1px solid #ced4da', borderRadius: '4px' }}\n            required={!user}\n          />\n        </div>\n\n        <div style={{ marginBottom: '15px' }}>\n          <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>\n            {user ? 'Potvrzení nového hesla' : 'Potvrzení hesla *'}\n          </label>\n          <input\n            type=\"password\"\n            value={formData.confirmPassword}\n            onChange={(e) => handleChange('confirmPassword', e.target.value)}\n            style={{ width: '100%', padding: '8px', border: '1px solid #ced4da', borderRadius: '4px' }}\n            required={!user}\n          />\n        </div>\n\n        <div style={{ marginBottom: '15px' }}>\n          <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>\n            Role\n          </label>\n          <select\n            value={formData.role}\n            onChange={(e) => handleChange('role', e.target.value)}\n            style={{ width: '100%', padding: '8px', border: '1px solid #ced4da', borderRadius: '4px' }}\n          >\n            <option value=\"user\">User</option>\n            <option value=\"admin\">Admin</option>\n          </select>\n        </div>\n\n        <div style={{ display: 'flex', gap: '10px' }}>\n          <button \n            type=\"submit\"\n            style={{ padding: '8px 16px', backgroundColor: '#007bff', color: 'white', border: 'none', borderRadius: '4px' }}\n          >\n            {user ? 'Uložit změny' : 'Vytvořit uživatele'}\n          </button>\n          <button \n            type=\"button\"\n            onClick={onCancel}\n            style={{ padding: '8px 16px', backgroundColor: '#6c757d', color: 'white', border: 'none', borderRadius: '4px' }}\n          >\n            Zrušit\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nconst Settings = () => {\n  const { user, updateProfile } = useAuth();\n  const [formData, setFormData] = React.useState({\n    username: user?.username || '',\n    email: user?.email || '',\n    currentPassword: '',\n    newPassword: '',\n    confirmPassword: ''\n  });\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    if (formData.newPassword && formData.newPassword !== formData.confirmPassword) {\n      alert('Nové heslo a potvrzení hesla se neshodují');\n      return;\n    }\n\n    const updateData = {\n      username: formData.username,\n      email: formData.email\n    };\n\n    if (formData.newPassword) {\n      updateData.currentPassword = formData.currentPassword;\n      updateData.newPassword = formData.newPassword;\n    }\n\n    const result = await updateProfile(updateData);\n    if (result.success) {\n      alert('Profil byl úspěšně aktualizován');\n      setFormData(prev => ({ ...prev, currentPassword: '', newPassword: '', confirmPassword: '' }));\n    } else {\n      alert('Chyba při aktualizaci profilu: ' + result.error);\n    }\n  };\n\n  return (\n    <div style={{ padding: '20px', maxWidth: '600px' }}>\n      <h2>Nastavení profilu</h2>\n      <form onSubmit={handleSubmit}>\n        <div style={{ marginBottom: '20px' }}>\n          <h3>Základní informace</h3>\n          \n          <div style={{ marginBottom: '15px' }}>\n            <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>\n              Uživatelské jméno\n            </label>\n            <input\n              type=\"text\"\n              value={formData.username}\n              onChange={(e) => setFormData(prev => ({ ...prev, username: e.target.value }))}\n              style={{ width: '100%', padding: '8px', border: '1px solid #ced4da', borderRadius: '4px' }}\n              required\n            />\n          </div>\n\n          <div style={{ marginBottom: '15px' }}>\n            <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>\n              Email\n            </label>\n            <input\n              type=\"email\"\n              value={formData.email}\n              onChange={(e) => setFormData(prev => ({ ...prev, email: e.target.value }))}\n              style={{ width: '100%', padding: '8px', border: '1px solid #ced4da', borderRadius: '4px' }}\n              required\n            />\n          </div>\n        </div>\n\n        <div style={{ marginBottom: '20px' }}>\n          <h3>Změna hesla</h3>\n          <p style={{ color: '#6c757d', fontSize: '14px', marginBottom: '15px' }}>\n            Ponechte prázdné, pokud nechcete změnit heslo\n          </p>\n\n          <div style={{ marginBottom: '15px' }}>\n            <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>\n              Současné heslo\n            </label>\n            <input\n              type=\"password\"\n              value={formData.currentPassword}\n              onChange={(e) => setFormData(prev => ({ ...prev, currentPassword: e.target.value }))}\n              style={{ width: '100%', padding: '8px', border: '1px solid #ced4da', borderRadius: '4px' }}\n            />\n          </div>\n\n          <div style={{ marginBottom: '15px' }}>\n            <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>\n              Nové heslo\n            </label>\n            <input\n              type=\"password\"\n              value={formData.newPassword}\n              onChange={(e) => setFormData(prev => ({ ...prev, newPassword: e.target.value }))}\n              style={{ width: '100%', padding: '8px', border: '1px solid #ced4da', borderRadius: '4px' }}\n            />\n          </div>\n\n          <div style={{ marginBottom: '15px' }}>\n            <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>\n              Potvrzení nového hesla\n            </label>\n            <input\n              type=\"password\"\n              value={formData.confirmPassword}\n              onChange={(e) => setFormData(prev => ({ ...prev, confirmPassword: e.target.value }))}\n              style={{ width: '100%', padding: '8px', border: '1px solid #ced4da', borderRadius: '4px' }}\n            />\n          </div>\n        </div>\n\n        <button \n          type=\"submit\"\n          style={{ padding: '10px 20px', backgroundColor: '#007bff', color: 'white', border: 'none', borderRadius: '4px' }}\n        >\n          Uložit změny\n        </button>\n      </form>\n    </div>\n  );\n};\n\n// Layout component with navigation\nconst Layout = ({ children }) => {\n  return (\n    <div>\n      <Navigation />\n      {children}\n      \n    </div>\n  );\n};\n\n// Protected Route component\nconst ProtectedRoute = ({ children }) => {\n  const { isAuthenticated, isLoading } = useAuth();\n\n  if (isLoading) {\n    return <div style={{ padding: '20px' }}>Načítání...</div>;\n  }\n\n  if (!isAuthenticated) {\n    return <Navigate to=\"/login\" replace />;\n  }\n\n  return (\n    <Layout>\n      {children}\n    </Layout>\n  );\n};\n\n// Admin-only Route component\nconst AdminRoute = ({ children }) => {\n  const { user } = useAuth();\n\n  if (user?.role !== 'admin') {\n    return (\n      <div style={{ padding: '20px' }}>\n        <h3>Přístup odepřen</h3>\n        <p>Tato stránka je dostupná pouze administrátorům.</p>\n      </div>\n    );\n  }\n\n  return children;\n};\n\n// Statistics Component\nconst Statistics = () => {\n  const { user } = useAuth();\n  const location = useLocation();\n  const surveyId = location.pathname.split('/')[2]; // Get surveyId from URL\n  const [statisticsData, setStatisticsData] = React.useState(null);\n  const [loading, setLoading] = React.useState(true);\n  const [error, setError] = React.useState(null);\n\n  React.useEffect(() => {\n    if (surveyId) {\n      fetchStatistics();\n    }\n  }, [surveyId]);\n\n  const fetchStatistics = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const response = await fetch(`/api/responses/statistics/${surveyId}`, {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      \n      if (response.ok) {\n        const data = await response.json();\n        setStatisticsData(data);\n      } else {\n        throw new Error('Chyba při načítání statistik');\n      }\n    } catch (error) {\n      console.error('Error fetching statistics:', error);\n      setError(error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const renderEmojiStatistics = (statistics) => {\n    const emojiLabels = ['Very Happy', 'Happy', 'Neutral', 'Sad', 'Very Sad'];\n    const emojiIcons = ['😄', '😊', '😐', '😞', '😠'];\n    \n    return (\n      <div style={{ marginBottom: '30px' }}>\n        <h4 style={{ marginBottom: '15px' }}>Emoji hodnocení</h4>\n        <div style={{ display: 'flex', justifyContent: 'space-around', marginBottom: '20px' }}>\n          {emojiLabels.map((label, index) => {\n            const count = statistics.distribution[label] || 0;\n            const percentage = statistics.totalResponses > 0 ? ((count / statistics.totalResponses) * 100).toFixed(1) : 0;\n            \n            return (\n              <div key={label} style={{ textAlign: 'center', minWidth: '80px' }}>\n                <div style={{ fontSize: '24px', marginBottom: '8px' }}>{emojiIcons[index]}</div>\n                <div style={{ fontWeight: 'bold', fontSize: '18px' }}>{count}</div>\n                <div style={{ fontSize: '14px', color: '#666' }}>{percentage}%</div>\n                <div style={{ fontSize: '12px', color: '#999' }}>{label}</div>\n              </div>\n            );\n          })}\n        </div>\n        \n        {/* Simple bar chart */}\n        <div style={{ marginTop: '20px' }}>\n          {emojiLabels.map((label, index) => {\n            const count = statistics.distribution[label] || 0;\n            const percentage = statistics.totalResponses > 0 ? (count / statistics.totalResponses) * 100 : 0;\n            const colors = ['#4CAF50', '#8BC34A', '#FFC107', '#FF9800', '#F44336'];\n            \n            return (\n              <div key={label} style={{ marginBottom: '8px' }}>\n                <div style={{ \n                  display: 'flex', \n                  alignItems: 'center', \n                  fontSize: '14px',\n                  marginBottom: '4px'\n                }}>\n                  <span style={{ minWidth: '100px' }}>{emojiIcons[index]} {label}</span>\n                  <span style={{ marginLeft: '10px', fontWeight: 'bold' }}>{count} ({percentage.toFixed(1)}%)</span>\n                </div>\n                <div style={{ \n                  height: '8px', \n                  backgroundColor: '#f0f0f0', \n                  borderRadius: '4px',\n                  overflow: 'hidden'\n                }}>\n                  <div style={{\n                    height: '100%',\n                    width: `${percentage}%`,\n                    backgroundColor: colors[index],\n                    transition: 'width 0.3s ease'\n                  }}></div>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    );\n  };\n\n  const renderTextStatistics = (statistics) => {\n    return (\n      <div style={{ marginBottom: '30px' }}>\n        <h4 style={{ marginBottom: '15px' }}>Textové odpovědi</h4>\n        <div style={{ \n          maxHeight: '300px', \n          overflowY: 'auto',\n          border: '1px solid #ddd',\n          borderRadius: '4px',\n          padding: '15px'\n        }}>\n          {statistics.textResponses && statistics.textResponses.length > 0 ? (\n            statistics.textResponses.map((response, index) => (\n              <div key={index} style={{ \n                padding: '10px',\n                borderBottom: index < statistics.textResponses.length - 1 ? '1px solid #eee' : 'none',\n                fontSize: '14px'\n              }}>\n                \"{response}\"\n              </div>\n            ))\n          ) : (\n            <div style={{ color: '#999', fontStyle: 'italic' }}>Žádné textové odpovědi</div>\n          )}\n        </div>\n      </div>\n    );\n  };\n\n  if (loading) {\n    return (\n      <div style={{ padding: '40px', textAlign: 'center' }}>\n        <div style={{ fontSize: '18px' }}>Načítání statistik...</div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div style={{ padding: '40px', textAlign: 'center' }}>\n        <div style={{ color: 'red', fontSize: '18px', marginBottom: '20px' }}>\n          Chyba: {error}\n        </div>\n        <button \n          onClick={fetchStatistics}\n          style={{ \n            padding: '10px 20px', \n            backgroundColor: '#007bff', \n            color: 'white', \n            border: 'none', \n            borderRadius: '4px' \n          }}\n        >\n          Zkusit znovu\n        </button>\n      </div>\n    );\n  }\n\n  if (!statisticsData) {\n    return (\n      <div style={{ padding: '40px', textAlign: 'center' }}>\n        <div style={{ fontSize: '18px', color: '#666' }}>Statistiky nenalezeny</div>\n      </div>\n    );\n  }\n\n  return (\n    <div style={{ padding: '20px', maxWidth: '1200px', margin: '0 auto' }}>\n      {/* Header */}\n      <div style={{ marginBottom: '30px' }}>\n        <h1 style={{ marginBottom: '10px' }}>📊 Statistiky dotazníku</h1>\n        <h2 style={{ color: '#666', fontWeight: 'normal', marginBottom: '10px' }}>\n          {statisticsData.survey.title}\n        </h2>\n        <div style={{ \n          backgroundColor: '#e3f2fd', \n          padding: '15px', \n          borderRadius: '8px',\n          border: '1px solid #2196f3'\n        }}>\n          <div style={{ fontSize: '18px', fontWeight: 'bold', color: '#1976d2' }}>\n            Celkem odpovědí: {statisticsData.responseCount}\n          </div>\n          {statisticsData.survey.description && (\n            <div style={{ marginTop: '8px', color: '#666' }}>\n              {statisticsData.survey.description}\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Statistics by Question */}\n      <div style={{ marginBottom: '40px' }}>\n        <h2 style={{ marginBottom: '20px' }}>Statistiky podle otázek</h2>\n        \n        {Object.keys(statisticsData.statistics).length === 0 ? (\n          <div style={{ \n            textAlign: 'center', \n            padding: '40px', \n            backgroundColor: '#f8f9fa',\n            borderRadius: '8px',\n            color: '#666'\n          }}>\n            <div style={{ fontSize: '18px', marginBottom: '10px' }}>📊</div>\n            <div>Zatím žádné odpovědi k analýze</div>\n          </div>\n        ) : (\n          Object.entries(statisticsData.statistics).map(([stepId, statistics]) => (\n            <div key={stepId} style={{ \n              backgroundColor: 'white',\n              border: '1px solid #ddd',\n              borderRadius: '8px',\n              padding: '20px',\n              marginBottom: '20px',\n              boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\n            }}>\n              <h3 style={{ \n                marginBottom: '15px', \n                color: '#333',\n                borderBottom: '2px solid #f0f0f0',\n                paddingBottom: '10px'\n              }}>\n                Otázka {stepId} ({statistics.type})\n              </h3>\n              \n              {statistics.type === 'emoji-rating' && renderEmojiStatistics(statistics)}\n              {statistics.type === 'text' && renderTextStatistics(statistics)}\n            </div>\n          ))\n        )}\n      </div>\n\n      {/* Individual Responses Table */}\n      <div style={{ marginBottom: '40px' }}>\n        <h2 style={{ marginBottom: '20px' }}>Jednotlivé odpovědi</h2>\n        \n        {statisticsData.individualResponses.length === 0 ? (\n          <div style={{ \n            textAlign: 'center', \n            padding: '40px', \n            backgroundColor: '#f8f9fa',\n            borderRadius: '8px',\n            color: '#666'\n          }}>\n            Zatím žádné odpovědi\n          </div>\n        ) : (\n          <div style={{ overflowX: 'auto' }}>\n            <table style={{ width: '100%', borderCollapse: 'collapse', fontSize: '14px' }}>\n              <thead>\n                <tr style={{ backgroundColor: '#f8f9fa' }}>\n                  <th style={{ padding: '12px', textAlign: 'left', border: '1px solid #dee2e6' }}>\n                    Čas odeslání\n                  </th>\n                  <th style={{ padding: '12px', textAlign: 'left', border: '1px solid #dee2e6' }}>\n                    IP adresa\n                  </th>\n                  {/* Dynamic columns for each question */}\n                  {Object.keys(statisticsData.statistics).map(stepId => (\n                    <th key={stepId} style={{ padding: '12px', textAlign: 'left', border: '1px solid #dee2e6' }}>\n                      Otázka {stepId}\n                    </th>\n                  ))}\n                </tr>\n              </thead>\n              <tbody>\n                {statisticsData.individualResponses.map(response => (\n                  <tr key={response.id} style={{ borderBottom: '1px solid #dee2e6' }}>\n                    <td style={{ padding: '12px', border: '1px solid #dee2e6' }}>\n                      {new Date(response.submittedAt).toLocaleString('cs-CZ')}\n                    </td>\n                    <td style={{ padding: '12px', border: '1px solid #dee2e6', fontFamily: 'monospace' }}>\n                      {response.ipAddress || 'N/A'}\n                    </td>\n                    {/* Dynamic cells for each question */}\n                    {Object.keys(statisticsData.statistics).map(stepId => (\n                      <td key={stepId} style={{ padding: '12px', border: '1px solid #dee2e6' }}>\n                        {response.answers[stepId] ? (\n                          <span title={`Typ: ${response.answers[stepId].type}`}>\n                            {response.answers[stepId].value || 'Bez odpovědi'}\n                          </span>\n                        ) : (\n                          <span style={{ color: '#999', fontStyle: 'italic' }}>Bez odpovědi</span>\n                        )}\n                      </td>\n                    ))}\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        )}\n      </div>\n\n      {/* Action Buttons */}\n      <div style={{ textAlign: 'center', marginTop: '40px' }}>\n        <button \n          onClick={() => window.close()}\n          style={{ \n            padding: '12px 24px', \n            backgroundColor: '#6c757d', \n            color: 'white', \n            border: 'none', \n            borderRadius: '4px',\n            fontSize: '16px',\n            marginRight: '10px'\n          }}\n        >\n          Zavřít\n        </button>\n        <button \n          onClick={fetchStatistics}\n          style={{ \n            padding: '12px 24px', \n            backgroundColor: '#28a745', \n            color: 'white', \n            border: 'none', \n            borderRadius: '4px',\n            fontSize: '16px'\n          }}\n        >\n          🔄 Aktualizovat\n        </button>\n      </div>\n    </div>\n  );\n};\n\n// Floating Feedback Widget - System Component (Uneditable)\n// FloatingFeedbackWidget removed - floating icon now only shows in preview (Krok 0a)\n\nfunction App() {\n  return (\n    <AuthProvider>\n      <GlobalStyles />\n      <Router>\n        <div className=\"App\">\n          <Routes>\n            <Route path=\"/login\" element={<Login />} />\n            <Route path=\"/confirm-email\" element={<EmailConfirmation />} />\n            \n            {/* Protected Routes */}\n            <Route\n              path=\"/dashboard\"\n              element={\n                <ProtectedRoute>\n                  <Dashboard />\n                </ProtectedRoute>\n              }\n            />\n            <Route\n              path=\"/survey-creator\"\n              element={\n                <ProtectedRoute>\n                  <SurveyCreator />\n                </ProtectedRoute>\n              }\n            />\n            <Route\n              path=\"/survey-creator/edit/:surveyId\"\n              element={\n                <ProtectedRoute>\n                  <SurveyCreatorWithParams />\n                </ProtectedRoute>\n              }\n            />\n            <Route\n              path=\"/surveys\"\n              element={\n                <ProtectedRoute>\n                  <SurveyList />\n                </ProtectedRoute>\n              }\n            />\n            <Route\n              path=\"/global-surveys\"\n              element={\n                <ProtectedRoute>\n                  <AdminRoute>\n                    <GlobalSurveysCreator />\n                  </AdminRoute>\n                </ProtectedRoute>\n              }\n            />\n            <Route\n              path=\"/tokens\"\n              element={\n                <ProtectedRoute>\n                  <TokenList />\n                </ProtectedRoute>\n              }\n            />\n            <Route\n              path=\"/settings\"\n              element={\n                <ProtectedRoute>\n                  <Settings />\n                </ProtectedRoute>\n              }\n            />\n            \n            {/* Admin-only Routes */}\n            <Route\n              path=\"/users\"\n              element={\n                <ProtectedRoute>\n                  <AdminRoute>\n                    <UserList />\n                  </AdminRoute>\n                </ProtectedRoute>\n              }\n            />\n            <Route\n              path=\"/logs\"\n              element={\n                <ProtectedRoute>\n                  <AdminRoute>\n                    <AuditLogs />\n                  </AdminRoute>\n                </ProtectedRoute>\n              }\n            />\n            <Route\n              path=\"/statistics/:surveyId\"\n              element={\n                <ProtectedRoute>\n                  <Statistics />\n                </ProtectedRoute>\n              }\n            />\n            \n            <Route path=\"/\" element={<Navigate to=\"/dashboard\" replace />} />\n            <Route path=\"*\" element={<Navigate to=\"/dashboard\" replace />} />\n          </Routes>\n        </div>\n      </Router>\n    </AuthProvider>\n  );\n}\n\nexport default App; "],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,aAAa,IAAIC,MAAM,EAAEC,MAAM,EAAEC,KAAK,EAAEC,QAAQ,EAAEC,WAAW,EAAEC,SAAS,EAAEC,WAAW,QAAQ,kBAAkB;AACxH,SAASC,YAAY,EAAEC,OAAO,QAAQ,wBAAwB;AAC9D,OAAOC,YAAY,MAAM,uBAAuB;;AAEhD;AAAA,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AACA,MAAMC,iBAAiB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC9B,MAAM;IAAEC,mBAAmB;IAAEC,YAAY;IAAEC,kBAAkB;IAAEC,kBAAkB;IAAEC;EAAU,CAAC,GAAGZ,OAAO,CAAC,CAAC;EAC1G,MAAMa,QAAQ,GAAGjB,WAAW,CAAC,CAAC;EAC9B,MAAM,CAACkB,gBAAgB,EAAEC,mBAAmB,CAAC,GAAG1B,KAAK,CAACC,QAAQ,CAAC,EAAE,CAAC;EAClE,MAAM,CAAC0B,OAAO,EAAEC,UAAU,CAAC,GAAG5B,KAAK,CAACC,QAAQ,CAAC,EAAE,CAAC;EAEhDD,KAAK,CAAC6B,SAAS,CAAC,MAAM;IACpB,IAAI,CAACV,mBAAmB,EAAE;MACxBK,QAAQ,CAAC,QAAQ,CAAC;IACpB;EACF,CAAC,EAAE,CAACL,mBAAmB,EAAEK,QAAQ,CAAC,CAAC;EAEnC,MAAMM,YAAY,GAAG,MAAOC,CAAC,IAAK;IAChCA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClBJ,UAAU,CAAC,EAAE,CAAC;IAEd,IAAI;MACF,MAAMK,MAAM,GAAG,MAAMb,YAAY,CAACK,gBAAgB,CAAC;MACnD,IAAIQ,MAAM,CAACC,OAAO,EAAE;QAClBV,QAAQ,CAAC,YAAY,CAAC;MACxB,CAAC,MAAM;QACLI,UAAU,CAAC,SAAS,GAAGK,MAAM,CAACE,KAAK,CAAC;MACtC;IACF,CAAC,CAAC,OAAOA,KAAK,EAAE;MACdP,UAAU,CAAC,SAAS,GAAGO,KAAK,CAACR,OAAO,CAAC;IACvC;EACF,CAAC;EAED,MAAMS,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/BR,UAAU,CAAC,EAAE,CAAC;IACd,IAAI;MACF,MAAMK,MAAM,GAAG,MAAMZ,kBAAkB,CAAC,CAAC;MACzC,IAAIY,MAAM,CAACC,OAAO,EAAE;QAClBN,UAAU,CAAC,sCAAsC,CAAC;MACpD,CAAC,MAAM;QACLA,UAAU,CAAC,SAAS,GAAGK,MAAM,CAACE,KAAK,CAAC;MACtC;IACF,CAAC,CAAC,OAAOA,KAAK,EAAE;MACdP,UAAU,CAAC,SAAS,GAAGO,KAAK,CAACR,OAAO,CAAC;IACvC;EACF,CAAC;EAED,MAAMU,YAAY,GAAGA,CAAA,KAAM;IACzBf,kBAAkB,CAAC,CAAC;IACpBE,QAAQ,CAAC,QAAQ,CAAC;EACpB,CAAC;EAED,IAAI,CAACL,mBAAmB,EAAE;IACxB,OAAO,IAAI;EACb;EAEA,oBACEL,OAAA;IAAKwB,KAAK,EAAE;MAAEC,OAAO,EAAE,MAAM;MAAEC,QAAQ,EAAE,OAAO;MAAEC,MAAM,EAAE;IAAa,CAAE;IAAAC,QAAA,gBACvE5B,OAAA;MAAA4B,QAAA,EAAI;IAAmB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAC5BhC,OAAA;MAAA4B,QAAA,GAAG,uBACY,eAAA5B,OAAA;QAAA4B,QAAA,EAASvB,mBAAmB,CAAC4B;MAAK;QAAAJ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAS,CAAC,yHAE3D;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC,eAEJhC,OAAA;MAAKwB,KAAK,EAAE;QACVU,eAAe,EAAE,SAAS;QAC1BC,MAAM,EAAE,mBAAmB;QAC3BC,YAAY,EAAE,KAAK;QACnBX,OAAO,EAAE,MAAM;QACfY,YAAY,EAAE,MAAM;QACpBC,QAAQ,EAAE,MAAM;QAChBC,KAAK,EAAE;MACT,CAAE;MAAAX,QAAA,gBACA5B,OAAA;QAAA4B,QAAA,EAAQ;MAAO;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,iEAAkD,eAAAhC,OAAA;QAAA4B,QAAA,EAAQ;MAAqB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,iFAElH;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,EAELnB,OAAO,iBACNb,OAAA;MAAKwB,KAAK,EAAE;QACVC,OAAO,EAAE,MAAM;QACfY,YAAY,EAAE,MAAM;QACpBH,eAAe,EAAErB,OAAO,CAAC2B,UAAU,CAAC,OAAO,CAAC,GAAG,SAAS,GAAG,SAAS;QACpED,KAAK,EAAE1B,OAAO,CAAC2B,UAAU,CAAC,OAAO,CAAC,GAAG,SAAS,GAAG,SAAS;QAC1DL,MAAM,EAAE,YAAY,IAAItB,OAAO,CAAC2B,UAAU,CAAC,OAAO,CAAC,GAAG,SAAS,GAAG,SAAS,CAAC;QAC5EJ,YAAY,EAAE;MAChB,CAAE;MAAAR,QAAA,EACCf;IAAO;MAAAgB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CACN,eAEDhC,OAAA;MAAMyC,QAAQ,EAAEzB,YAAa;MAAAY,QAAA,gBAC3B5B,OAAA;QAAKwB,KAAK,EAAE;UAAEa,YAAY,EAAE;QAAO,CAAE;QAAAT,QAAA,gBACnC5B,OAAA;UAAA4B,QAAA,EAAO;QAAgB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eAC/BhC,OAAA;UACE0C,IAAI,EAAC,MAAM;UACXC,KAAK,EAAEhC,gBAAiB;UACxBiC,QAAQ,EAAG3B,CAAC,IAAKL,mBAAmB,CAACK,CAAC,CAAC4B,MAAM,CAACF,KAAK,CAACG,WAAW,CAAC,CAAC,CAAE;UACnEC,QAAQ;UACRvB,KAAK,EAAE;YACLwB,KAAK,EAAE,MAAM;YACbvB,OAAO,EAAE,KAAK;YACdwB,SAAS,EAAE,QAAQ;YACnBX,QAAQ,EAAE,MAAM;YAChBY,aAAa,EAAE;UACjB,CAAE;UACFC,WAAW,EAAC,mBAAc;UAC1BC,SAAS,EAAE;QAAE;UAAAvB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACd,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eACNhC,OAAA;QACE0C,IAAI,EAAC,QAAQ;QACbW,QAAQ,EAAE5C,SAAS,IAAIE,gBAAgB,CAAC2C,MAAM,KAAK,CAAE;QACrD9B,KAAK,EAAE;UACLC,OAAO,EAAE,WAAW;UACpBS,eAAe,EAAE,SAAS;UAC1BK,KAAK,EAAE,OAAO;UACdJ,MAAM,EAAE,MAAM;UACda,KAAK,EAAE,MAAM;UACbX,YAAY,EAAE,MAAM;UACpBkB,OAAO,EAAG9C,SAAS,IAAIE,gBAAgB,CAAC2C,MAAM,KAAK,CAAC,GAAI,GAAG,GAAG;QAChE,CAAE;QAAA1B,QAAA,EAEDnB,SAAS,GAAG,YAAY,GAAG;MAAU;QAAAoB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAChC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC,eAEPhC,OAAA;MAAKwB,KAAK,EAAE;QAAEyB,SAAS,EAAE,QAAQ;QAAEO,SAAS,EAAE;MAAO,CAAE;MAAA5B,QAAA,gBACrD5B,OAAA;QACEyD,OAAO,EAAEnC,YAAa;QACtBE,KAAK,EAAE;UACLkC,UAAU,EAAE,MAAM;UAClBvB,MAAM,EAAE,MAAM;UACdI,KAAK,EAAE,SAAS;UAChBoB,MAAM,EAAE,SAAS;UACjBC,cAAc,EAAE,WAAW;UAC3BC,WAAW,EAAE;QACf,CAAE;QAAAjC,QAAA,EACH;MAED;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eACThC,OAAA;QACEyD,OAAO,EAAElC,YAAa;QACtBC,KAAK,EAAE;UACLkC,UAAU,EAAE,MAAM;UAClBvB,MAAM,EAAE,MAAM;UACdI,KAAK,EAAE,SAAS;UAChBoB,MAAM,EAAE,SAAS;UACjBC,cAAc,EAAE;QAClB,CAAE;QAAAhC,QAAA,EACH;MAED;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,eAENhC,OAAA;MAAKwB,KAAK,EAAE;QAAEgC,SAAS,EAAE,MAAM;QAAElB,QAAQ,EAAE,MAAM;QAAEC,KAAK,EAAE;MAAU,CAAE;MAAAX,QAAA,eACpE5B,OAAA;QAAA4B,QAAA,EAAG;MAA6E;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACjF,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;;AAED;AAAA5B,EAAA,CA5JMD,iBAAiB;EAAA,QAC4EN,OAAO,EACvFJ,WAAW;AAAA;AAAAqE,EAAA,GAFxB3D,iBAAiB;AA6JvB,MAAM4D,KAAK,GAAGA,CAAA,KAAM;EAAAC,GAAA;EAClB,MAAM;IAAEC,KAAK;IAAEC,eAAe;IAAE7D;EAAoB,CAAC,GAAGR,OAAO,CAAC,CAAC;EACjE,MAAMa,QAAQ,GAAGjB,WAAW,CAAC,CAAC;;EAE9B;EACAP,KAAK,CAAC6B,SAAS,CAAC,MAAM;IACpB,IAAImD,eAAe,EAAE;MACnBxD,QAAQ,CAAC,YAAY,CAAC;IACxB,CAAC,MAAM,IAAIL,mBAAmB,EAAE;MAC9BK,QAAQ,CAAC,gBAAgB,CAAC;IAC5B;EACF,CAAC,EAAE,CAACwD,eAAe,EAAE7D,mBAAmB,EAAEK,QAAQ,CAAC,CAAC;EAEpD,MAAMM,YAAY,GAAG,MAAOC,CAAC,IAAK;IAChCA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB,MAAMiD,QAAQ,GAAG,IAAIC,QAAQ,CAACnD,CAAC,CAAC4B,MAAM,CAAC;IACvC,IAAI;MACF,MAAM1B,MAAM,GAAG,MAAM8C,KAAK,CAAC;QACzBI,QAAQ,EAAEF,QAAQ,CAACG,GAAG,CAAC,UAAU,CAAC;QAClCC,QAAQ,EAAEJ,QAAQ,CAACG,GAAG,CAAC,UAAU;MACnC,CAAC,CAAC;MACF,IAAInD,MAAM,CAACC,OAAO,EAAE;QAClB,IAAID,MAAM,CAACqD,oBAAoB,EAAE;UAC/B9D,QAAQ,CAAC,gBAAgB,CAAC;QAC5B,CAAC,MAAM;UACLA,QAAQ,CAAC,YAAY,CAAC;QACxB;MACF,CAAC,MAAM;QACL+D,KAAK,CAAC,2BAA2B,GAAGtD,MAAM,CAACE,KAAK,CAAC;MACnD;IACF,CAAC,CAAC,OAAOA,KAAK,EAAE;MACdoD,KAAK,CAAC,2BAA2B,GAAGpD,KAAK,CAACR,OAAO,CAAC;IACpD;EACF,CAAC;EAED,oBACEb,OAAA;IAAKwB,KAAK,EAAE;MAAEC,OAAO,EAAE,MAAM;MAAEC,QAAQ,EAAE,OAAO;MAAEC,MAAM,EAAE;IAAa,CAAE;IAAAC,QAAA,gBACvE5B,OAAA;MAAA4B,QAAA,EAAI;IAAyB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAClChC,OAAA;MAAMyC,QAAQ,EAAEzB,YAAa;MAAAY,QAAA,gBAC3B5B,OAAA;QAAKwB,KAAK,EAAE;UAAEa,YAAY,EAAE;QAAO,CAAE;QAAAT,QAAA,gBACnC5B,OAAA;UAAA4B,QAAA,EAAO;QAAkB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACjChC,OAAA;UAAO0C,IAAI,EAAC,MAAM;UAACgC,IAAI,EAAC,UAAU;UAAC3B,QAAQ;UAACvB,KAAK,EAAE;YAAEwB,KAAK,EAAE,MAAM;YAAEvB,OAAO,EAAE;UAAM;QAAE;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACrF,CAAC,eACNhC,OAAA;QAAKwB,KAAK,EAAE;UAAEa,YAAY,EAAE;QAAO,CAAE;QAAAT,QAAA,gBACnC5B,OAAA;UAAA4B,QAAA,EAAO;QAAM;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACrBhC,OAAA;UAAO0C,IAAI,EAAC,UAAU;UAACgC,IAAI,EAAC,UAAU;UAAC3B,QAAQ;UAACvB,KAAK,EAAE;YAAEwB,KAAK,EAAE,MAAM;YAAEvB,OAAO,EAAE;UAAM;QAAE;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACzF,CAAC,eACNhC,OAAA;QAAQ0C,IAAI,EAAC,QAAQ;QAAClB,KAAK,EAAE;UAAEC,OAAO,EAAE,WAAW;UAAES,eAAe,EAAE,SAAS;UAAEK,KAAK,EAAE,OAAO;UAAEJ,MAAM,EAAE;QAAO,CAAE;QAAAP,QAAA,EAAC;MAEnH;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACJ,CAAC;AAEV,CAAC;;AAED;AAAAgC,GAAA,CAvDMD,KAAK;EAAA,QAC+ClE,OAAO,EAC9CJ,WAAW;AAAA;AAAAkF,GAAA,GAFxBZ,KAAK;AAwDX,MAAMa,UAAU,GAAGA,CAAA,KAAM;EAAAC,GAAA;EACvB,MAAM;IAAEC,IAAI;IAAEC;EAAO,CAAC,GAAGlF,OAAO,CAAC,CAAC;EAClC,MAAMa,QAAQ,GAAGjB,WAAW,CAAC,CAAC;EAE9B,MAAMuF,SAAS,GAAG,CAChB;IAAEC,IAAI,EAAE,YAAY;IAAEC,KAAK,EAAE,WAAW;IAAEC,SAAS,EAAE;EAAM,CAAC,EAC5D;IAAEF,IAAI,EAAE,iBAAiB;IAAEC,KAAK,EAAE,gBAAgB;IAAEC,SAAS,EAAE;EAAM,CAAC,EACtE;IAAEF,IAAI,EAAE,UAAU;IAAEC,KAAK,EAAE,aAAa;IAAEC,SAAS,EAAE;EAAM,CAAC,EAC5D;IAAEF,IAAI,EAAE,iBAAiB;IAAEC,KAAK,EAAE,gBAAgB;IAAEC,SAAS,EAAE;EAAQ,CAAC,EACxE;IAAEF,IAAI,EAAE,SAAS;IAAEC,KAAK,EAAE,qBAAqB;IAAEC,SAAS,EAAE;EAAM,CAAC,EACnE;IAAEF,IAAI,EAAE,QAAQ;IAAEC,KAAK,EAAE,OAAO;IAAEC,SAAS,EAAE;EAAQ,CAAC,EACtD;IAAEF,IAAI,EAAE,OAAO;IAAEC,KAAK,EAAE,MAAM;IAAEC,SAAS,EAAE;EAAQ,CAAC,EACpD;IAAEF,IAAI,EAAE,WAAW;IAAEC,KAAK,EAAE,UAAU;IAAEC,SAAS,EAAE;EAAM,CAAC,CAC3D;EAED,MAAMC,aAAa,GAAGJ,SAAS,CAACK,MAAM,CAACC,IAAI,IACzCA,IAAI,CAACH,SAAS,KAAK,KAAK,IAAKG,IAAI,CAACH,SAAS,KAAK,OAAO,IAAI,CAAAL,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAES,IAAI,MAAK,OAC5E,CAAC;EAED,oBACEvF,OAAA;IAAKwB,KAAK,EAAE;MACVU,eAAe,EAAE,SAAS;MAC1BT,OAAO,EAAE,WAAW;MACpB+D,YAAY,EAAE,mBAAmB;MACjCC,OAAO,EAAE,MAAM;MACfC,cAAc,EAAE,eAAe;MAC/BC,UAAU,EAAE;IACd,CAAE;IAAA/D,QAAA,gBACA5B,OAAA;MAAKwB,KAAK,EAAE;QAAEiE,OAAO,EAAE,MAAM;QAAEG,GAAG,EAAE,MAAM;QAAED,UAAU,EAAE;MAAS,CAAE;MAAA/D,QAAA,gBACjE5B,OAAA;QAAIwB,KAAK,EAAE;UACTG,MAAM,EAAE,CAAC;UACTY,KAAK,EAAE,SAAS;UAChBsD,UAAU,EAAE,oBAAoB;UAChCC,UAAU,EAAE,GAAG;UACfxD,QAAQ,EAAE,MAAM;UAChByD,UAAU,EAAE,MAAM;UAClB7C,aAAa,EAAE;QACjB,CAAE;QAAAtB,QAAA,EAAC;MAAY;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACpBhC,OAAA;QAAKwB,KAAK,EAAE;UAAEiE,OAAO,EAAE,MAAM;UAAEG,GAAG,EAAE;QAAO,CAAE;QAAAhE,QAAA,EAC1CwD,aAAa,CAACY,GAAG,CAACV,IAAI,iBACrBtF,OAAA;UAEEyD,OAAO,EAAEA,CAAA,KAAM/C,QAAQ,CAAC4E,IAAI,CAACL,IAAI,CAAE;UACnCzD,KAAK,EAAE;YACLkC,UAAU,EAAE,MAAM;YAClBvB,MAAM,EAAE,MAAM;YACdI,KAAK,EAAE,SAAS;YAChBoB,MAAM,EAAE,SAAS;YACjBlC,OAAO,EAAE,UAAU;YACnBmC,cAAc,EAAE;UAClB,CAAE;UAAAhC,QAAA,EAED0D,IAAI,CAACJ;QAAK,GAXNI,IAAI,CAACL,IAAI;UAAApD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAYR,CACT;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eACNhC,OAAA;MAAKwB,KAAK,EAAE;QAAEiE,OAAO,EAAE,MAAM;QAAEE,UAAU,EAAE,QAAQ;QAAEC,GAAG,EAAE;MAAO,CAAE;MAAAhE,QAAA,gBACjE5B,OAAA;QAAA4B,QAAA,GAAM,+BAAgB,EAACkD,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAET,QAAQ,EAAC,IAAE,EAACS,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAES,IAAI,EAAC,GAAC;MAAA;QAAA1D,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eAC5DhC,OAAA;QACEyD,OAAO,EAAEsB,MAAO;QAChBvD,KAAK,EAAE;UAAEC,OAAO,EAAE,UAAU;UAAES,eAAe,EAAE,SAAS;UAAEK,KAAK,EAAE,OAAO;UAAEJ,MAAM,EAAE,MAAM;UAAEC,YAAY,EAAE;QAAM,CAAE;QAAAR,QAAA,EACjH;MAED;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;;AAED;AAAA6C,GAAA,CAtEMD,UAAU;EAAA,QACW/E,OAAO,EACfJ,WAAW;AAAA;AAAAwG,GAAA,GAFxBrB,UAAU;AAuEhB,MAAMsB,SAAS,GAAGA,CAAA,KAAM;EACtB,oBACElG,OAAA;IAAKwB,KAAK,EAAE;MAAEC,OAAO,EAAE;IAAO,CAAE;IAAAG,QAAA,gBAC9B5B,OAAA;MAAIwB,KAAK,EAAE;QAAEe,KAAK,EAAE;MAAS,CAAE;MAAAX,QAAA,EAAC;IAA+B;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACpEhC,OAAA;MAAA4B,QAAA,EAAG;IAAgC;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC,eACvChC,OAAA;MAAA4B,QAAA,gBACE5B,OAAA;QAAA4B,QAAA,gBAAI5B,OAAA;UAAA4B,QAAA,EAAQ;QAAc;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,8CAA4B;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACpEhC,OAAA;QAAA4B,QAAA,gBAAI5B,OAAA;UAAA4B,QAAA,EAAQ;QAAW;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,8CAAiC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACtEhC,OAAA;QAAA4B,QAAA,gBAAI5B,OAAA;UAAA4B,QAAA,EAAQ;QAAmB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,kDAAmC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAChFhC,OAAA;QAAA4B,QAAA,gBAAI5B,OAAA;UAAA4B,QAAA,EAAQ;QAAK;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,kDAAiC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAChEhC,OAAA;QAAA4B,QAAA,gBAAI5B,OAAA;UAAA4B,QAAA,EAAQ;QAAI;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,gCAA4B;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC1DhC,OAAA;QAAA4B,QAAA,gBAAI5B,OAAA;UAAA4B,QAAA,EAAQ;QAAQ;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,6BAAmB;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACnD,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACF,CAAC;AAEV,CAAC;;AAED;AAAAmE,GAAA,GAjBMD,SAAS;AAkBf,MAAME,aAAa,GAAGA,CAAC;EAAEC,eAAe,GAAG,IAAI;EAAEC,UAAU,GAAG;AAAM,CAAC,KAAK;EAAAC,GAAA;EACxE,MAAM;IAAEzB;EAAK,CAAC,GAAGjF,OAAO,CAAC,CAAC;EAC1B,MAAMa,QAAQ,GAAGjB,WAAW,CAAC,CAAC;EAC9B,MAAM,CAAC+G,WAAW,EAAEC,cAAc,CAAC,GAAGvH,KAAK,CAACC,QAAQ,CAACmH,UAAU,GAAG,CAAC,GAAG,CAAC,CAAC;EACxE,MAAM,CAACI,UAAU,EAAEC,aAAa,CAAC,GAAGzH,KAAK,CAACC,QAAQ,CAAC,CAAC,CAACkH,eAAe,CAAC;EACrE,MAAM,CAACO,gBAAgB,EAAEC,mBAAmB,CAAC,GAAG3H,KAAK,CAACC,QAAQ,CAACkH,eAAe,CAAC;EAC/E,MAAM,CAACS,aAAa,EAAEC,gBAAgB,CAAC,GAAG7H,KAAK,CAACC,QAAQ,CAAC,CAAC,CAACkH,eAAe,CAAC;;EAE3E;EACA,MAAMW,gBAAgB,GAAGA,CAAA,KAAM;IAC7B,IAAIV,UAAU,EAAE;MACd,OAAO;QACLW,KAAK,EAAE,gBAAgB;QACvBC,WAAW,EAAE,yDAAyD;QACtEC,KAAK,EAAE,CACL;UACEC,EAAE,EAAE,CAAC;UACLH,KAAK,EAAE,cAAc;UACrBC,WAAW,EAAE,qCAAqC;UAClDG,WAAW,EAAE,IAAI;UACjBC,UAAU,EAAE,IAAI;UAChBC,KAAK,EAAE;QACT,CAAC,EACD;UACEH,EAAE,EAAE,CAAC;UACLH,KAAK,EAAE,iBAAiB;UACxBC,WAAW,EAAE,wCAAwC;UACrDG,WAAW,EAAE,IAAI;UACjBC,UAAU,EAAE,IAAI;UAChBC,KAAK,EAAE;QACT,CAAC;MAEL,CAAC;IACH,CAAC,MAAM;MACL,OAAO;QACLN,KAAK,EAAE,EAAE;QACTC,WAAW,EAAE,EAAE;QACfC,KAAK,EAAE,CACL;UACEC,EAAE,EAAE,CAAC;UACLH,KAAK,EAAE,iBAAiB;UACxBC,WAAW,EAAE,0BAA0B;UACvCG,WAAW,EAAE,KAAK;UAClBC,UAAU,EAAE,KAAK;UACjBE,QAAQ,EAAE,IAAI;UACdD,KAAK,EAAE,CACL;YACEH,EAAE,EAAE,iBAAiB;YACrB1E,IAAI,EAAE,iBAAiB;YACvB+E,QAAQ,EAAE,0BAA0B;YACpCD,QAAQ,EAAE,IAAI;YACdE,UAAU,EAAE;UACd,CAAC;QAEL,CAAC,EACD;UACEN,EAAE,EAAE,CAAC;UACLH,KAAK,EAAE,gBAAgB;UACvBC,WAAW,EAAE,kBAAkB;UAC/BG,WAAW,EAAE,KAAK;UAClBC,UAAU,EAAE,KAAK;UACjBE,QAAQ,EAAE,IAAI;UACdD,KAAK,EAAE,CACL;YACEH,EAAE,EAAE,gBAAgB;YACpB1E,IAAI,EAAE,gBAAgB;YACtB+E,QAAQ,EAAE,kBAAkB;YAC5BD,QAAQ,EAAE,IAAI;YACdE,UAAU,EAAE;UACd,CAAC;QAEL,CAAC,EACD;UACEN,EAAE,EAAE,CAAC;UACLH,KAAK,EAAE,cAAc;UACrBC,WAAW,EAAE,qCAAqC;UAClDG,WAAW,EAAE,IAAI;UACjBC,UAAU,EAAE,KAAK;UACjBC,KAAK,EAAE;QACT,CAAC,EACD;UACEH,EAAE,EAAE,CAAC;UACLH,KAAK,EAAE,cAAc;UACrBC,WAAW,EAAE,iCAAiC;UAC9CG,WAAW,EAAE,KAAK;UAClBC,UAAU,EAAE,IAAI;UAChBC,KAAK,EAAE;QACT,CAAC,EACD;UACEH,EAAE,EAAE,CAAC;UACLH,KAAK,EAAE,iBAAiB;UACxBC,WAAW,EAAE,wCAAwC;UACrDG,WAAW,EAAE,IAAI;UACjBC,UAAU,EAAE,KAAK;UACjBC,KAAK,EAAE;QACT,CAAC;MAEL,CAAC;IACH;EACF,CAAC;EAED,MAAM,CAACI,MAAM,EAAEC,SAAS,CAAC,GAAG1I,KAAK,CAACC,QAAQ,CAAC6H,gBAAgB,CAAC,CAAC,CAAC;;EAE9D;EACA9H,KAAK,CAAC6B,SAAS,CAAC,MAAM;IACpB,IAAIuF,UAAU,EAAE;MACduB,kBAAkB,CAAC,CAAC;IACtB,CAAC,MAAM,IAAIxB,eAAe,EAAE;MAC1ByB,oBAAoB,CAACzB,eAAe,CAAC;IACvC,CAAC,MAAM;MACL0B,+BAA+B,CAAC,CAAC;IACnC;EACF,CAAC,EAAE,CAAC1B,eAAe,EAAEC,UAAU,CAAC,CAAC;EAEjC,MAAMuB,kBAAkB,GAAG,MAAAA,CAAA,KAAY;IACrC,IAAI;MACFd,gBAAgB,CAAC,IAAI,CAAC;MACtB,MAAMiB,QAAQ,GAAG,MAAMC,KAAK,CAAC,8BAA8B,EAAE;QAC3DC,OAAO,EAAE;UACP,eAAe,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;QAC1D;MACF,CAAC,CAAC;MAEF,IAAIJ,QAAQ,CAACK,EAAE,EAAE;QACf,MAAMC,IAAI,GAAG,MAAMN,QAAQ,CAACO,IAAI,CAAC,CAAC;QAClCX,SAAS,CAACY,IAAI,KAAK;UACjB,GAAGA,IAAI;UACPrB,KAAK,EAAEqB,IAAI,CAACrB,KAAK,CAACnB,GAAG,CAACyC,IAAI,IAAI;YAC5B,IAAIA,IAAI,CAACrB,EAAE,KAAK,CAAC,EAAE;cAAE;cACnB,OAAO;gBAAE,GAAGqB,IAAI;gBAAElB,KAAK,EAAEe,IAAI,CAACI,YAAY,IAAI;cAAG,CAAC;YACpD,CAAC,MAAM,IAAID,IAAI,CAACrB,EAAE,KAAK,CAAC,EAAE;cAAE;cAC1B,OAAO;gBAAE,GAAGqB,IAAI;gBAAElB,KAAK,EAAEe,IAAI,CAACK,YAAY,IAAI;cAAG,CAAC;YACpD;YACA,OAAOF,IAAI;UACb,CAAC;QACH,CAAC,CAAC,CAAC;MACL;IACF,CAAC,CAAC,OAAOpH,KAAK,EAAE;MACduH,OAAO,CAACvH,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAAC;IACxD,CAAC,SAAS;MACR0F,gBAAgB,CAAC,KAAK,CAAC;IACzB;EACF,CAAC;EAED,MAAMgB,+BAA+B,GAAG,MAAAA,CAAA,KAAY;IAClD,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,8BAA8B,EAAE;QAC3DC,OAAO,EAAE;UACP,eAAe,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;QAC1D;MACF,CAAC,CAAC;MAEF,IAAIJ,QAAQ,CAACK,EAAE,EAAE;QACf,MAAMC,IAAI,GAAG,MAAMN,QAAQ,CAACO,IAAI,CAAC,CAAC;;QAElC;QACAX,SAAS,CAACY,IAAI,KAAK;UACjB,GAAGA,IAAI;UACPrB,KAAK,EAAEqB,IAAI,CAACrB,KAAK,CAACnB,GAAG,CAACyC,IAAI,IAAI;YAC5B,IAAIA,IAAI,CAACrB,EAAE,KAAK,CAAC,EAAE;cAAE;cACnB,OAAO;gBAAE,GAAGqB,IAAI;gBAAElB,KAAK,EAAEe,IAAI,CAACI,YAAY,IAAI;cAAG,CAAC;YACpD,CAAC,MAAM,IAAID,IAAI,CAACrB,EAAE,KAAK,CAAC,EAAE;cAAE;cAC1B,OAAO;gBAAE,GAAGqB,IAAI;gBAAElB,KAAK,EAAEe,IAAI,CAACK,YAAY,IAAI;cAAG,CAAC;YACpD;YACA,OAAOF,IAAI;UACb,CAAC;QACH,CAAC,CAAC,CAAC;MACL;IACF,CAAC,CAAC,OAAOpH,KAAK,EAAE;MACduH,OAAO,CAACvH,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAAC;IACxD;EACF,CAAC;EAED,MAAMyG,oBAAoB,GAAG,MAAOe,QAAQ,IAAK;IAC/C,IAAI;MACF9B,gBAAgB,CAAC,IAAI,CAAC;MACtB,MAAMiB,QAAQ,GAAG,MAAMC,KAAK,CAAC,gBAAgBY,QAAQ,EAAE,EAAE;QACvDX,OAAO,EAAE;UACP,eAAe,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;QAC1D;MACF,CAAC,CAAC;MAEF,IAAIJ,QAAQ,CAACK,EAAE,EAAE;QACf,MAAMS,UAAU,GAAG,MAAMd,QAAQ,CAACO,IAAI,CAAC,CAAC;QACxCX,SAAS,CAAC;UACRX,KAAK,EAAE6B,UAAU,CAAC7B,KAAK;UACvBC,WAAW,EAAE4B,UAAU,CAAC5B,WAAW;UACnCC,KAAK,EAAE2B,UAAU,CAACC,MAAM,CAAC5B,KAAK,IAAIQ,MAAM,CAACR,KAAK,CAAC;QACjD,CAAC,CAAC;QACFR,aAAa,CAAC,IAAI,CAAC;QACnBE,mBAAmB,CAACgC,QAAQ,CAAC;MAC/B,CAAC,MAAM;QACL,MAAM,IAAIG,KAAK,CAAC,8BAA8B,CAAC;MACjD;IACF,CAAC,CAAC,OAAO3H,KAAK,EAAE;MACduH,OAAO,CAACvH,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;MAC7CoD,KAAK,CAAC,gCAAgC,GAAGpD,KAAK,CAACR,OAAO,CAAC;MACvDH,QAAQ,CAAC,UAAU,CAAC;IACtB,CAAC,SAAS;MACRqG,gBAAgB,CAAC,KAAK,CAAC;IACzB;EACF,CAAC;EAED,MAAM,CAACkC,eAAe,EAAEC,kBAAkB,CAAC,GAAGhK,KAAK,CAACC,QAAQ,CAACmH,UAAU,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;;EAElF,MAAM,CAAC6C,WAAW,EAAEC,cAAc,CAAC,GAAGlK,KAAK,CAACC,QAAQ,CAAC,IAAI,CAAC;EAC1D,MAAM,CAACkK,cAAc,EAAEC,iBAAiB,CAAC,GAAGpK,KAAK,CAACC,QAAQ,CAAC,KAAK,CAAC;EACjE,MAAM,CAACoK,WAAW,EAAEC,cAAc,CAAC,GAAGtK,KAAK,CAACC,QAAQ,CAAC,IAAI,CAAC;EAC1D,MAAM,CAACsK,aAAa,EAAEC,gBAAgB,CAAC,GAAGxK,KAAK,CAACC,QAAQ,CAAC,IAAI,CAAC;EAE9D,MAAMwK,UAAU,GAAG,MAAAA,CAAA,KAAY;IAC7B,IAAI;MACF,IAAIrD,UAAU,EAAE;QACd;QACA,MAAMsD,SAAS,GAAGjC,MAAM,CAACR,KAAK,CAAC0C,IAAI,CAACpB,IAAI,IAAIA,IAAI,CAACrB,EAAE,KAAK,CAAC,CAAC;QAC1D,MAAM0C,SAAS,GAAGnC,MAAM,CAACR,KAAK,CAAC0C,IAAI,CAACpB,IAAI,IAAIA,IAAI,CAACrB,EAAE,KAAK,CAAC,CAAC;QAE1D,MAAMY,QAAQ,GAAG,MAAMC,KAAK,CAAC,8BAA8B,EAAE;UAC3D8B,MAAM,EAAE,KAAK;UACb7B,OAAO,EAAE;YACP,cAAc,EAAE,kBAAkB;YAClC,eAAe,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;UAC1D,CAAC;UACD4B,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;YACnBxB,YAAY,EAAE,CAAAkB,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAErC,KAAK,KAAI,EAAE;YACpCoB,YAAY,EAAE,CAAAmB,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAEvC,KAAK,KAAI;UACpC,CAAC;QACH,CAAC,CAAC;QAEF,IAAIS,QAAQ,CAACK,EAAE,EAAE;UACf5D,KAAK,CAAC,sCAAsC,CAAC;QAC/C,CAAC,MAAM;UACL,MAAM,IAAIuE,KAAK,CAAC,qCAAqC,CAAC;QACxD;MACF,CAAC,MAAM;QACL;QACA,MAAMmB,GAAG,GAAGzD,UAAU,GAAG,gBAAgBE,gBAAgB,EAAE,GAAG,cAAc;QAC5E,MAAMmD,MAAM,GAAGrD,UAAU,GAAG,KAAK,GAAG,MAAM;QAE1C,MAAMsB,QAAQ,GAAG,MAAMC,KAAK,CAACkC,GAAG,EAAE;UAChCJ,MAAM,EAAEA,MAAM;UACd7B,OAAO,EAAE;YACP,cAAc,EAAE,kBAAkB;YAClC,eAAe,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;UAC1D,CAAC;UACD4B,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;YACnBjD,KAAK,EAAEU,MAAM,CAACV,KAAK;YACnBC,WAAW,EAAES,MAAM,CAACT,WAAW;YAC/B6B,MAAM,EAAE;cACN5B,KAAK,EAAEQ,MAAM,CAACR,KAAK;cACnBI,KAAK,EAAEI,MAAM,CAACR,KAAK,CAACiD,OAAO,CAAC3B,IAAI,IAAIA,IAAI,CAAClB,KAAK,IAAI,EAAE;YACtD;UACF,CAAC;QACH,CAAC,CAAC;QAEF,IAAIS,QAAQ,CAACK,EAAE,EAAE;UACf,IAAI3B,UAAU,EAAE;YACdjC,KAAK,CAAC,mCAAmC,CAAC;YAC1C/D,QAAQ,CAAC,UAAU,CAAC;UACtB,CAAC,MAAM;YACL+D,KAAK,CAAC,6BAA6B,CAAC;YACpC;YACAmD,SAAS,CAACZ,gBAAgB,CAAC,CAAC,CAAC;YAC7BP,cAAc,CAAC,CAAC,CAAC;UACnB;QACF,CAAC,MAAM;UACLhC,KAAK,CAACiC,UAAU,GAAG,gCAAgC,GAAG,6BAA6B,CAAC;QACtF;MACF;IACF,CAAC,CAAC,OAAOrF,KAAK,EAAE;MACduH,OAAO,CAACvH,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;MAC5CoD,KAAK,CAAC6B,UAAU,GAAG,qCAAqC,GAAII,UAAU,GAAG,gCAAgC,GAAG,6BAA8B,CAAC;IAC7I;EACF,CAAC;EAED,MAAM2D,OAAO,GAAIC,QAAQ,IAAK;IAC5B,MAAMC,OAAO,GAAG;MACdnD,EAAE,EAAEoD,IAAI,CAACC,GAAG,CAAC,CAAC;MACd,GAAGH;IACL,CAAC;IACD1C,SAAS,CAACY,IAAI,KAAK;MACjB,GAAGA,IAAI;MACPrB,KAAK,EAAEqB,IAAI,CAACrB,KAAK,CAACnB,GAAG,CAAC,CAACyC,IAAI,EAAEiC,KAAK,KAChCA,KAAK,KAAKzB,eAAe,GACrB;QAAE,GAAGR,IAAI;QAAElB,KAAK,EAAE,CAAC,GAAGkB,IAAI,CAAClB,KAAK,EAAEgD,OAAO;MAAE,CAAC,GAC5C9B,IACN;IACF,CAAC,CAAC,CAAC;IACHa,iBAAiB,CAAC,KAAK,CAAC;IACxBF,cAAc,CAAC,IAAI,CAAC;EACtB,CAAC;EAED,MAAMuB,UAAU,GAAIL,QAAQ,IAAK;IAC/B1C,SAAS,CAACY,IAAI,KAAK;MACjB,GAAGA,IAAI;MACPrB,KAAK,EAAEqB,IAAI,CAACrB,KAAK,CAACnB,GAAG,CAAC,CAACyC,IAAI,EAAEiC,KAAK,KAChCA,KAAK,KAAKzB,eAAe,GACrB;QACE,GAAGR,IAAI;QACPlB,KAAK,EAAEkB,IAAI,CAAClB,KAAK,CAACvB,GAAG,CAAC4E,IAAI,IACxBA,IAAI,CAACxD,EAAE,KAAK+B,WAAW,CAAC/B,EAAE,GAAG;UAAE,GAAG+B,WAAW;UAAE,GAAGmB;QAAS,CAAC,GAAGM,IACjE;MACF,CAAC,GACDnC,IACN;IACF,CAAC,CAAC,CAAC;IACHa,iBAAiB,CAAC,KAAK,CAAC;IACxBF,cAAc,CAAC,IAAI,CAAC;EACtB,CAAC;EAED,MAAMyB,UAAU,GAAGA,CAACC,MAAM,EAAEC,SAAS,KAAK;IACxC,IAAIC,MAAM,CAACC,OAAO,CAAC,mCAAmC,CAAC,EAAE;MACvDrD,SAAS,CAACY,IAAI,KAAK;QACjB,GAAGA,IAAI;QACPrB,KAAK,EAAEqB,IAAI,CAACrB,KAAK,CAACnB,GAAG,CAAC,CAACyC,IAAI,EAAEiC,KAAK,KAChCA,KAAK,KAAKK,SAAS,GACf;UAAE,GAAGtC,IAAI;UAAElB,KAAK,EAAEkB,IAAI,CAAClB,KAAK,CAAClC,MAAM,CAACuF,IAAI,IAAIA,IAAI,CAACxD,EAAE,KAAK0D,MAAM;QAAE,CAAC,GACjErC,IACN;MACF,CAAC,CAAC,CAAC;IACL;EACF,CAAC;EAED,MAAMyC,QAAQ,GAAGA,CAACJ,MAAM,EAAEK,SAAS,KAAK;IACtC,MAAMC,UAAU,GAAGzD,MAAM,CAACR,KAAK,CAAC8B,eAAe,CAAC;IAChD,IAAI,CAACmC,UAAU,EAAE;IAEjB,MAAM7D,KAAK,GAAG,CAAC,GAAG6D,UAAU,CAAC7D,KAAK,CAAC;IACnC,MAAM8D,YAAY,GAAG9D,KAAK,CAAC+D,SAAS,CAACV,IAAI,IAAIA,IAAI,CAACxD,EAAE,KAAK0D,MAAM,CAAC;IAChE,MAAMS,QAAQ,GAAGJ,SAAS,KAAK,IAAI,GAAGE,YAAY,GAAG,CAAC,GAAGA,YAAY,GAAG,CAAC;IAEzE,IAAIE,QAAQ,IAAI,CAAC,IAAIA,QAAQ,GAAGhE,KAAK,CAACjE,MAAM,EAAE;MAC5C,CAACiE,KAAK,CAAC8D,YAAY,CAAC,EAAE9D,KAAK,CAACgE,QAAQ,CAAC,CAAC,GAAG,CAAChE,KAAK,CAACgE,QAAQ,CAAC,EAAEhE,KAAK,CAAC8D,YAAY,CAAC,CAAC;MAC/EzD,SAAS,CAACY,IAAI,KAAK;QACjB,GAAGA,IAAI;QACPrB,KAAK,EAAEqB,IAAI,CAACrB,KAAK,CAACnB,GAAG,CAAC,CAACyC,IAAI,EAAEiC,KAAK,KAChCA,KAAK,KAAKzB,eAAe,GAAG;UAAE,GAAGR,IAAI;UAAElB;QAAM,CAAC,GAAGkB,IACnD;MACF,CAAC,CAAC,CAAC;IACL;EACF,CAAC;;EAED;EACA,MAAM+C,eAAe,GAAGA,CAACvK,CAAC,EAAEyJ,KAAK,KAAK;IACpClB,cAAc,CAACkB,KAAK,CAAC;IACrBzJ,CAAC,CAACwK,YAAY,CAACC,aAAa,GAAG,MAAM;IACrCzK,CAAC,CAACwK,YAAY,CAACE,OAAO,CAAC,WAAW,EAAE1K,CAAC,CAAC4B,MAAM,CAAC+I,UAAU,CAAC;IACxD3K,CAAC,CAACwK,YAAY,CAACI,YAAY,CAAC5K,CAAC,CAAC4B,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC;EAC7C,CAAC;EAED,MAAMiJ,cAAc,GAAGA,CAAC7K,CAAC,EAAEyJ,KAAK,KAAK;IACnCzJ,CAAC,CAACC,cAAc,CAAC,CAAC;IAClBD,CAAC,CAACwK,YAAY,CAACM,UAAU,GAAG,MAAM;IAClCrC,gBAAgB,CAACgB,KAAK,CAAC;EACzB,CAAC;EAED,MAAMsB,eAAe,GAAI/K,CAAC,IAAK;IAC7B;IACA,IAAI,CAACA,CAAC,CAACgL,aAAa,CAACC,QAAQ,CAACjL,CAAC,CAACkL,aAAa,CAAC,EAAE;MAC9CzC,gBAAgB,CAAC,IAAI,CAAC;IACxB;EACF,CAAC;EAED,MAAM0C,UAAU,GAAGA,CAACnL,CAAC,EAAEoL,SAAS,KAAK;IACnCpL,CAAC,CAACC,cAAc,CAAC,CAAC;IAElB,IAAIqI,WAAW,KAAK,IAAI,IAAIA,WAAW,KAAK8C,SAAS,EAAE;MACrD7C,cAAc,CAAC,IAAI,CAAC;MACpBE,gBAAgB,CAAC,IAAI,CAAC;MACtB;IACF;IAEA,MAAM0B,UAAU,GAAGzD,MAAM,CAACR,KAAK,CAAC8B,eAAe,CAAC;IAChD,IAAI,CAACmC,UAAU,EAAE;MACf5B,cAAc,CAAC,IAAI,CAAC;MACpBE,gBAAgB,CAAC,IAAI,CAAC;MACtB;IACF;IAEA,MAAM4C,QAAQ,GAAG,CAAC,GAAGlB,UAAU,CAAC7D,KAAK,CAAC;IACtC,MAAMgF,WAAW,GAAGD,QAAQ,CAAC/C,WAAW,CAAC;;IAEzC;IACA+C,QAAQ,CAACE,MAAM,CAACjD,WAAW,EAAE,CAAC,CAAC;;IAE/B;IACA,MAAMkD,eAAe,GAAGlD,WAAW,GAAG8C,SAAS,GAAGA,SAAS,GAAG,CAAC,GAAGA,SAAS;IAC3EC,QAAQ,CAACE,MAAM,CAACC,eAAe,EAAE,CAAC,EAAEF,WAAW,CAAC;IAEhD3E,SAAS,CAACY,IAAI,KAAK;MACjB,GAAGA,IAAI;MACPrB,KAAK,EAAEqB,IAAI,CAACrB,KAAK,CAACnB,GAAG,CAAC,CAACyC,IAAI,EAAEiC,KAAK,KAChCA,KAAK,KAAKzB,eAAe,GAAG;QAAE,GAAGR,IAAI;QAAElB,KAAK,EAAE+E;MAAS,CAAC,GAAG7D,IAC7D;IACF,CAAC,CAAC,CAAC;IACHe,cAAc,CAAC,IAAI,CAAC;IACpBE,gBAAgB,CAAC,IAAI,CAAC;EACxB,CAAC;EAED,MAAMgD,aAAa,GAAGA,CAAA,KAAM;IAC1BlD,cAAc,CAAC,IAAI,CAAC;IACpBE,gBAAgB,CAAC,IAAI,CAAC;EACxB,CAAC;EAED,IAAI5C,aAAa,EAAE;IACjB,oBACE9G,OAAA;MAAKwB,KAAK,EAAE;QAAEC,OAAO,EAAE,MAAM;QAAEC,QAAQ,EAAE,QAAQ;QAAEC,MAAM,EAAE,QAAQ;QAAEsB,SAAS,EAAE;MAAS,CAAE;MAAArB,QAAA,gBACzF5B,OAAA;QAAA4B,QAAA,EAAI;MAAc;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACvBhC,OAAA;QAAKwB,KAAK,EAAE;UAAEgC,SAAS,EAAE;QAAO,CAAE;QAAA5B,QAAA,gBAChC5B,OAAA;UAAKwB,KAAK,EAAE;YAAEc,QAAQ,EAAE,MAAM;YAAED,YAAY,EAAE;UAAO,CAAE;UAAAT,QAAA,EAAC;QAAqB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eACnFhC,OAAA;UAAKwB,KAAK,EAAE;YAAEc,QAAQ,EAAE,MAAM;YAAEC,KAAK,EAAE;UAAU,CAAE;UAAAX,QAAA,EAAC;QAA6C;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACpG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAEV;EAEA,oBACEhC,OAAA;IAAKwB,KAAK,EAAE;MAAEC,OAAO,EAAE,MAAM;MAAEC,QAAQ,EAAE,QAAQ;MAAEC,MAAM,EAAE;IAAS,CAAE;IAAAC,QAAA,gBACpE5B,OAAA;MAAA4B,QAAA,EAAK0E,UAAU,GAAG,yBAAyB,GAAII,UAAU,GAAG,mBAAmB,GAAG;IAAiB;MAAA7E,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,eACzGhC,OAAA;MAAGwB,KAAK,EAAE;QAAEe,KAAK,EAAE,SAAS;QAAEF,YAAY,EAAE;MAAO,CAAE;MAAAT,QAAA,EAClD0E,UAAU,GACP,yFAAyF,GACxFI,UAAU,GAAG,oEAAoE,GAAG;IAA2D;MAAA7E,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAEnJ,CAAC,EAEH0E,UAAU,iBACT1G,OAAA;MAAKwB,KAAK,EAAE;QACVU,eAAe,EAAE,SAAS;QAC1BC,MAAM,EAAE,mBAAmB;QAC3BC,YAAY,EAAE,KAAK;QACnBX,OAAO,EAAE,MAAM;QACfY,YAAY,EAAE;MAChB,CAAE;MAAAT,QAAA,gBACA5B,OAAA;QAAKwB,KAAK,EAAE;UAAEiE,OAAO,EAAE,MAAM;UAAEE,UAAU,EAAE,QAAQ;UAAEtD,YAAY,EAAE;QAAM,CAAE;QAAAT,QAAA,gBACzE5B,OAAA;UAAMwB,KAAK,EAAE;YAAEc,QAAQ,EAAE,MAAM;YAAEuB,WAAW,EAAE;UAAM,CAAE;UAAAjC,QAAA,EAAC;QAAE;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eAChEhC,OAAA;UAAQwB,KAAK,EAAE;YAAEe,KAAK,EAAE;UAAU,CAAE;UAAAX,QAAA,EAAC;QAAc;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACzD,CAAC,eACNhC,OAAA;QAAGwB,KAAK,EAAE;UAAEG,MAAM,EAAE,GAAG;UAAEY,KAAK,EAAE,SAAS;UAAED,QAAQ,EAAE;QAAO,CAAE;QAAAV,QAAA,GAAC,0BACxC,eAAA5B,OAAA;UAAA4B,QAAA,GAAQ,IAAC,EAAC+F,MAAM,CAACV,KAAK,EAAC,IAAC;QAAA;UAAApF,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,0FAExD;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACD,CACN,EAGAwE,WAAW,KAAK,CAAC,iBAChBxG,OAAA;MAAKwB,KAAK,EAAE;QACVU,eAAe,EAAE,SAAS;QAC1BT,OAAO,EAAE,MAAM;QACfW,YAAY,EAAE,KAAK;QACnBC,YAAY,EAAE,MAAM;QACpBF,MAAM,EAAE;MACV,CAAE;MAAAP,QAAA,gBACA5B,OAAA;QAAA4B,QAAA,EAAI;MAA0B;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAEnChC,OAAA;QAAKwB,KAAK,EAAE;UAAEa,YAAY,EAAE;QAAO,CAAE;QAAAT,QAAA,gBACnC5B,OAAA;UAAOwB,KAAK,EAAE;YAAEiE,OAAO,EAAE,OAAO;YAAEpD,YAAY,EAAE,KAAK;YAAEyD,UAAU,EAAE;UAAO,CAAE;UAAAlE,QAAA,EAAC;QAE7E;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACRhC,OAAA;UACE0C,IAAI,EAAC,MAAM;UACXC,KAAK,EAAEgF,MAAM,CAACV,KAAM;UACpBrE,QAAQ,EAAG3B,CAAC,IAAK2G,SAAS,CAACY,IAAI,KAAK;YAAE,GAAGA,IAAI;YAAEvB,KAAK,EAAEhG,CAAC,CAAC4B,MAAM,CAACF;UAAM,CAAC,CAAC,CAAE;UACzEnB,KAAK,EAAE;YACLwB,KAAK,EAAE,MAAM;YACbvB,OAAO,EAAE,MAAM;YACfU,MAAM,EAAE,mBAAmB;YAC3BC,YAAY,EAAE,KAAK;YACnBE,QAAQ,EAAE;UACZ,CAAE;UACFa,WAAW,EAAC;QAA+B;UAAAtB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC5C,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eAENhC,OAAA;QAAKwB,KAAK,EAAE;UAAEa,YAAY,EAAE;QAAO,CAAE;QAAAT,QAAA,gBACnC5B,OAAA;UAAOwB,KAAK,EAAE;YAAEiE,OAAO,EAAE,OAAO;YAAEpD,YAAY,EAAE,KAAK;YAAEyD,UAAU,EAAE;UAAO,CAAE;UAAAlE,QAAA,EAAC;QAE7E;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACRhC,OAAA;UACE2C,KAAK,EAAEgF,MAAM,CAACT,WAAY;UAC1BtE,QAAQ,EAAG3B,CAAC,IAAK2G,SAAS,CAACY,IAAI,KAAK;YAAE,GAAGA,IAAI;YAAEtB,WAAW,EAAEjG,CAAC,CAAC4B,MAAM,CAACF;UAAM,CAAC,CAAC,CAAE;UAC/EnB,KAAK,EAAE;YACLwB,KAAK,EAAE,MAAM;YACbvB,OAAO,EAAE,MAAM;YACfU,MAAM,EAAE,mBAAmB;YAC3BC,YAAY,EAAE,KAAK;YACnBE,QAAQ,EAAE,MAAM;YAChBqK,SAAS,EAAE,OAAO;YAClBC,MAAM,EAAE;UACV,CAAE;UACFzJ,WAAW,EAAC;QAAsC;UAAAtB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnD,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eAENhC,OAAA;QAAKwB,KAAK,EAAE;UAAEiE,OAAO,EAAE,MAAM;UAAEC,cAAc,EAAE;QAAgB,CAAE;QAAA9D,QAAA,gBAC/D5B,OAAA;UAAA6B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAU,CAAC,eACXhC,OAAA;UACEyD,OAAO,EAAEA,CAAA,KAAMgD,cAAc,CAAC,CAAC,CAAE;UACjCpD,QAAQ,EAAE,CAACsE,MAAM,CAACV,KAAM;UACxBzF,KAAK,EAAE;YACLqL,QAAQ,EAAE,UAAU;YACpBpL,OAAO,EAAE,WAAW;YACpBS,eAAe,EAAEyF,MAAM,CAACV,KAAK,GAAG,kBAAkB,GAAG,SAAS;YAC9D1E,KAAK,EAAE,OAAO;YACdJ,MAAM,EAAE,MAAM;YACdC,YAAY,EAAE,KAAK;YACnBE,QAAQ,EAAE,MAAM;YAChBqB,MAAM,EAAEgE,MAAM,CAACV,KAAK,GAAG,SAAS,GAAG;UACrC,CAAE;UAAArF,QAAA,EACH;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN,EAGAwE,WAAW,KAAK,CAAC,iBAChBxG,OAAA;MAAA4B,QAAA,gBACE5B,OAAA;QAAIwB,KAAK,EAAE;UAAEa,YAAY,EAAE;QAAO,CAAE;QAAAT,QAAA,EAAC;MAAuB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACjEhC,OAAA;QAAOwB,KAAK,EAAE;UAAEe,KAAK,EAAE,SAAS;UAAEkD,OAAO,EAAE,OAAO;UAAEpD,YAAY,EAAE;QAAO,CAAE;QAAAT,QAAA,EAAC;MAE5E;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC,EAGPsE,UAAU,gBACTtG,OAAA;QAAKwB,KAAK,EAAE;UACVU,eAAe,EAAE,SAAS;UAC1BC,MAAM,EAAE,mBAAmB;UAC3BC,YAAY,EAAE,KAAK;UACnBX,OAAO,EAAE,MAAM;UACfY,YAAY,EAAE;QAChB,CAAE;QAAAT,QAAA,gBACA5B,OAAA;UAAKwB,KAAK,EAAE;YAAEiE,OAAO,EAAE,MAAM;YAAEE,UAAU,EAAE,QAAQ;YAAEtD,YAAY,EAAE;UAAM,CAAE;UAAAT,QAAA,gBACzE5B,OAAA;YAAMwB,KAAK,EAAE;cAAEc,QAAQ,EAAE,MAAM;cAAEuB,WAAW,EAAE;YAAM,CAAE;YAAAjC,QAAA,EAAC;UAAE;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eAChEhC,OAAA;YAAQwB,KAAK,EAAE;cAAEe,KAAK,EAAE;YAAU,CAAE;YAAAX,QAAA,EAAC;UAAuB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAClE,CAAC,eACNhC,OAAA;UAAGwB,KAAK,EAAE;YAAEG,MAAM,EAAE,GAAG;YAAEY,KAAK,EAAE,SAAS;YAAED,QAAQ,EAAE;UAAO,CAAE;UAAAV,QAAA,GAAC,aAClD,eAAA5B,OAAA;YAAA4B,QAAA,EAAQ;UAAc;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,2FACxB,eAAAhC,OAAA;YAAA4B,QAAA,EAAQ;UAA4B;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,wHAEjE;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD,CAAC,gBAENhC,OAAA;QAAKwB,KAAK,EAAE;UACVU,eAAe,EAAE,SAAS;UAC1BC,MAAM,EAAE,mBAAmB;UAC3BC,YAAY,EAAE,KAAK;UACnBX,OAAO,EAAE,MAAM;UACfY,YAAY,EAAE;QAChB,CAAE;QAAAT,QAAA,gBACA5B,OAAA;UAAKwB,KAAK,EAAE;YAAEiE,OAAO,EAAE,MAAM;YAAEE,UAAU,EAAE,QAAQ;YAAEtD,YAAY,EAAE;UAAM,CAAE;UAAAT,QAAA,gBACzE5B,OAAA;YAAMwB,KAAK,EAAE;cAAEc,QAAQ,EAAE,MAAM;cAAEuB,WAAW,EAAE;YAAM,CAAE;YAAAjC,QAAA,EAAC;UAAE;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eAChEhC,OAAA;YAAQwB,KAAK,EAAE;cAAEe,KAAK,EAAE;YAAU,CAAE;YAAAX,QAAA,EAAC;UAAc;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACzD,CAAC,eACNhC,OAAA;UAAGwB,KAAK,EAAE;YAAEG,MAAM,EAAE,GAAG;YAAEY,KAAK,EAAE,SAAS;YAAED,QAAQ,EAAE;UAAO,CAAE;UAAAV,QAAA,gBAC5D5B,OAAA;YAAA4B,QAAA,EAAQ;UAAc;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,OAAG,eAAAhC,OAAA;YAAA4B,QAAA,EAAQ;UAAiB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,UAAM,eAAAhC,OAAA;YAAA4B,QAAA,EAAQ;UAA8B;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,KACzH,EAAC,CAAA8C,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAES,IAAI,MAAK,OAAO,gBACrBvF,OAAA,CAAAE,SAAA;YAAA0B,QAAA,GAAE,4FAC+D,EAAC,GAAG,eACnE5B,OAAA;cACE8M,IAAI,EAAC,iBAAiB;cACtBtL,KAAK,EAAE;gBAAEe,KAAK,EAAE,SAAS;gBAAEuD,UAAU,EAAE,MAAM;gBAAElC,cAAc,EAAE;cAAY,CAAE;cAC7EH,OAAO,EAAGxC,CAAC,IAAK;gBACdA,CAAC,CAACC,cAAc,CAAC,CAAC;gBAClBR,QAAQ,CAAC,iBAAiB,CAAC;cAC7B,CAAE;cAAAkB,QAAA,EACH;YAED;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC,EACH,GAAG,EAAC,iFACP;UAAA,eAAE,CAAC,gBAEHhC,OAAA,CAAAE,SAAA;YAAA0B,QAAA,EAAE;UAEF,gBAAE,CACH;QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACA,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD,CACN,eAEDhC,OAAA;QAAKwB,KAAK,EAAE;UAAEiE,OAAO,EAAE,MAAM;UAAEG,GAAG,EAAE,MAAM;UAAE+G,SAAS,EAAE;QAAQ,CAAE;QAAA/K,QAAA,gBAE/D5B,OAAA;UAAKwB,KAAK,EAAE;YACVwB,KAAK,EAAE,OAAO;YACdd,eAAe,EAAE,SAAS;YAC1BC,MAAM,EAAE,mBAAmB;YAC3BC,YAAY,EAAE,KAAK;YACnBX,OAAO,EAAE;UACX,CAAE;UAAAG,QAAA,gBACA5B,OAAA;YAAIwB,KAAK,EAAE;cAAEG,MAAM,EAAE,YAAY;cAAEY,KAAK,EAAE;YAAU,CAAE;YAAAX,QAAA,EAAC;UAEvD;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACLhC,OAAA,CAAC+M,qBAAqB;YAAAlL,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACtB,CAAC,eAGNhC,OAAA;UAAKwB,KAAK,EAAE;YACVwL,IAAI,EAAE,CAAC;YACP9K,eAAe,EAAE,OAAO;YACxBC,MAAM,EAAE,mBAAmB;YAC3BC,YAAY,EAAE,KAAK;YACnBuK,SAAS,EAAE,OAAO;YAClBE,QAAQ,EAAE;UACZ,CAAE;UAAAjL,QAAA,gBACA5B,OAAA;YAAKwB,KAAK,EAAE;cACVC,OAAO,EAAE,MAAM;cACf+D,YAAY,EAAE,mBAAmB;cACjCtD,eAAe,EAAE;YACnB,CAAE;YAAAN,QAAA,gBACA5B,OAAA;cAAIwB,KAAK,EAAE;gBAAEG,MAAM,EAAE,CAAC;gBAAEY,KAAK,EAAE;cAAU,CAAE;cAAAX,QAAA,EAAC;YAE5C;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACLhC,OAAA;cAAOwB,KAAK,EAAE;gBAAEe,KAAK,EAAE;cAAU,CAAE;cAAAX,QAAA,EAAC;YAEpC;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACL,CAAC,eAENhC,OAAA,CAACiN,iBAAiB;YAChBtF,MAAM,EAAEA,MAAO;YACfsB,eAAe,EAAEA,eAAgB;YACjCiE,kBAAkB,EAAEhE,kBAAmB;YACvCiE,cAAc,EAAEvF,SAAU;YAC1BwF,UAAU,EAAGxC,IAAI,IAAK;cACpBxB,cAAc,CAACwB,IAAI,CAAC;cACpBtB,iBAAiB,CAAC,IAAI,CAAC;YACzB,CAAE;YACF+D,YAAY,EAAExC,UAAW;YACzB/F,IAAI,EAAEA,IAAK;YACXwB,UAAU,EAAEA;UAAW;YAAAzE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACxB,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAGNhC,OAAA;QAAKwB,KAAK,EAAE;UACViE,OAAO,EAAE,MAAM;UACfC,cAAc,EAAEY,UAAU,GAAG,QAAQ,GAAG,eAAe;UACvD9C,SAAS,EAAE,MAAM;UACjB/B,OAAO,EAAE,QAAQ;UACjB6L,SAAS,EAAE;QACb,CAAE;QAAA1L,QAAA,GACC,CAAC0E,UAAU,iBACVtG,OAAA;UACEyD,OAAO,EAAEA,CAAA,KAAMgD,cAAc,CAAC,CAAC,CAAE;UACjCjF,KAAK,EAAE;YACLqL,QAAQ,EAAE,UAAU;YACpBpL,OAAO,EAAE,WAAW;YACpBS,eAAe,EAAE,SAAS;YAC1BK,KAAK,EAAE,OAAO;YACdJ,MAAM,EAAE,MAAM;YACdC,YAAY,EAAE,KAAK;YACnBE,QAAQ,EAAE,MAAM;YAChBqB,MAAM,EAAE;UACV,CAAE;UAAA/B,QAAA,EACH;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CACT,EACAsE,UAAU,gBACTtG,OAAA;UACEyD,OAAO,EAAEkG,UAAW;UACpBnI,KAAK,EAAE;YACLqL,QAAQ,EAAE,UAAU;YACpBpL,OAAO,EAAE,WAAW;YACpBS,eAAe,EAAE,SAAS;YAC1BK,KAAK,EAAE,OAAO;YACdJ,MAAM,EAAE,MAAM;YACdC,YAAY,EAAE,KAAK;YACnBE,QAAQ,EAAE,MAAM;YAChBqB,MAAM,EAAE;UACV,CAAE;UAAA/B,QAAA,EACH;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,gBAEThC,OAAA;UACEyD,OAAO,EAAEA,CAAA,KAAMgD,cAAc,CAAC,CAAC,CAAE;UACjCpD,QAAQ,EAAEsE,MAAM,CAACR,KAAK,CAACoG,KAAK,CAAC9E,IAAI,IAAIA,IAAI,CAAClB,KAAK,CAACjE,MAAM,KAAK,CAAC,CAAE;UAC9D9B,KAAK,EAAE;YACLqL,QAAQ,EAAE,UAAU;YACpBpL,OAAO,EAAE,WAAW;YACpBS,eAAe,EAAEyF,MAAM,CAACR,KAAK,CAACqG,IAAI,CAAC/E,IAAI,IAAIA,IAAI,CAAClB,KAAK,CAACjE,MAAM,GAAG,CAAC,CAAC,GAAG,kBAAkB,GAAG,SAAS;YAClGf,KAAK,EAAE,OAAO;YACdJ,MAAM,EAAE,MAAM;YACdC,YAAY,EAAE,KAAK;YACnBE,QAAQ,EAAE,MAAM;YAChBqB,MAAM,EAAEgE,MAAM,CAACR,KAAK,CAACqG,IAAI,CAAC/E,IAAI,IAAIA,IAAI,CAAClB,KAAK,CAACjE,MAAM,GAAG,CAAC,CAAC,GAAG,SAAS,GAAG;UACzE,CAAE;UAAA1B,QAAA,EACH;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CACT;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN,EAGAwE,WAAW,KAAK,CAAC,iBAChBxG,OAAA;MAAA4B,QAAA,gBACE5B,OAAA;QAAA4B,QAAA,EAAI;MAAwB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAEjChC,OAAA;QAAKwB,KAAK,EAAE;UAAEiE,OAAO,EAAE,MAAM;UAAEC,cAAc,EAAE,QAAQ;UAAErD,YAAY,EAAE;QAAO,CAAE;QAAAT,QAAA,eAC9E5B,OAAA,CAACyN,aAAa;UACZ9F,MAAM,EAAEA,MAAO;UACf+F,OAAO,EAAEA,CAAA,KAAMjH,cAAc,CAAC,CAAC;QAAE;UAAA5E,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAClC;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eAENhC,OAAA;QAAKwB,KAAK,EAAE;UAAEiE,OAAO,EAAE,MAAM;UAAEC,cAAc,EAAE,eAAe;UAAElC,SAAS,EAAE;QAAO,CAAE;QAAA5B,QAAA,gBAClF5B,OAAA;UACEyD,OAAO,EAAEA,CAAA,KAAMgD,cAAc,CAAC,CAAC,CAAE;UACjCjF,KAAK,EAAE;YACLqL,QAAQ,EAAE,UAAU;YACpBpL,OAAO,EAAE,WAAW;YACpBS,eAAe,EAAE,SAAS;YAC1BK,KAAK,EAAE,OAAO;YACdJ,MAAM,EAAE,MAAM;YACdC,YAAY,EAAE,KAAK;YACnBE,QAAQ,EAAE,MAAM;YAChBqB,MAAM,EAAE;UACV,CAAE;UAAA/B,QAAA,EACH;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACThC,OAAA;UACEyD,OAAO,EAAEkG,UAAW;UACpBnI,KAAK,EAAE;YACLqL,QAAQ,EAAE,UAAU;YACpBpL,OAAO,EAAE,WAAW;YACpBS,eAAe,EAAE,SAAS;YAC1BK,KAAK,EAAE,OAAO;YACdJ,MAAM,EAAE,MAAM;YACdC,YAAY,EAAE,KAAK;YACnBE,QAAQ,EAAE,MAAM;YAChBqB,MAAM,EAAE;UACV,CAAE;UAAA/B,QAAA,EAED8E,UAAU,GAAG,0BAA0B,GAAG;QAAgB;UAAA7E,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACrD,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN,EAGAqH,cAAc,iBACbrJ,OAAA,CAAC2N,gBAAgB;MACf/C,IAAI,EAAEzB,WAAY;MAClByE,MAAM,EAAEzE,WAAW,GAAGwB,UAAU,GAAGN,OAAQ;MAC3CwD,QAAQ,EAAEA,CAAA,KAAM;QACdvE,iBAAiB,CAAC,KAAK,CAAC;QACxBF,cAAc,CAAC,IAAI,CAAC;MACtB;IAAE;MAAAvH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACF;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;;AAED;AAAAuE,GAAA,CAxvBMH,aAAa;EAAA,QACAvG,OAAO,EACPJ,WAAW;AAAA;AAAAqO,GAAA,GAFxB1H,aAAa;AAyvBnB,MAAM2H,cAAc,GAAGA,CAAC;EACtBnD,IAAI;EACJF,KAAK;EACLsD,MAAM;EACNC,QAAQ;EACRC,WAAW;EACXC,UAAU;EACVC,UAAU,GAAG,KAAK;EAClBC,OAAO,GAAG;AACZ,CAAC,KAAK;EACJ,MAAMC,WAAW,GAAI5L,IAAI,IAAK;IAC5B,QAAQA,IAAI;MACV,KAAK,QAAQ;QAAE,OAAO,IAAI;MAC1B,KAAK,eAAe;QAAE,OAAO,IAAI;MACjC,KAAK,sBAAsB;QAAE,OAAO,IAAI;MACxC,KAAK,MAAM;QAAE,OAAO,IAAI;MACxB,KAAK,gBAAgB;QAAE,OAAO,IAAI;MAClC,KAAK,iBAAiB;QAAE,OAAO,IAAI;MACnC,KAAK,gBAAgB;QAAE,OAAO,IAAI;MAClC;QAAS,OAAO,GAAG;IACrB;EACF,CAAC;EAED,MAAM6L,eAAe,GAAI7L,IAAI,IAAK;IAChC,QAAQA,IAAI;MACV,KAAK,QAAQ;QAAE,OAAO,6BAA6B;MACnD,KAAK,eAAe;QAAE,OAAO,kBAAkB;MAC/C,KAAK,sBAAsB;QAAE,OAAO,8BAA8B;MAClE,KAAK,MAAM;QAAE,OAAO,cAAc;MAClC,KAAK,gBAAgB;QAAE,OAAO,cAAc;MAC5C,KAAK,iBAAiB;QAAE,OAAO,iBAAiB;MAChD,KAAK,gBAAgB;QAAE,OAAO,gBAAgB;MAC9C;QAAS,OAAO,aAAa;IAC/B;EACF,CAAC;EAED,oBACE1C,OAAA;IACEwO,SAAS,EAAEJ,UAAU,IAAIC,OAAQ;IACjCH,WAAW,EAAEE,UAAU,IAAIC,OAAO,GAAIpN,CAAC,IAAKiN,WAAW,CAACjN,CAAC,EAAEyJ,KAAK,CAAC,GAAG+D,SAAU;IAC9EjN,KAAK,EAAE;MACLW,MAAM,EAAEyI,IAAI,CAAClI,IAAI,KAAK,gBAAgB,GAAG,mBAAmB,GAAG,mBAAmB;MAClFN,YAAY,EAAE,KAAK;MACnBX,OAAO,EAAEmJ,IAAI,CAAClI,IAAI,KAAK,gBAAgB,GAAG,WAAW,GAAG,MAAM;MAC9DL,YAAY,EAAE,MAAM;MACpBH,eAAe,EAAEiM,UAAU,GAAG,SAAS,GAAIvD,IAAI,CAAClI,IAAI,KAAK,gBAAgB,GAAG,SAAS,GAAG,OAAQ;MAChGgM,SAAS,EAAEP,UAAU,GAAG,6BAA6B,GAAG,2BAA2B;MACnF5K,OAAO,EAAE4K,UAAU,GAAG,GAAG,GAAIE,OAAO,GAAG,CAAC,GAAG,GAAI;MAC/C1K,MAAM,EAAEyK,UAAU,IAAIC,OAAO,GAAG,MAAM,GAAG,SAAS;MAClDM,UAAU,EAAE,eAAe;MAC3BC,SAAS,EAAET,UAAU,GAAG,0BAA0B,GAAG;IACvD,CAAE;IAAAvM,QAAA,eACM5B,OAAA;MAAKwB,KAAK,EAAE;QAAEiE,OAAO,EAAE,MAAM;QAAEC,cAAc,EAAE,eAAe;QAAEC,UAAU,EAAE;MAAS,CAAE;MAAA/D,QAAA,GAC5FwM,UAAU,IAAIC,OAAO,iBACpBrO,OAAA;QAAKwB,KAAK,EAAE;UAAEiE,OAAO,EAAE,MAAM;UAAEE,UAAU,EAAE,QAAQ;UAAE9B,WAAW,EAAE;QAAO,CAAE;QAAAjC,QAAA,eACzE5B,OAAA;UACEwB,KAAK,EAAE;YACLmC,MAAM,EAAEwK,UAAU,GAAG,UAAU,GAAG,MAAM;YACxC7L,QAAQ,EAAE,MAAM;YAChBC,KAAK,EAAE4L,UAAU,GAAG,SAAS,GAAG,SAAS;YACzCtK,WAAW,EAAE,MAAM;YACnBgL,UAAU,EAAE,MAAM;YAClBpN,OAAO,EAAE,KAAK;YACdW,YAAY,EAAE,KAAK;YACnBF,eAAe,EAAEiM,UAAU,GAAG,SAAS,GAAG,aAAa;YACvDQ,UAAU,EAAE;UACd,CAAE;UACF1H,KAAK,EAAC,kDAA6B;UAAArF,QAAA,EACpC;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CACN,eACDhC,OAAA;QAAKwB,KAAK,EAAE;UAAEwL,IAAI,EAAE;QAAE,CAAE;QAAApL,QAAA,gBACtB5B,OAAA;UAAKwB,KAAK,EAAE;YAAEiE,OAAO,EAAE,MAAM;YAAEE,UAAU,EAAE,QAAQ;YAAEtD,YAAY,EAAE;UAAO,CAAE;UAAAT,QAAA,gBAC1E5B,OAAA;YAAMwB,KAAK,EAAE;cAAEc,QAAQ,EAAE,MAAM;cAAEuB,WAAW,EAAE;YAAO,CAAE;YAAAjC,QAAA,EACpD0M,WAAW,CAAC1D,IAAI,CAAClI,IAAI;UAAC;YAAAb,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACnB,CAAC,eACPhC,OAAA;YAAA4B,QAAA,EACGgJ,IAAI,CAAClI,IAAI,KAAK,gBAAgB,gBAC7B1C,OAAA;cAAA4B,QAAA,gBACE5B,OAAA;gBAAIwB,KAAK,EAAE;kBACTG,MAAM,EAAE,GAAG;kBACXY,KAAK,EAAE,SAAS;kBAChBD,QAAQ,EAAE,MAAM;kBAChBwD,UAAU,EAAE;gBACd,CAAE;gBAAAlE,QAAA,GAAC,eACE,EAACgJ,IAAI,CAACnD,QAAQ,IAAI,aAAa;cAAA;gBAAA5F,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAChC,CAAC,eACLhC,OAAA;gBAAOwB,KAAK,EAAE;kBACZe,KAAK,EAAE,SAAS;kBAChBsD,UAAU,EAAE,oBAAoB;kBAChCC,UAAU,EAAE,GAAG;kBACfxD,QAAQ,EAAE,MAAM;kBAChByD,UAAU,EAAE,MAAM;kBAClB7C,aAAa,EAAE;gBACjB,CAAE;gBAAAtB,QAAA,EACC2M,eAAe,CAAC3D,IAAI,CAAClI,IAAI;cAAC;gBAAAb,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACtB,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACL,CAAC,gBAENhC,OAAA;cAAA4B,QAAA,gBACE5B,OAAA;gBAAIwB,KAAK,EAAE;kBACTG,MAAM,EAAE,GAAG;kBACXY,KAAK,EAAE,SAAS;kBAChBsD,UAAU,EAAE,oBAAoB;kBAChCC,UAAU,EAAE,GAAG;kBACfxD,QAAQ,EAAE,MAAM;kBAChByD,UAAU,EAAE,MAAM;kBAClB7C,aAAa,EAAE;gBACjB,CAAE;gBAAAtB,QAAA,GAAC,OACI,EAAC8I,KAAK,GAAG,CAAC,EAAC,IAAE,EAACE,IAAI,CAACnD,QAAQ,IAAI,WAAW;cAAA;gBAAA5F,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC7C,CAAC,eACLhC,OAAA;gBAAOwB,KAAK,EAAE;kBACZe,KAAK,EAAE,SAAS;kBAChBsD,UAAU,EAAE,oBAAoB;kBAChCC,UAAU,EAAE,GAAG;kBACfxD,QAAQ,EAAE,MAAM;kBAChByD,UAAU,EAAE,MAAM;kBAClB7C,aAAa,EAAE;gBACjB,CAAE;gBAAAtB,QAAA,EACC2M,eAAe,CAAC3D,IAAI,CAAClI,IAAI;cAAC;gBAAAb,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACtB,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACL;UACN;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,EAEL4I,IAAI,CAACkE,OAAO,IAAIlE,IAAI,CAACkE,OAAO,CAACxL,MAAM,GAAG,CAAC,iBACtCtD,OAAA;UAAKwB,KAAK,EAAE;YAAEgC,SAAS,EAAE;UAAO,CAAE;UAAA5B,QAAA,gBAChC5B,OAAA;YAAOwB,KAAK,EAAE;cACZe,KAAK,EAAE,SAAS;cAChBsD,UAAU,EAAE,oBAAoB;cAChCC,UAAU,EAAE,GAAG;cACfxD,QAAQ,EAAE,MAAM;cAChByD,UAAU,EAAE,MAAM;cAClB7C,aAAa,EAAE;YACjB,CAAE;YAAAtB,QAAA,EAAC;UAAS;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACpBhC,OAAA;YAAKwB,KAAK,EAAE;cAAEgC,SAAS,EAAE;YAAM,CAAE;YAAA5B,QAAA,GAC9BgJ,IAAI,CAACkE,OAAO,CAACC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC/I,GAAG,CAAC,CAACgJ,MAAM,EAAEC,CAAC,kBACtCjP,OAAA;cAAcwB,KAAK,EAAE;gBACnBiE,OAAO,EAAE,cAAc;gBACvBvD,eAAe,EAAE,SAAS;gBAC1BT,OAAO,EAAE,SAAS;gBAClBW,YAAY,EAAE,KAAK;gBACnBE,QAAQ,EAAE,MAAM;gBAChBuB,WAAW,EAAE;cACf,CAAE;cAAAjC,QAAA,EACCoN;YAAM,GAREC,CAAC;cAAApN,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OASN,CACP,CAAC,EACD4I,IAAI,CAACkE,OAAO,CAACxL,MAAM,GAAG,CAAC,iBACtBtD,OAAA;cAAMwB,KAAK,EAAE;gBAAEe,KAAK,EAAE,SAAS;gBAAED,QAAQ,EAAE;cAAO,CAAE;cAAAV,QAAA,GAAC,QAC7C,EAACgJ,IAAI,CAACkE,OAAO,CAACxL,MAAM,GAAG,CAAC,EAAC,kBACjC;YAAA;cAAAzB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CACP;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CACN;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,EAELqM,OAAO,IAAI,CAACzD,IAAI,CAACpD,QAAQ,IAAI,CAACoD,IAAI,CAAClD,UAAU,iBAC5C1H,OAAA;QAAKwB,KAAK,EAAE;UAAEiE,OAAO,EAAE,MAAM;UAAEG,GAAG,EAAE,KAAK;UAAED,UAAU,EAAE;QAAS,CAAE;QAAA/D,QAAA,gBAChE5B,OAAA;UACEyD,OAAO,EAAEuK,MAAO;UAChBxM,KAAK,EAAE;YACLC,OAAO,EAAE,UAAU;YACnBS,eAAe,EAAE,SAAS;YAC1BK,KAAK,EAAE,OAAO;YACdJ,MAAM,EAAE,MAAM;YACdC,YAAY,EAAE,KAAK;YACnBE,QAAQ,EAAE;UACZ,CAAE;UAAAV,QAAA,EACH;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACThC,OAAA;UACEyD,OAAO,EAAEwK,QAAS;UAClBzM,KAAK,EAAE;YACLC,OAAO,EAAE,UAAU;YACnBS,eAAe,EAAE,SAAS;YAC1BK,KAAK,EAAE,OAAO;YACdJ,MAAM,EAAE,MAAM;YACdC,YAAY,EAAE,KAAK;YACnBE,QAAQ,EAAE;UACZ,CAAE;UAAAV,QAAA,EACH;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CACN,EACA,CAAC,CAACqM,OAAO,IAAIzD,IAAI,CAACpD,QAAQ,IAAIoD,IAAI,CAAClD,UAAU,kBAC5C1H,OAAA;QAAKwB,KAAK,EAAE;UACViE,OAAO,EAAE,MAAM;UACfE,UAAU,EAAE,QAAQ;UACpBpD,KAAK,EAAE,SAAS;UAChBD,QAAQ,EAAE,MAAM;UAChB4M,aAAa,EAAE,QAAQ;UACvBtJ,GAAG,EAAE;QACP,CAAE;QAAAhE,QAAA,EACCgJ,IAAI,CAACpD,QAAQ,IAAIoD,IAAI,CAAClD,UAAU,gBAC/B1H,OAAA;UAAKwB,KAAK,EAAE;YACVU,eAAe,EAAE,SAAS;YAC1BK,KAAK,EAAE,OAAO;YACdH,YAAY,EAAE,KAAK;YACnBX,OAAO,EAAE,SAAS;YAClBa,QAAQ,EAAE,MAAM;YAChBwD,UAAU,EAAE;UACd,CAAE;UAAAlE,QAAA,EAAC;QAEH;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,gBAENhC,OAAA;UAAA4B,QAAA,EAAK;QAAE;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK;MACb;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CACN;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAACmN,GAAA,GA3NIpB,cAAc;AA6NpB,MAAMJ,gBAAgB,GAAGA,CAAC;EAAE/C,IAAI;EAAEgD,MAAM;EAAEC;AAAS,CAAC,KAAK;EAAAuB,GAAA;EACvD,MAAM,CAACjL,QAAQ,EAAEkL,WAAW,CAAC,GAAGnQ,KAAK,CAACC,QAAQ,CAAC;IAC7CuD,IAAI,EAAE,CAAAkI,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAElI,IAAI,KAAI,QAAQ;IAC5B+E,QAAQ,EAAE,CAAAmD,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEnD,QAAQ,KAAI,EAAE;IAC9BqH,OAAO,EAAE,CAAAlE,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEkE,OAAO,KAAI,EAAE;IAC5B/L,QAAQ,EAAE,CAAA6H,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAE7H,QAAQ,KAAI,IAAI;IAChCuM,mBAAmB,EAAE,CAAA1E,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAE0E,mBAAmB,KAAI,EAAE;IACpDC,UAAU,EAAE,CAAA3E,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAE2E,UAAU,KAAI,KAAK;IACrCC,kBAAkB,EAAE,CAAA5E,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAE4E,kBAAkB,KAAI;EAClD,CAAC,CAAC;EAEF,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGxQ,KAAK,CAACC,QAAQ,CAAC,EAAE,CAAC;EAEpD,MAAMwQ,SAAS,GAAGA,CAAA,KAAM;IACtB,IAAIF,SAAS,CAACG,IAAI,CAAC,CAAC,EAAE;MACpBP,WAAW,CAAC7G,IAAI,KAAK;QACnB,GAAGA,IAAI;QACPsG,OAAO,EAAE,CAAC,GAAGtG,IAAI,CAACsG,OAAO,EAAEW,SAAS,CAACG,IAAI,CAAC,CAAC;MAC7C,CAAC,CAAC,CAAC;MACHF,YAAY,CAAC,EAAE,CAAC;IAClB;EACF,CAAC;EAED,MAAMG,YAAY,GAAInF,KAAK,IAAK;IAC9B2E,WAAW,CAAC7G,IAAI,KAAK;MACnB,GAAGA,IAAI;MACPsG,OAAO,EAAEtG,IAAI,CAACsG,OAAO,CAACzJ,MAAM,CAAC,CAACyK,CAAC,EAAEb,CAAC,KAAKA,CAAC,KAAKvE,KAAK;IACpD,CAAC,CAAC,CAAC;EACL,CAAC;EAED,MAAM1J,YAAY,GAAIC,CAAC,IAAK;IAC1BA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB,IAAI,CAACiD,QAAQ,CAACsD,QAAQ,CAACmI,IAAI,CAAC,CAAC,EAAE;MAC7BnL,KAAK,CAAC,uBAAuB,CAAC;MAC9B;IACF;IACA,IAAI,CAACN,QAAQ,CAACzB,IAAI,KAAK,eAAe,IAAIyB,QAAQ,CAACzB,IAAI,KAAK,cAAc,IAAIyB,QAAQ,CAACzB,IAAI,KAAK,cAAc,KAAKyB,QAAQ,CAACzB,IAAI,KAAK,gBAAgB,IAAIyB,QAAQ,CAAC2K,OAAO,CAACxL,MAAM,KAAK,CAAC,EAAE;MACtLmB,KAAK,CAAC,uCAAuC,CAAC;MAC9C;IACF;IACAmJ,MAAM,CAACzJ,QAAQ,CAAC;EAClB,CAAC;EAED,oBACEnE,OAAA;IAAKwB,KAAK,EAAE;MACVqL,QAAQ,EAAE,OAAO;MACjBkD,GAAG,EAAE,CAAC;MACNC,IAAI,EAAE,CAAC;MACPC,KAAK,EAAE,CAAC;MACRC,MAAM,EAAE,CAAC;MACThO,eAAe,EAAE,iBAAiB;MAClCuD,OAAO,EAAE,MAAM;MACfE,UAAU,EAAE,QAAQ;MACpBD,cAAc,EAAE,QAAQ;MACxByK,MAAM,EAAE;IACV,CAAE;IAAAvO,QAAA,eACA5B,OAAA;MAAKwB,KAAK,EAAE;QACVU,eAAe,EAAE,OAAO;QACxBE,YAAY,EAAE,KAAK;QACnBX,OAAO,EAAE,MAAM;QACfC,QAAQ,EAAE,OAAO;QACjBsB,KAAK,EAAE,KAAK;QACZoN,SAAS,EAAE,MAAM;QACjBC,QAAQ,EAAE;MACZ,CAAE;MAAAzO,QAAA,gBACA5B,OAAA;QAAA4B,QAAA,EAAKgJ,IAAI,GAAG,cAAc,GAAG;MAAkB;QAAA/I,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eAErDhC,OAAA;QAAMyC,QAAQ,EAAEzB,YAAa;QAAAY,QAAA,gBAC3B5B,OAAA;UAAKwB,KAAK,EAAE;YAAEa,YAAY,EAAE;UAAO,CAAE;UAAAT,QAAA,gBACnC5B,OAAA;YAAOwB,KAAK,EAAE;cAAEiE,OAAO,EAAE,OAAO;cAAEpD,YAAY,EAAE,KAAK;cAAEyD,UAAU,EAAE;YAAO,CAAE;YAAAlE,QAAA,EAAC;UAE7E;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACRhC,OAAA;YACE2C,KAAK,EAAEwB,QAAQ,CAACzB,IAAK;YACrBE,QAAQ,EAAG3B,CAAC,IAAKoO,WAAW,CAAC7G,IAAI,KAAK;cAAE,GAAGA,IAAI;cAAE9F,IAAI,EAAEzB,CAAC,CAAC4B,MAAM,CAACF;YAAM,CAAC,CAAC,CAAE;YAC1EnB,KAAK,EAAE;cACLwB,KAAK,EAAE,MAAM;cACbvB,OAAO,EAAE,MAAM;cACfU,MAAM,EAAE,mBAAmB;cAC3BC,YAAY,EAAE;YAChB,CAAE;YAAAR,QAAA,gBAED5B,OAAA;cAAQ2C,KAAK,EAAC,QAAQ;cAAAf,QAAA,EAAC;YAA2B;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eAC3DhC,OAAA;cAAQ2C,KAAK,EAAC,eAAe;cAAAf,QAAA,EAAC;YAAgB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACvDhC,OAAA;cAAQ2C,KAAK,EAAC,sBAAsB;cAAAf,QAAA,EAAC;YAA4B;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eAC1EhC,OAAA;cAAQ2C,KAAK,EAAC,MAAM;cAAAf,QAAA,EAAC;YAAY;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eAC1ChC,OAAA;cAAQ2C,KAAK,EAAC,gBAAgB;cAAAf,QAAA,EAAC;YAAY;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC9C,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACP,CAAC,eAEKhC,OAAA;UAAKwB,KAAK,EAAE;YAAEa,YAAY,EAAE;UAAO,CAAE;UAAAT,QAAA,gBAC7C5B,OAAA;YAAOwB,KAAK,EAAE;cAAEiE,OAAO,EAAE,OAAO;cAAEpD,YAAY,EAAE,KAAK;cAAEyD,UAAU,EAAE;YAAO,CAAE;YAAAlE,QAAA,EACzEuC,QAAQ,CAACzB,IAAI,KAAK,gBAAgB,GAAG,eAAe,GAAG;UAAU;YAAAb,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC7D,CAAC,eACRhC,OAAA;YACE0C,IAAI,EAAC,MAAM;YACXC,KAAK,EAAEwB,QAAQ,CAACsD,QAAS;YACzB7E,QAAQ,EAAG3B,CAAC,IAAKoO,WAAW,CAAC7G,IAAI,KAAK;cAAE,GAAGA,IAAI;cAAEf,QAAQ,EAAExG,CAAC,CAAC4B,MAAM,CAACF;YAAM,CAAC,CAAC,CAAE;YAC9EnB,KAAK,EAAE;cACLwB,KAAK,EAAE,MAAM;cACbvB,OAAO,EAAE,MAAM;cACfU,MAAM,EAAE,mBAAmB;cAC3BC,YAAY,EAAE;YAChB,CAAE;YACFe,WAAW,EAAEgB,QAAQ,CAACzB,IAAI,KAAK,gBAAgB,GAAG,qBAAqB,GAAG;UAAsB;YAAAb,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACjG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,EAEK,CAACmC,QAAQ,CAACzB,IAAI,KAAK,eAAe,IAAIyB,QAAQ,CAACzB,IAAI,KAAK,sBAAsB,KAAKyB,QAAQ,CAACzB,IAAI,KAAK,gBAAgB,iBAC/H1C,OAAA;UAAKwB,KAAK,EAAE;YAAEa,YAAY,EAAE;UAAO,CAAE;UAAAT,QAAA,gBACnC5B,OAAA;YAAOwB,KAAK,EAAE;cAAEiE,OAAO,EAAE,OAAO;cAAEpD,YAAY,EAAE,KAAK;cAAEyD,UAAU,EAAE;YAAO,CAAE;YAAAlE,QAAA,EAAC;UAE7E;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,EAEPmC,QAAQ,CAAC2K,OAAO,CAAC9I,GAAG,CAAC,CAACgJ,MAAM,EAAEtE,KAAK,kBAClC1K,OAAA;YAAiBwB,KAAK,EAAE;cAAEiE,OAAO,EAAE,MAAM;cAAEpD,YAAY,EAAE,KAAK;cAAEsD,UAAU,EAAE;YAAS,CAAE;YAAA/D,QAAA,gBACrF5B,OAAA;cACE0C,IAAI,EAAC,MAAM;cACXC,KAAK,EAAEqM,MAAO;cACdpM,QAAQ,EAAG3B,CAAC,IAAK;gBACf,MAAMqP,UAAU,GAAG,CAAC,GAAGnM,QAAQ,CAAC2K,OAAO,CAAC;gBACxCwB,UAAU,CAAC5F,KAAK,CAAC,GAAGzJ,CAAC,CAAC4B,MAAM,CAACF,KAAK;gBAClC0M,WAAW,CAAC7G,IAAI,KAAK;kBAAE,GAAGA,IAAI;kBAAEsG,OAAO,EAAEwB;gBAAW,CAAC,CAAC,CAAC;cACzD,CAAE;cACF9O,KAAK,EAAE;gBACLwL,IAAI,EAAE,CAAC;gBACPvL,OAAO,EAAE,KAAK;gBACdU,MAAM,EAAE,mBAAmB;gBAC3BC,YAAY,EAAE,KAAK;gBACnByB,WAAW,EAAE;cACf;YAAE;cAAAhC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,eACFhC,OAAA;cACE0C,IAAI,EAAC,QAAQ;cACbe,OAAO,EAAEA,CAAA,KAAMoM,YAAY,CAACnF,KAAK,CAAE;cACnClJ,KAAK,EAAE;gBACLC,OAAO,EAAE,UAAU;gBACnBS,eAAe,EAAE,SAAS;gBAC1BK,KAAK,EAAE,OAAO;gBACdJ,MAAM,EAAE,MAAM;gBACdC,YAAY,EAAE;cAChB,CAAE;cAAAR,QAAA,EACH;YAED;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA,GA7BD0I,KAAK;YAAA7I,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OA8BV,CACN,CAAC,eAEFhC,OAAA;YAAKwB,KAAK,EAAE;cAAEiE,OAAO,EAAE,MAAM;cAAEjC,SAAS,EAAE;YAAO,CAAE;YAAA5B,QAAA,gBACjD5B,OAAA;cACE0C,IAAI,EAAC,MAAM;cACXC,KAAK,EAAE8M,SAAU;cACjB7M,QAAQ,EAAG3B,CAAC,IAAKyO,YAAY,CAACzO,CAAC,CAAC4B,MAAM,CAACF,KAAK,CAAE;cAC9C4N,UAAU,EAAGtP,CAAC,IAAKA,CAAC,CAACuP,GAAG,KAAK,OAAO,KAAKvP,CAAC,CAACC,cAAc,CAAC,CAAC,EAAEyO,SAAS,CAAC,CAAC,CAAE;cAC1EnO,KAAK,EAAE;gBACLwL,IAAI,EAAE,CAAC;gBACPvL,OAAO,EAAE,KAAK;gBACdU,MAAM,EAAE,mBAAmB;gBAC3BC,YAAY,EAAE,KAAK;gBACnByB,WAAW,EAAE;cACf,CAAE;cACFV,WAAW,EAAC;YAAiB;cAAAtB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC9B,CAAC,eACFhC,OAAA;cACE0C,IAAI,EAAC,QAAQ;cACbe,OAAO,EAAEkM,SAAU;cACnBnO,KAAK,EAAE;gBACLC,OAAO,EAAE,UAAU;gBACnBS,eAAe,EAAE,SAAS;gBAC1BK,KAAK,EAAE,OAAO;gBACdJ,MAAM,EAAE,MAAM;gBACdC,YAAY,EAAE;cAChB,CAAE;cAAAR,QAAA,EACH;YAED;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CACN,EAEWmC,QAAQ,CAACzB,IAAI,KAAK,gBAAgB,iBAC3C1C,OAAA;UAAKwB,KAAK,EAAE;YAAEa,YAAY,EAAE;UAAO,CAAE;UAAAT,QAAA,eACnC5B,OAAA;YAAOwB,KAAK,EAAE;cAAEiE,OAAO,EAAE,MAAM;cAAEE,UAAU,EAAE;YAAS,CAAE;YAAA/D,QAAA,gBACtD5B,OAAA;cACE0C,IAAI,EAAC,UAAU;cACf+N,OAAO,EAAEtM,QAAQ,CAACpB,QAAS;cAC3BH,QAAQ,EAAG3B,CAAC,IAAKoO,WAAW,CAAC7G,IAAI,KAAK;gBAAE,GAAGA,IAAI;gBAAEzF,QAAQ,EAAE9B,CAAC,CAAC4B,MAAM,CAAC4N;cAAQ,CAAC,CAAC,CAAE;cAChFjP,KAAK,EAAE;gBAAEqC,WAAW,EAAE;cAAM;YAAE;cAAAhC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC/B,CAAC,wBAEJ;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL,CACN,EAGD,CAACmC,QAAQ,CAACzB,IAAI,KAAK,eAAe,IAAIyB,QAAQ,CAACzB,IAAI,KAAK,sBAAsB,KAAKyB,QAAQ,CAAC2K,OAAO,CAACxL,MAAM,GAAG,CAAC,iBAC7GtD,OAAA;UAAKwB,KAAK,EAAE;YAAEa,YAAY,EAAE;UAAO,CAAE;UAAAT,QAAA,gBACnC5B,OAAA;YAAOwB,KAAK,EAAE;cAAEiE,OAAO,EAAE,OAAO;cAAEpD,YAAY,EAAE,MAAM;cAAEyD,UAAU,EAAE,MAAM;cAAEvD,KAAK,EAAE;YAAU,CAAE;YAAAX,QAAA,GAAC,mDAE9F,eAAA5B,OAAA;cAAOwB,KAAK,EAAE;gBAAEiE,OAAO,EAAE,OAAO;gBAAEK,UAAU,EAAE,QAAQ;gBAAEvD,KAAK,EAAE,SAAS;gBAAED,QAAQ,EAAE,MAAM;gBAAEkB,SAAS,EAAE;cAAM,CAAE;cAAA5B,QAAA,EAAC;YAEhH;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,EAEPmC,QAAQ,CAAC2K,OAAO,CAAC9I,GAAG,CAAC,CAACgJ,MAAM,EAAE0B,WAAW,KAAK;YAC7C,MAAMC,OAAO,GAAGxM,QAAQ,CAACmL,mBAAmB,CAACzF,IAAI,CAAC+G,CAAC,IAAIA,CAAC,CAACF,WAAW,KAAKA,WAAW,CAAC;YAErF,oBACE1Q,OAAA;cAAuBwB,KAAK,EAAE;gBAC5Ba,YAAY,EAAE,MAAM;gBACpBZ,OAAO,EAAE,MAAM;gBACfU,MAAM,EAAE,mBAAmB;gBAC3BC,YAAY,EAAE,KAAK;gBACnBF,eAAe,EAAEyO,OAAO,GAAG,SAAS,GAAG;cACzC,CAAE;cAAA/O,QAAA,gBACA5B,OAAA;gBAAKwB,KAAK,EAAE;kBAAEiE,OAAO,EAAE,MAAM;kBAAEE,UAAU,EAAE,QAAQ;kBAAEtD,YAAY,EAAEsO,OAAO,GAAG,KAAK,GAAG;gBAAI,CAAE;gBAAA/O,QAAA,gBACzF5B,OAAA;kBAAMwB,KAAK,EAAE;oBACXwL,IAAI,EAAE,CAAC;oBACPlH,UAAU,EAAE,KAAK;oBACjBxD,QAAQ,EAAE;kBACZ,CAAE;kBAAAV,QAAA,GAAC,IACA,EAACoN,MAAM,EAAC,IACX;gBAAA;kBAAAnN,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,eACPhC,OAAA;kBAAOwB,KAAK,EAAE;oBAAEiE,OAAO,EAAE,MAAM;oBAAEE,UAAU,EAAE,QAAQ;oBAAEkL,UAAU,EAAE;kBAAO,CAAE;kBAAAjP,QAAA,gBAC1E5B,OAAA;oBACE0C,IAAI,EAAC,UAAU;oBACf+N,OAAO,EAAE,CAAC,CAACE,OAAQ;oBACnB/N,QAAQ,EAAG3B,CAAC,IAAK;sBACf,IAAIA,CAAC,CAAC4B,MAAM,CAAC4N,OAAO,EAAE;wBACpB;wBACApB,WAAW,CAAC7G,IAAI,KAAK;0BACnB,GAAGA,IAAI;0BACP8G,mBAAmB,EAAE,CACnB,GAAG9G,IAAI,CAAC8G,mBAAmB,EAC3B;4BACEoB,WAAW,EAAEA,WAAW;4BACxBI,UAAU,EAAE9B,MAAM;4BAClBQ,kBAAkB,EAAE,qBAAqB;4BACzCuB,YAAY,EAAE;0BAChB,CAAC;wBAEL,CAAC,CAAC,CAAC;sBACL,CAAC,MAAM;wBACL;wBACA1B,WAAW,CAAC7G,IAAI,KAAK;0BACnB,GAAGA,IAAI;0BACP8G,mBAAmB,EAAE9G,IAAI,CAAC8G,mBAAmB,CAACjK,MAAM,CAACuL,CAAC,IAAIA,CAAC,CAACF,WAAW,KAAKA,WAAW;wBACzF,CAAC,CAAC,CAAC;sBACL;oBACF,CAAE;oBACFlP,KAAK,EAAE;sBAAEqC,WAAW,EAAE;oBAAM;kBAAE;oBAAAhC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAC/B,CAAC,eACFhC,OAAA;oBAAMwB,KAAK,EAAE;sBAAEc,QAAQ,EAAE,MAAM;sBAAEC,KAAK,EAAE;oBAAU,CAAE;oBAAAX,QAAA,EAAC;kBAErD;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACF,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACL,CAAC,EAEL2O,OAAO,iBACN3Q,OAAA;gBAAKwB,KAAK,EAAE;kBAAEgC,SAAS,EAAE;gBAAM,CAAE;gBAAA5B,QAAA,gBAC/B5B,OAAA;kBACE0C,IAAI,EAAC,MAAM;kBACXC,KAAK,EAAEgO,OAAO,CAACnB,kBAAmB;kBAClC5M,QAAQ,EAAG3B,CAAC,IAAK;oBACfoO,WAAW,CAAC7G,IAAI,KAAK;sBACnB,GAAGA,IAAI;sBACP8G,mBAAmB,EAAE9G,IAAI,CAAC8G,mBAAmB,CAACtJ,GAAG,CAAC4K,CAAC,IACjDA,CAAC,CAACF,WAAW,KAAKA,WAAW,GACzB;wBAAE,GAAGE,CAAC;wBAAEpB,kBAAkB,EAAEvO,CAAC,CAAC4B,MAAM,CAACF;sBAAM,CAAC,GAC5CiO,CACN;oBACF,CAAC,CAAC,CAAC;kBACL,CAAE;kBACFpP,KAAK,EAAE;oBACLwB,KAAK,EAAE,MAAM;oBACbvB,OAAO,EAAE,SAAS;oBAClBU,MAAM,EAAE,mBAAmB;oBAC3BC,YAAY,EAAE,KAAK;oBACnBE,QAAQ,EAAE;kBACZ,CAAE;kBACFa,WAAW,EAAC;gBAAoD;kBAAAtB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACjE,CAAC,eACFhC,OAAA;kBAAOwB,KAAK,EAAE;oBAAEe,KAAK,EAAE,SAAS;oBAAED,QAAQ,EAAE;kBAAO,CAAE;kBAAAV,QAAA,EAAC;gBAEtD;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACL,CACN;YAAA,GA9EO0O,WAAW;cAAA7O,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OA+EhB,CAAC;UAEV,CAAC,CAAC,EAEDmC,QAAQ,CAACmL,mBAAmB,CAAChM,MAAM,GAAG,CAAC,iBACtCtD,OAAA;YAAKwB,KAAK,EAAE;cACVgC,SAAS,EAAE,KAAK;cAChB/B,OAAO,EAAE,UAAU;cACnBS,eAAe,EAAE,SAAS;cAC1BC,MAAM,EAAE,mBAAmB;cAC3BC,YAAY,EAAE,KAAK;cACnBE,QAAQ,EAAE,MAAM;cAChBC,KAAK,EAAE;YACT,CAAE;YAAAX,QAAA,GAAC,SACC,EAACuC,QAAQ,CAACmL,mBAAmB,CAAChM,MAAM,EAAC,mBAAS,EAACa,QAAQ,CAACmL,mBAAmB,CAAChM,MAAM,KAAK,CAAC,GAAG,GAAG,GAAG,KAAK,EAAC,SAAO,EAACa,QAAQ,CAACmL,mBAAmB,CAAChM,MAAM,KAAK,CAAC,GAAG,QAAQ,GAAG,QAAQ,EAAC,YACnL;UAAA;YAAAzB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CACN;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CACN,EAGAmC,QAAQ,CAACzB,IAAI,KAAK,QAAQ,iBACzB1C,OAAA;UAAKwB,KAAK,EAAE;YAAEa,YAAY,EAAE;UAAO,CAAE;UAAAT,QAAA,gBACnC5B,OAAA;YAAKwB,KAAK,EAAE;cAAEiE,OAAO,EAAE,MAAM;cAAEE,UAAU,EAAE,QAAQ;cAAEtD,YAAY,EAAE;YAAO,CAAE;YAAAT,QAAA,gBAC1E5B,OAAA;cACE0C,IAAI,EAAC,UAAU;cACf0E,EAAE,EAAE,WAAW,CAAAwD,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAExD,EAAE,KAAI,KAAK,EAAG;cACnCqJ,OAAO,EAAEtM,QAAQ,CAACoL,UAAU,IAAI,KAAM;cACtC3M,QAAQ,EAAG3B,CAAC,IAAKoO,WAAW,CAAC7G,IAAI,KAAK;gBAAE,GAAGA,IAAI;gBAAE+G,UAAU,EAAEtO,CAAC,CAAC4B,MAAM,CAAC4N;cAAQ,CAAC,CAAC,CAAE;cAClFjP,KAAK,EAAE;gBAAEqC,WAAW,EAAE;cAAM;YAAE;cAAAhC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC/B,CAAC,eACFhC,OAAA;cACEgR,OAAO,EAAE,WAAW,CAAApG,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAExD,EAAE,KAAI,KAAK,EAAG;cACxC5F,KAAK,EAAE;gBACLqE,UAAU,EAAE,QAAQ;gBACpBC,UAAU,EAAE,GAAG;gBACfxD,QAAQ,EAAE,MAAM;gBAChByD,UAAU,EAAE,MAAM;gBAClB7C,aAAa,EAAE,OAAO;gBACtBX,KAAK,EAAE;cACT,CAAE;cAAAX,QAAA,EACH;YAED;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACL,CAAC,EACLmC,QAAQ,CAACoL,UAAU,iBAClBvP,OAAA;YAAKwB,KAAK,EAAE;cAAEqP,UAAU,EAAE;YAAO,CAAE;YAAAjP,QAAA,eACjC5B,OAAA;cACE0C,IAAI,EAAC,MAAM;cACXS,WAAW,EAAC,uCAA+B;cAC3CR,KAAK,EAAEwB,QAAQ,CAACqL,kBAAkB,IAAI,EAAG;cACzC5M,QAAQ,EAAG3B,CAAC,IAAKoO,WAAW,CAAC7G,IAAI,KAAK;gBAAE,GAAGA,IAAI;gBAAEgH,kBAAkB,EAAEvO,CAAC,CAAC4B,MAAM,CAACF;cAAM,CAAC,CAAC,CAAE;cACxFnB,KAAK,EAAE;gBACLwB,KAAK,EAAE,MAAM;gBACbvB,OAAO,EAAE,KAAK;gBACdU,MAAM,EAAE,mBAAmB;gBAC3BC,YAAY,EAAE,KAAK;gBACnByD,UAAU,EAAE,QAAQ;gBACpBC,UAAU,EAAE,GAAG;gBACfxD,QAAQ,EAAE,MAAM;gBAChByD,UAAU,EAAE,MAAM;gBAClB7C,aAAa,EAAE;cACjB;YAAE;cAAArB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CACN;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CACN,eAEDhC,OAAA;UAAKwB,KAAK,EAAE;YAAEiE,OAAO,EAAE,MAAM;YAAEC,cAAc,EAAE,eAAe;YAAElC,SAAS,EAAE;UAAO,CAAE;UAAA5B,QAAA,gBAClF5B,OAAA;YACE0C,IAAI,EAAC,QAAQ;YACbe,OAAO,EAAEoK,QAAS;YAClBrM,KAAK,EAAE;cACLC,OAAO,EAAE,WAAW;cACpBS,eAAe,EAAE,SAAS;cAC1BK,KAAK,EAAE,OAAO;cACdJ,MAAM,EAAE,MAAM;cACdC,YAAY,EAAE;YAChB,CAAE;YAAAR,QAAA,EACH;UAED;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACThC,OAAA;YACE0C,IAAI,EAAC,QAAQ;YACblB,KAAK,EAAE;cACLC,OAAO,EAAE,WAAW;cACpBS,eAAe,EAAE,SAAS;cAC1BK,KAAK,EAAE,OAAO;cACdJ,MAAM,EAAE,MAAM;cACdC,YAAY,EAAE;YAChB,CAAE;YAAAR,QAAA,EAEDgJ,IAAI,GAAG,cAAc,GAAG;UAAa;YAAA/I,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAChC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACF,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACJ;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAACoN,GAAA,CAnYIzB,gBAAgB;AAAAsD,GAAA,GAAhBtD,gBAAgB;AAqYtB,MAAMF,aAAa,GAAGA,CAAC;EAAE9F,MAAM;EAAE+F;AAAQ,CAAC,KAAK;EAAAwD,GAAA;EAAA,IAAAC,GAAA,GAAAC,YAAA;EAC7C,MAAM,CAACC,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGpS,KAAK,CAACC,QAAQ,CAAC,CAAC,CAAC;EACjE,MAAM,CAACoS,cAAc,EAAEC,iBAAiB,CAAC,GAAGtS,KAAK,CAACC,QAAQ,CAAC,CAAC,CAAC,CAAC;EAC9D,MAAM,CAACsS,cAAc,EAAEC,iBAAiB,CAAC,GAAGxS,KAAK,CAACC,QAAQ,CAAC,CAAC,CAAC,CAAC;EAC9D,MAAM,CAACwS,kBAAkB,EAAEC,qBAAqB,CAAC,GAAG1S,KAAK,CAACC,QAAQ,CAAC,KAAK,CAAC;EACzE,MAAM,CAAC0S,iBAAiB,EAAEC,oBAAoB,CAAC,GAAG5S,KAAK,CAACC,QAAQ,CAAC,KAAK,CAAC;EACvE,MAAM,CAAC4S,qBAAqB,EAAEC,wBAAwB,CAAC,GAAG9S,KAAK,CAACC,QAAQ,CAAC,KAAK,CAAC;EAE/E,MAAM8S,UAAU,GAAGA,CAAC;IAAEC,QAAQ;IAAEC,KAAK,GAAG,SAAS;IAAEC,IAAI,GAAG,EAAE;IAAE5Q,KAAK,GAAG,CAAC;EAAE,CAAC,KAAK;IAAA2P,GAAA;IAC7E,MAAM,CAACkB,YAAY,EAAEC,eAAe,CAAC,GAAGpT,KAAK,CAACC,QAAQ,CAACgT,KAAK,CAAC;IAE7D,MAAMI,WAAW,GAAGA,CAAA,KAAM;MACxB,MAAMC,WAAW,GAAGH,YAAY,KAAK,QAAQ,GAAG,aAAa,GAC1CA,YAAY,KAAK,OAAO,GAAG,YAAY,GAAG,cAAc;MAC3E,OAAO,UAAUG,WAAW,IAAIN,QAAQ,MAAM;IAChD,CAAC;IAED,oBACElS,OAAA;MACEyS,GAAG,EAAEF,WAAW,CAAC,CAAE;MACnBG,GAAG,EAAER,QAAS;MACdlP,KAAK,EAAEoP,IAAK;MACZO,MAAM,EAAEP,IAAK;MACb5Q,KAAK,EAAE;QACLmC,MAAM,EAAE,SAAS;QACjBgL,UAAU,EAAE,eAAe;QAC3B,GAAGnN;MACL,CAAE;MACFoR,YAAY,EAAEA,CAAA,KAAMN,eAAe,CAAC,OAAO,CAAE;MAC7CO,YAAY,EAAEA,CAAA,KAAMP,eAAe,CAACH,KAAK,CAAE;MAC3C1O,OAAO,EAAEA,CAAA,KAAM6O,eAAe,CAAC,QAAQ;IAAE;MAAAzQ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC1C,CAAC;EAEN,CAAC;;EAED;EAAAmP,GAAA,CA3BMc,UAAU;EA4BhB,MAAMa,oBAAoB,GAAGA,CAAA,KAAM;IACjC,IAAI,CAACnL,MAAM,CAACR,KAAK,EAAE,OAAO,EAAE;IAC5B,OAAOQ,MAAM,CAACR,KAAK,CAAC9B,MAAM,CAACoD,IAAI,IAAIA,IAAI,CAAClB,KAAK,IAAIkB,IAAI,CAAClB,KAAK,CAACjE,MAAM,GAAG,CAAC,CAAC;EACzE,CAAC;EAED,MAAMyP,0BAA0B,GAAGA,CAAA,KAAM;IACvC,IAAI,CAACpL,MAAM,CAACR,KAAK,EAAE,OAAO,EAAE;IAC5B,OAAOQ,MAAM,CAACR,KAAK,CAAC9B,MAAM,CAACoD,IAAI,IAAIA,IAAI,CAAClB,KAAK,IAAIkB,IAAI,CAAClB,KAAK,CAACjE,MAAM,GAAG,CAAC,IAAI,CAACmF,IAAI,CAACjB,QAAQ,CAAC;EAC3F,CAAC;EAED,MAAMwL,iBAAiB,GAAGF,oBAAoB,CAAC,CAAC;EAChD,MAAMG,cAAc,GAAGF,0BAA0B,CAAC,CAAC;EACnD,MAAMG,UAAU,GAAGD,cAAc,CAAC3P,MAAM,CAAC,CAAC;EAC1C,MAAM6P,WAAW,GAAGH,iBAAiB,CAAC3B,gBAAgB,CAAC,CAAC,CAAC;EACzD,MAAM+B,aAAa,GAAGD,WAAW,GAAGA,WAAW,CAAC5L,KAAK,GAAG,EAAE;EAC1D,MAAM8L,YAAY,GAAGF,WAAW,GAAGA,WAAW,CAAC3L,QAAQ,GAAG,KAAK;EAE/D,MAAM8L,kBAAkB,GAAI1I,IAAI,IAAK;IACnC;IACA,MAAM2I,WAAW,GAAG,CAAC,gBAAgB,EAAE,aAAa,EAAE,eAAe,EAAE,aAAa,EAAE,aAAa,CAAC;IACpG,MAAMC,OAAO,GAAG,QAAQ5I,IAAI,CAACxD,EAAE,IAAIqM,IAAI,CAACC,MAAM,CAAC,CAAC,EAAE;IAClD,MAAMC,cAAc,GAAGpC,cAAc,CAACiC,OAAO,CAAC;IAE9C,oBACExT,OAAA;MAAKwB,KAAK,EAAE;QAAEyB,SAAS,EAAE,QAAQ;QAAEZ,YAAY,EAAE;MAAO,CAAE;MAAAT,QAAA,gBACxD5B,OAAA;QAAKwB,KAAK,EAAE;UAAEiE,OAAO,EAAE,MAAM;UAAEC,cAAc,EAAE,cAAc;UAAErD,YAAY,EAAE;QAAO,CAAE;QAAAT,QAAA,EACnF2R,WAAW,CAACvN,GAAG,CAAC,CAACkM,QAAQ,EAAExH,KAAK,KAAK;UACpC,MAAMkJ,UAAU,GAAGD,cAAc,KAAKjJ,KAAK;UAC3C,MAAMmJ,SAAS,GAAGD,UAAU,GAAG,QAAQ,GAAG,SAAS;UAEnD,oBACE5T,OAAA;YAEEwB,KAAK,EAAE;cACLyB,SAAS,EAAE,QAAQ;cACnBU,MAAM,EAAE,SAAS;cACjBJ,OAAO,EAAEqQ,UAAU,GAAG,CAAC,GAAG,GAAG;cAC7BhF,SAAS,EAAEgF,UAAU,GAAG,YAAY,GAAG,UAAU;cACjDjF,UAAU,EAAE;YACd,CAAE;YACFlL,OAAO,EAAEA,CAAA,KAAM;cACb+N,iBAAiB,CAAChJ,IAAI,KAAK;gBACzB,GAAGA,IAAI;gBACP,CAACgL,OAAO,GAAG9I;cACb,CAAC,CAAC,CAAC;YACL,CAAE;YACFkI,YAAY,EAAG3R,CAAC,IAAK;cACnB,IAAI,CAAC2S,UAAU,EAAE;gBACf3S,CAAC,CAACgL,aAAa,CAACzK,KAAK,CAAC+B,OAAO,GAAG,KAAK;cACvC;YACF,CAAE;YACFsP,YAAY,EAAG5R,CAAC,IAAK;cACnB,IAAI,CAAC2S,UAAU,EAAE;gBACf3S,CAAC,CAACgL,aAAa,CAACzK,KAAK,CAAC+B,OAAO,GAAG,KAAK;cACvC;YACF,CAAE;YAAA3B,QAAA,eAEF5B,OAAA;cAAA4B,QAAA,eACE5B,OAAA,CAACiS,UAAU;gBAACC,QAAQ,EAAEA,QAAS;gBAACC,KAAK,EAAE0B,SAAU;gBAACzB,IAAI,EAAE;cAAG;gBAAAvQ,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC3D;UAAC,GA3BD0I,KAAK;YAAA7I,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OA4BP,CAAC;QAEV,CAAC;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,EAGL4I,IAAI,CAAC2E,UAAU,iBACdvP,OAAA;QAAKwB,KAAK,EAAE;UAAEgC,SAAS,EAAE;QAAO,CAAE;QAAA5B,QAAA,gBAChC5B,OAAA;UAAKwB,KAAK,EAAE;YACVwB,KAAK,EAAE,OAAO;YACd2J,SAAS,EAAE,MAAM;YACjBlL,OAAO,EAAE,WAAW;YACpBmE,GAAG,EAAE,KAAK;YACVxD,YAAY,EAAE,KAAK;YACnBD,MAAM,EAAE,mBAAmB;YAC3BD,eAAe,EAAE;UACnB,CAAE;UAAAN,QAAA,eACA5B,OAAA;YACE0C,IAAI,EAAC,MAAM;YACXS,WAAW,EAAEyH,IAAI,CAAC4E,kBAAkB,IAAI,oCAAqC;YAC7E7M,KAAK,EAAE4O,cAAc,CAAC,GAAGiC,OAAO,UAAU,CAAC,IAAI,EAAG;YAClD5Q,QAAQ,EAAG3B,CAAC,IAAKuQ,iBAAiB,CAAChJ,IAAI,KAAK;cAC1C,GAAGA,IAAI;cACP,CAAC,GAAGgL,OAAO,UAAU,GAAGvS,CAAC,CAAC4B,MAAM,CAACF;YACnC,CAAC,CAAC,CAAE;YACJnB,KAAK,EAAE;cACLwB,KAAK,EAAE,MAAM;cACbb,MAAM,EAAE,MAAM;cACd2R,OAAO,EAAE,MAAM;cACfjO,UAAU,EAAE,QAAQ;cACpBC,UAAU,EAAE,GAAG;cACfxD,QAAQ,EAAE,MAAM;cAChByD,UAAU,EAAE,MAAM;cAClB7C,aAAa,EAAE,OAAO;cACtBX,KAAK,EAAE,SAAS;cAChBL,eAAe,EAAE;YACnB;UAAE;YAAAL,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eACNhC,OAAA;UAAKwB,KAAK,EAAE;YACVgC,SAAS,EAAE,KAAK;YAChBqC,UAAU,EAAE,QAAQ;YACpBC,UAAU,EAAE,GAAG;YACfxD,QAAQ,EAAE,MAAM;YAChByD,UAAU,EAAE,MAAM;YAClB7C,aAAa,EAAE,OAAO;YACtBX,KAAK,EAAE,SAAS;YAChBwR,SAAS,EAAE,QAAQ;YACnB9Q,SAAS,EAAE;UACb,CAAE;UAAArB,QAAA,EAAC;QAEH;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CACN;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC;EAEV,CAAC;EAED,MAAMgS,kBAAkB,GAAIpJ,IAAI,IAAK;IACnC,MAAM4I,OAAO,GAAG,QAAQ5I,IAAI,CAACxD,EAAE,IAAIqM,IAAI,CAACC,MAAM,CAAC,CAAC,EAAE;IAClD,oBACE1T,OAAA;MAAKwB,KAAK,EAAE;QAAEa,YAAY,EAAE,MAAM;QAAEmB,SAAS,EAAE;MAAO,CAAE;MAAA5B,QAAA,EACrDgJ,IAAI,CAACkE,OAAO,CAAC9I,GAAG,CAAC,CAACgJ,MAAM,EAAEtE,KAAK,KAAK;QAAA,IAAAuJ,qBAAA;QACnC,MAAMtD,OAAO,IAAAsD,qBAAA,GAAGrJ,IAAI,CAAC0E,mBAAmB,cAAA2E,qBAAA,uBAAxBA,qBAAA,CAA0BpK,IAAI,CAAC+G,CAAC,IAAIA,CAAC,CAACF,WAAW,KAAKhG,KAAK,CAAC;QAC5E,MAAMkJ,UAAU,GAAGrC,cAAc,CAACiC,OAAO,CAAC,KAAK9I,KAAK;QAEpD,oBACE1K,OAAA;UAAA4B,QAAA,gBACE5B,OAAA;YAAOwB,KAAK,EAAE;cACZ0S,WAAW,EAAE,MAAM;cACnBzO,OAAO,EAAE,OAAO;cAChBpD,YAAY,EAAE,MAAM;cACpBsB,MAAM,EAAE,SAAS;cACjBkC,UAAU,EAAE,oBAAoB;cAChCC,UAAU,EAAE,GAAG;cACfxD,QAAQ,EAAE,MAAM;cAChByD,UAAU,EAAE,MAAM;cAClB7C,aAAa,EAAE,OAAO;cACtBX,KAAK,EAAE;YACT,CAAE;YAAAX,QAAA,gBACA5B,OAAA;cAAKwB,KAAK,EAAE;gBACVqL,QAAQ,EAAE,UAAU;gBACpBpH,OAAO,EAAE,cAAc;gBACvB5B,WAAW,EAAE;cACf,CAAE;cAAAjC,QAAA,gBACA5B,OAAA;gBACE0C,IAAI,EAAC,OAAO;gBACZgC,IAAI,EAAE8O,OAAQ;gBACd7Q,KAAK,EAAE+H,KAAM;gBACb+F,OAAO,EAAEmD,UAAW;gBACpBhR,QAAQ,EAAG3B,CAAC,IAAKuQ,iBAAiB,CAAChJ,IAAI,KAAK;kBAC1C,GAAGA,IAAI;kBACP,CAACgL,OAAO,GAAGW,QAAQ,CAAClT,CAAC,CAAC4B,MAAM,CAACF,KAAK;gBACpC,CAAC,CAAC,CAAE;gBACJnB,KAAK,EAAE;kBACLwB,KAAK,EAAE,MAAM;kBACb2P,MAAM,EAAE,MAAM;kBACdvQ,YAAY,EAAE,MAAM;kBACpBD,MAAM,EAAE,YAAY,IAAIyR,UAAU,GAAG,SAAS,GAAG,SAAS,CAAC;kBAC3D1R,eAAe,EAAE,SAAS;kBAC1BkS,UAAU,EAAE,MAAM;kBAClBzQ,MAAM,EAAE,SAAS;kBACjBkJ,QAAQ,EAAE;gBACZ;cAAE;gBAAAhL,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC,EACD4R,UAAU,iBACT5T,OAAA;gBAAKwB,KAAK,EAAE;kBACVqL,QAAQ,EAAE,UAAU;kBACpBkD,GAAG,EAAE,KAAK;kBACVC,IAAI,EAAE,KAAK;kBACXhN,KAAK,EAAE,MAAM;kBACb2P,MAAM,EAAE,MAAM;kBACdvQ,YAAY,EAAE,KAAK;kBACnBF,eAAe,EAAE,SAAS;kBAC1BmS,aAAa,EAAE;gBACjB;cAAE;gBAAAxS,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CACL;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACE,CAAC,EACLgN,MAAM;UAAA;YAAAnN,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACF,CAAC,EAGP2O,OAAO,IAAIiD,UAAU,iBACpB5T,OAAA;YAAKwB,KAAK,EAAE;cAAEqP,UAAU,EAAE,KAAK;cAAErN,SAAS,EAAE,MAAM;cAAEnB,YAAY,EAAE;YAAO,CAAE;YAAAT,QAAA,gBACzE5B,OAAA;cAAKwB,KAAK,EAAE;gBACVwB,KAAK,EAAE,OAAO;gBACd2J,SAAS,EAAE,MAAM;gBACjB/G,GAAG,EAAE,KAAK;gBACV0O,UAAU,EAAE,MAAM;gBAClBC,YAAY,EAAE,KAAK;gBACnBC,aAAa,EAAE,MAAM;gBACrBN,WAAW,EAAE,KAAK;gBAClB9R,YAAY,EAAE,KAAK;gBACnBD,MAAM,EAAE;cACV,CAAE;cAAAP,QAAA,eACA5B,OAAA;gBACE0C,IAAI,EAAC,MAAM;gBACXlB,KAAK,EAAE;kBACLwB,KAAK,EAAE,MAAM;kBACb2P,MAAM,EAAE,MAAM;kBACdxQ,MAAM,EAAE,MAAM;kBACd2R,OAAO,EAAE,MAAM;kBACfjO,UAAU,EAAE,oBAAoB;kBAChCC,UAAU,EAAE,GAAG;kBACfxD,QAAQ,EAAE,MAAM;kBAChByD,UAAU,EAAE,MAAM;kBAClB7C,aAAa,EAAE,OAAO;kBACtBhB,eAAe,EAAE;gBACnB,CAAE;gBACFiB,WAAW,EAAEwN,OAAO,CAACnB,kBAAkB,IAAI;cAAsB;gBAAA3N,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAClE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CAAC,eACNhC,OAAA;cAAKwB,KAAK,EAAE;gBACVgC,SAAS,EAAE;cACb,CAAE;cAAA5B,QAAA,eACA5B,OAAA;gBAAOwB,KAAK,EAAE;kBACZqE,UAAU,EAAE,oBAAoB;kBAChCC,UAAU,EAAE,GAAG;kBACfiO,SAAS,EAAE,QAAQ;kBACnBzR,QAAQ,EAAE,MAAM;kBAChByD,UAAU,EAAE,MAAM;kBAClB7C,aAAa,EAAE,OAAO;kBACtBX,KAAK,EAAE,SAAS;kBAChBU,SAAS,EAAE;gBACb,CAAE;gBAAArB,QAAA,EACC+O,OAAO,CAACI,YAAY,IAAI;cAAgB;gBAAAlP,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACpC;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACL,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CACN;QAAA,GAtGO0I,KAAK;UAAA7I,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAuGV,CAAC;MAEV,CAAC;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC;EAEV,CAAC;EAED,MAAMyS,iBAAiB,GAAI7J,IAAI,IAAK;IAClC,MAAM4I,OAAO,GAAG,QAAQ5I,IAAI,CAACxD,EAAE,IAAIqM,IAAI,CAACC,MAAM,CAAC,CAAC,EAAE;IAClD,MAAMgB,eAAe,GAAGnD,cAAc,CAACiC,OAAO,CAAC,IAAI,EAAE;IAErD,oBACExT,OAAA;MAAKwB,KAAK,EAAE;QAAEa,YAAY,EAAE,MAAM;QAAEmB,SAAS,EAAE;MAAO,CAAE;MAAA5B,QAAA,EACrDgJ,IAAI,CAACkE,OAAO,CAAC9I,GAAG,CAAC,CAACgJ,MAAM,EAAEtE,KAAK,KAAK;QAAA,IAAAiK,sBAAA;QACnC,MAAMhE,OAAO,IAAAgE,sBAAA,GAAG/J,IAAI,CAAC0E,mBAAmB,cAAAqF,sBAAA,uBAAxBA,sBAAA,CAA0B9K,IAAI,CAAC+G,CAAC,IAAIA,CAAC,CAACF,WAAW,KAAKhG,KAAK,CAAC;QAC5E,MAAMkJ,UAAU,GAAGc,eAAe,CAACE,QAAQ,CAAClK,KAAK,CAAC;QAElD,oBACE1K,OAAA;UAAA4B,QAAA,gBACE5B,OAAA;YAAOwB,KAAK,EAAE;cACZ0S,WAAW,EAAE,MAAM;cACnBzO,OAAO,EAAE,OAAO;cAChBpD,YAAY,EAAE,MAAM;cACpBsB,MAAM,EAAE,SAAS;cACjBkC,UAAU,EAAE,oBAAoB;cAChCC,UAAU,EAAE,GAAG;cACfxD,QAAQ,EAAE,MAAM;cAChByD,UAAU,EAAE,MAAM;cAClB7C,aAAa,EAAE,OAAO;cACtBX,KAAK,EAAE;YACT,CAAE;YAAAX,QAAA,gBACA5B,OAAA;cAAKwB,KAAK,EAAE;gBACVqL,QAAQ,EAAE,UAAU;gBACpBpH,OAAO,EAAE,cAAc;gBACvB5B,WAAW,EAAE;cACf,CAAE;cAAAjC,QAAA,gBACA5B,OAAA;gBACE0C,IAAI,EAAC,UAAU;gBACf+N,OAAO,EAAEmD,UAAW;gBACpBhR,QAAQ,EAAG3B,CAAC,IAAK;kBACfuQ,iBAAiB,CAAChJ,IAAI,IAAI;oBACxB,MAAMqM,eAAe,GAAGrM,IAAI,CAACgL,OAAO,CAAC,IAAI,EAAE;oBAC3C,IAAIvS,CAAC,CAAC4B,MAAM,CAAC4N,OAAO,EAAE;sBACpB,OAAO;wBAAE,GAAGjI,IAAI;wBAAE,CAACgL,OAAO,GAAG,CAAC,GAAGqB,eAAe,EAAEnK,KAAK;sBAAE,CAAC;oBAC5D,CAAC,MAAM;sBACL,OAAO;wBAAE,GAAGlC,IAAI;wBAAE,CAACgL,OAAO,GAAGqB,eAAe,CAACxP,MAAM,CAAC4J,CAAC,IAAIA,CAAC,KAAKvE,KAAK;sBAAE,CAAC;oBACzE;kBACF,CAAC,CAAC;gBACJ,CAAE;gBACFlJ,KAAK,EAAE;kBACLwB,KAAK,EAAE,MAAM;kBACb2P,MAAM,EAAE,MAAM;kBACdvQ,YAAY,EAAE,KAAK;kBACnBD,MAAM,EAAE,YAAY,IAAIyR,UAAU,GAAG,SAAS,GAAG,SAAS,CAAC;kBAC3D1R,eAAe,EAAE0R,UAAU,GAAG,SAAS,GAAG,SAAS;kBACnDQ,UAAU,EAAE,MAAM;kBAClBzQ,MAAM,EAAE,SAAS;kBACjBkJ,QAAQ,EAAE;gBACZ;cAAE;gBAAAhL,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC,EACD4R,UAAU,iBACT5T,OAAA;gBAAKwB,KAAK,EAAE;kBACVqL,QAAQ,EAAE,UAAU;kBACpBkD,GAAG,EAAE,KAAK;kBACVC,IAAI,EAAE,KAAK;kBACXhN,KAAK,EAAE,MAAM;kBACb2P,MAAM,EAAE,KAAK;kBACbmC,UAAU,EAAE,mBAAmB;kBAC/BtP,YAAY,EAAE,mBAAmB;kBACjCoJ,SAAS,EAAE,gBAAgB;kBAC3ByF,aAAa,EAAE;gBACjB;cAAE;gBAAAxS,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CACL;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACE,CAAC,EACLgN,MAAM;UAAA;YAAAnN,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACF,CAAC,EAGP2O,OAAO,IAAIiD,UAAU,iBACpB5T,OAAA;YAAKwB,KAAK,EAAE;cAAEqP,UAAU,EAAE,KAAK;cAAErN,SAAS,EAAE,MAAM;cAAEnB,YAAY,EAAE;YAAO,CAAE;YAAAT,QAAA,gBACzE5B,OAAA;cAAKwB,KAAK,EAAE;gBACVwB,KAAK,EAAE,OAAO;gBACd2J,SAAS,EAAE,MAAM;gBACjB/G,GAAG,EAAE,KAAK;gBACV0O,UAAU,EAAE,MAAM;gBAClBC,YAAY,EAAE,KAAK;gBACnBC,aAAa,EAAE,MAAM;gBACrBN,WAAW,EAAE,KAAK;gBAClB9R,YAAY,EAAE,KAAK;gBACnBD,MAAM,EAAE;cACV,CAAE;cAAAP,QAAA,eACA5B,OAAA;gBACE0C,IAAI,EAAC,MAAM;gBACXlB,KAAK,EAAE;kBACLwB,KAAK,EAAE,MAAM;kBACb2P,MAAM,EAAE,MAAM;kBACdxQ,MAAM,EAAE,MAAM;kBACd2R,OAAO,EAAE,MAAM;kBACfjO,UAAU,EAAE,oBAAoB;kBAChCC,UAAU,EAAE,GAAG;kBACfxD,QAAQ,EAAE,MAAM;kBAChByD,UAAU,EAAE,MAAM;kBAClB7C,aAAa,EAAE,OAAO;kBACtBhB,eAAe,EAAE;gBACnB,CAAE;gBACFiB,WAAW,EAAEwN,OAAO,CAACnB,kBAAkB,IAAI;cAAsB;gBAAA3N,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAClE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CAAC,eACNhC,OAAA;cAAKwB,KAAK,EAAE;gBACVgC,SAAS,EAAE;cACb,CAAE;cAAA5B,QAAA,eACA5B,OAAA;gBAAOwB,KAAK,EAAE;kBACZqE,UAAU,EAAE,oBAAoB;kBAChCC,UAAU,EAAE,GAAG;kBACfiO,SAAS,EAAE,QAAQ;kBACnBzR,QAAQ,EAAE,MAAM;kBAChByD,UAAU,EAAE,MAAM;kBAClB7C,aAAa,EAAE,OAAO;kBACtBX,KAAK,EAAE,SAAS;kBAChBU,SAAS,EAAE;gBACb,CAAE;gBAAArB,QAAA,EACC+O,OAAO,CAACI,YAAY,IAAI;cAAgB;gBAAAlP,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACpC;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACL,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CACN;QAAA,GA3GO0I,KAAK;UAAA7I,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OA4GV,CAAC;MAEV,CAAC;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC;EAEV,CAAC;EAED,MAAM+S,eAAe,GAAInK,IAAI,iBAC3B5K,OAAA;IAAKwB,KAAK,EAAE;MAAEa,YAAY,EAAE;IAAO,CAAE;IAAAT,QAAA,eACnC5B,OAAA;MACEqD,QAAQ;MACR7B,KAAK,EAAE;QACLwB,KAAK,EAAE,MAAM;QACb2J,SAAS,EAAE,OAAO;QAClBlL,OAAO,EAAE,MAAM;QACfU,MAAM,EAAE,mBAAmB;QAC3BC,YAAY,EAAE,KAAK;QACnBwK,MAAM,EAAE,UAAU;QAClB/G,UAAU,EAAE,oBAAoB;QAChCC,UAAU,EAAE,GAAG;QACfxD,QAAQ,EAAE,MAAM;QAChByD,UAAU,EAAE,MAAM;QAClB7C,aAAa,EAAE;MACjB,CAAE;MACFC,WAAW,EAAC;IAAkB;MAAAtB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC/B;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACC,CACN;EAED,MAAMgT,iBAAiB,GAAIpK,IAAI,iBAC7B5K,OAAA;IAAKwB,KAAK,EAAE;MAAEa,YAAY,EAAE;IAAO,CAAE;IAAAT,QAAA,gBACnC5B,OAAA;MAAKwB,KAAK,EAAE;QAAEiE,OAAO,EAAE,MAAM;QAAEC,cAAc,EAAE,eAAe;QAAEC,UAAU,EAAE,QAAQ;QAAEtD,YAAY,EAAE;MAAO,CAAE;MAAAT,QAAA,EAC1GgJ,IAAI,CAACkE,OAAO,CAAC9I,GAAG,CAAC,CAACiP,MAAM,EAAEvK,KAAK,kBAC9B1K,OAAA;QAAiBwB,KAAK,EAAE;UAAEyB,SAAS,EAAE,QAAQ;UAAEU,MAAM,EAAE;QAAU,CAAE;QAAA/B,QAAA,eACjE5B,OAAA;UAAKwB,KAAK,EAAE;YACVwB,KAAK,EAAE,MAAM;YACb2P,MAAM,EAAE,MAAM;YACdxQ,MAAM,EAAE,mBAAmB;YAC3BC,YAAY,EAAE,KAAK;YACnBqD,OAAO,EAAE,MAAM;YACfE,UAAU,EAAE,QAAQ;YACpBD,cAAc,EAAE,QAAQ;YACxBpD,QAAQ,EAAE,MAAM;YAChBwD,UAAU,EAAE,MAAM;YAClBvD,KAAK,EAAE,SAAS;YAChBsD,UAAU,EAAE;UACd,CAAE;UAAAjE,QAAA,EACCqT;QAAM;UAAApT,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACJ;MAAC,GAfE0I,KAAK;QAAA7I,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAgBV,CACN;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC,eACNhC,OAAA;MAAKwB,KAAK,EAAE;QACViE,OAAO,EAAE,MAAM;QACfC,cAAc,EAAE,eAAe;QAC/BG,UAAU,EAAE,oBAAoB;QAChCC,UAAU,EAAE,GAAG;QACfxD,QAAQ,EAAE,MAAM;QAChByD,UAAU,EAAE,MAAM;QAClB7C,aAAa,EAAE,OAAO;QACtBX,KAAK,EAAE;MACT,CAAE;MAAAX,QAAA,gBACA5B,OAAA;QAAA4B,QAAA,EAAM;MAAQ;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eACrBhC,OAAA;QAAA4B,QAAA,EAAM;MAAQ;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAClB,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CACN;EAED,MAAMkT,mBAAmB,GAAItK,IAAI,iBAC/B5K,OAAA;IAAKwB,KAAK,EAAE;MACVa,YAAY,EAAE;IAChB,CAAE;IAAAT,QAAA,eACA5B,OAAA;MAAIwB,KAAK,EAAE;QACTG,MAAM,EAAE,CAAC;QACTY,KAAK,EAAE,SAAS;QAChBsD,UAAU,EAAE,oBAAoB;QAChCC,UAAU,EAAE,GAAG;QACfxD,QAAQ,EAAE,MAAM;QAChByD,UAAU,EAAE,MAAM;QAClB7C,aAAa,EAAE;MACjB,CAAE;MAAAtB,QAAA,EACCgJ,IAAI,CAACnD;IAAQ;MAAA5F,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACZ;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACF,CACN;EAED,MAAMmT,yBAAyB,GAAIvK,IAAI,IAAK;IAC1C,MAAM4I,OAAO,GAAG,QAAQ5I,IAAI,CAACxD,EAAE,IAAIqM,IAAI,CAACC,MAAM,CAAC,CAAC,EAAE;IAClD,MAAMgB,eAAe,GAAGnD,cAAc,CAACiC,OAAO,CAAC,IAAI,EAAE;IACrD,MAAM4B,MAAM,GAAG3D,cAAc,CAAC+B,OAAO,CAAC,IAAI,KAAK;IAE/C,MAAM6B,cAAc,GAAGA,CAAA,KAAM;MAC3B3D,iBAAiB,CAAClJ,IAAI,KAAK;QACzB,GAAGA,IAAI;QACP,CAACgL,OAAO,GAAG,CAAChL,IAAI,CAACgL,OAAO;MAC1B,CAAC,CAAC,CAAC;IACL,CAAC;IAED,oBACExT,OAAA;MAAKwB,KAAK,EAAE;QAAEa,YAAY,EAAE,MAAM;QAAEwK,QAAQ,EAAE;MAAW,CAAE;MAAAjL,QAAA,gBAEzD5B,OAAA;QACEyD,OAAO,EAAE4R,cAAe;QACxB7T,KAAK,EAAE;UACLqL,QAAQ,EAAE,UAAU;UACpB7J,KAAK,EAAE,OAAO;UACd2P,MAAM,EAAE,MAAM;UACd2B,UAAU,EAAE,KAAK;UACjBE,aAAa,EAAE,KAAK;UACpBN,WAAW,EAAE,MAAM;UACnBK,YAAY,EAAE,MAAM;UACpBnS,YAAY,EAAE,KAAK;UACnBkT,WAAW,EAAE,KAAK;UAClBC,WAAW,EAAE,OAAO;UACpBC,WAAW,EAAE,SAAS;UACtBtT,eAAe,EAAE,OAAO;UACxByB,MAAM,EAAE,SAAS;UACjB8B,OAAO,EAAE,MAAM;UACfE,UAAU,EAAE,QAAQ;UACpBE,UAAU,EAAE,QAAQ;UACpBC,UAAU,EAAE,GAAG;UACfxD,QAAQ,EAAE,MAAM;UAChByD,UAAU,EAAE,MAAM;UAClB7C,aAAa,EAAE,OAAO;UACtBX,KAAK,EAAE;QACT,CAAE;QAAAX,QAAA,gBACF5B,OAAA;UAAMwB,KAAK,EAAE;YAAEwL,IAAI,EAAE;UAAE,CAAE;UAAApL,QAAA,EACtB8S,eAAe,CAACpR,MAAM,KAAK,CAAC,GAAG,qBAAqB,GACpDoR,eAAe,CAACpR,MAAM,KAAK,CAAC,GAAG,GAAGoR,eAAe,CAACpR,MAAM,kBAAkB,GAC1EoR,eAAe,CAACpR,MAAM,IAAI,CAAC,GAAG,GAAGoR,eAAe,CAACpR,MAAM,mBAAmB,GAC1E,GAAGoR,eAAe,CAACpR,MAAM;QAAmB;UAAAzB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACzC,CAAC,eAGPhC,OAAA;UAAKwB,KAAK,EAAE;YACVqL,QAAQ,EAAE,UAAU;YACpBoD,KAAK,EAAE,MAAM;YACbrB,SAAS,EAAE,kBAAkB;YAC7B5L,KAAK,EAAE,MAAM;YACb2P,MAAM,EAAE;UACV,CAAE;UAAA/Q,QAAA,eACA5B,OAAA;YAAKgD,KAAK,EAAC,IAAI;YAAC2P,MAAM,EAAC,GAAG;YAAC8C,OAAO,EAAC,UAAU;YAACC,IAAI,EAAC,MAAM;YAACC,KAAK,EAAC,4BAA4B;YAAA/T,QAAA,eAC1F5B,OAAA;cAAM4V,QAAQ,EAAC,SAAS;cAACC,QAAQ,EAAC,SAAS;cAACC,CAAC,EAAC,6VAA6V;cAACJ,IAAI,EAAC;YAAS;cAAA7T,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAC;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACzZ;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,EAGLoT,MAAM,iBACLpV,OAAA;QAAKwB,KAAK,EAAE;UACVqL,QAAQ,EAAE,UAAU;UACpBkD,GAAG,EAAE,MAAM;UACXC,IAAI,EAAE,CAAC;UACPhN,KAAK,EAAE,OAAO;UACdmN,MAAM,EAAE,IAAI;UACZjO,eAAe,EAAE,OAAO;UACxBC,MAAM,EAAE,mBAAmB;UAC3BC,YAAY,EAAE,KAAK;UACnBgO,SAAS,EAAE,OAAO;UAClB2F,SAAS,EAAE,MAAM;UACjBrH,SAAS,EAAE;QACb,CAAE;QAAA9M,QAAA,EACC,CAACgJ,IAAI,CAACkE,OAAO,IAAI,EAAE,EAAE9I,GAAG,CAAC,CAACgJ,MAAM,EAAEtE,KAAK,kBACtC1K,OAAA;UAEmByD,OAAO,EAAEA,CAAA,KAAM;YAC7B,IAAI,CAACiR,eAAe,CAACE,QAAQ,CAAC5F,MAAM,CAAC,EAAE;cACrCwC,iBAAiB,CAAChJ,IAAI,KAAK;gBACzB,GAAGA,IAAI;gBACP,CAACgL,OAAO,GAAG,CAAC,GAAGkB,eAAe,EAAE1F,MAAM;cACxC,CAAC,CAAC,CAAC;YACL;YACA0C,iBAAiB,CAAClJ,IAAI,KAAK;cACzB,GAAGA,IAAI;cACP,CAACgL,OAAO,GAAG;YACb,CAAC,CAAC,CAAC;UACL,CAAE;UACHhS,KAAK,EAAE;YACLC,OAAO,EAAE,UAAU;YACnBkC,MAAM,EAAE+Q,eAAe,CAACE,QAAQ,CAAC5F,MAAM,CAAC,GAAG,aAAa,GAAG,SAAS;YACpEnJ,UAAU,EAAE,QAAQ;YACpBC,UAAU,EAAE,GAAG;YACfxD,QAAQ,EAAE,MAAM;YAChByD,UAAU,EAAE,MAAM;YAClB7C,aAAa,EAAE,OAAO;YACtBX,KAAK,EAAEmS,eAAe,CAACE,QAAQ,CAAC5F,MAAM,CAAC,GAAG,SAAS,GAAG,SAAS;YAC/D9M,eAAe,EAAEwS,eAAe,CAACE,QAAQ,CAAC5F,MAAM,CAAC,GAAG,SAAS,GAAG,OAAO;YACvExJ,YAAY,EAAEkF,KAAK,GAAG,CAACE,IAAI,CAACkE,OAAO,IAAI,EAAE,EAAExL,MAAM,GAAG,CAAC,GAAG,mBAAmB,GAAG;UAChF,CAAE;UACFsP,YAAY,EAAG3R,CAAC,IAAK;YACnB,IAAI,CAACyT,eAAe,CAACE,QAAQ,CAAC5F,MAAM,CAAC,EAAE;cACrC/N,CAAC,CAAC4B,MAAM,CAACrB,KAAK,CAACU,eAAe,GAAG,SAAS;YAC5C;UACF,CAAE;UACF2Q,YAAY,EAAG5R,CAAC,IAAK;YACnB,IAAI,CAACyT,eAAe,CAACE,QAAQ,CAAC5F,MAAM,CAAC,EAAE;cACrC/N,CAAC,CAAC4B,MAAM,CAACrB,KAAK,CAACU,eAAe,GAAG,OAAO;YAC1C;UACF,CAAE;UAAAN,QAAA,GAED8S,eAAe,CAACE,QAAQ,CAAC5F,MAAM,CAAC,GAAG,IAAI,GAAG,EAAE,EAAEA,MAAM;QAAA,GApChDtE,KAAK;UAAA7I,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAqCP,CACN;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CACN,EAGA0S,eAAe,CAACpR,MAAM,GAAG,CAAC,iBACzBtD,OAAA;QAAKwB,KAAK,EAAE;UACVgC,SAAS,EAAE,KAAK;UAChBiC,OAAO,EAAE,MAAM;UACfuQ,QAAQ,EAAE,MAAM;UAChBpQ,GAAG,EAAE,KAAK;UACVlE,QAAQ,EAAE;QACZ,CAAE;QAAAE,QAAA,EACC8S,eAAe,CAAC1O,GAAG,CAAC,CAACgJ,MAAM,EAAEtE,KAAK,kBACjC1K,OAAA;UAAiBwB,KAAK,EAAE;YACtBiE,OAAO,EAAE,MAAM;YACfE,UAAU,EAAE,QAAQ;YACpB3C,KAAK,EAAE,OAAO;YACdtB,QAAQ,EAAE,OAAO;YACjBiR,MAAM,EAAE,MAAM;YACduB,WAAW,EAAE,KAAK;YAClBK,YAAY,EAAE,KAAK;YACnBnS,YAAY,EAAE,KAAK;YACnBkT,WAAW,EAAE,KAAK;YAClBC,WAAW,EAAE,OAAO;YACpBC,WAAW,EAAE,SAAS;YACtBtT,eAAe,EAAE,SAAS;YAC1B2D,UAAU,EAAE,QAAQ;YACpBC,UAAU,EAAE,GAAG;YACfxD,QAAQ,EAAE,MAAM;YAChByD,UAAU,EAAE,MAAM;YAClB7C,aAAa,EAAE,OAAO;YACtBX,KAAK,EAAE;UACT,CAAE;UAAAX,QAAA,gBACA5B,OAAA;YAAMwB,KAAK,EAAE;cACXwL,IAAI,EAAE,CAAC;cACPqD,QAAQ,EAAE,QAAQ;cAClB4F,YAAY,EAAE,UAAU;cACxBC,UAAU,EAAE;YACd,CAAE;YAAAtU,QAAA,EACCoN;UAAM;YAAAnN,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eACPhC,OAAA;YACEyD,OAAO,EAAEA,CAAA,KAAM;cACb+N,iBAAiB,CAAChJ,IAAI,KAAK;gBACzB,GAAGA,IAAI;gBACP,CAACgL,OAAO,GAAGkB,eAAe,CAACrP,MAAM,CAAC8Q,GAAG,IAAIA,GAAG,KAAKnH,MAAM;cACzD,CAAC,CAAC,CAAC;YACL,CAAE;YACFxN,KAAK,EAAE;cACLkC,UAAU,EAAE,MAAM;cAClBvB,MAAM,EAAE,MAAM;cACdwB,MAAM,EAAE,SAAS;cACjBlC,OAAO,EAAE,GAAG;cACZoP,UAAU,EAAE,KAAK;cACjB7N,KAAK,EAAE,MAAM;cACb2P,MAAM,EAAE,MAAM;cACdlN,OAAO,EAAE,MAAM;cACfE,UAAU,EAAE,QAAQ;cACpBD,cAAc,EAAE,QAAQ;cACxB0Q,UAAU,EAAE;YACd,CAAE;YAAAxU,QAAA,eAEF5B,OAAA;cAAKgD,KAAK,EAAC,IAAI;cAAC2P,MAAM,EAAC,IAAI;cAAC8C,OAAO,EAAC,WAAW;cAACC,IAAI,EAAC,MAAM;cAACC,KAAK,EAAC,4BAA4B;cAAA/T,QAAA,eAC5F5B,OAAA;gBAAM8V,CAAC,EAAC,opDAAopD;gBAACJ,IAAI,EAAC;cAAS;gBAAA7T,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAC;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC1qD;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACA,CAAC;QAAA,GApDD0I,KAAK;UAAA7I,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAqDV,CACN;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CACN,EAGA,CAAC4I,IAAI,CAAC0E,mBAAmB,IAAI,EAAE,EAAEtJ,GAAG,CAAC,CAAC2K,OAAO,EAAE0F,YAAY,KAAK;QAC/D,MAAMC,WAAW,GAAG5B,eAAe,CAACE,QAAQ,CAACjE,OAAO,CAACG,UAAU,CAAC;QAEhE,OAAOwF,WAAW,gBAChBtW,OAAA;UAAwBwB,KAAK,EAAE;YAAEgC,SAAS,EAAE;UAAO,CAAE;UAAA5B,QAAA,gBACnD5B,OAAA;YAAKwB,KAAK,EAAE;cACVwB,KAAK,EAAE,OAAO;cACd2J,SAAS,EAAE,MAAM;cACjB/G,GAAG,EAAE,KAAK;cACV0O,UAAU,EAAE,MAAM;cAClBC,YAAY,EAAE,KAAK;cACnBC,aAAa,EAAE,MAAM;cACrBN,WAAW,EAAE,KAAK;cAClB9R,YAAY,EAAE,KAAK;cACnBD,MAAM,EAAE,mBAAmB;cAC3BD,eAAe,EAAE;YACnB,CAAE;YAAAN,QAAA,eACA5B,OAAA;cACE0C,IAAI,EAAC,MAAM;cACXS,WAAW,EAAEwN,OAAO,CAACnB,kBAAkB,IAAI,qBAAsB;cACjEhO,KAAK,EAAE;gBACLwB,KAAK,EAAE,MAAM;gBACb2P,MAAM,EAAE,MAAM;gBACdxQ,MAAM,EAAE,MAAM;gBACd2R,OAAO,EAAE,MAAM;gBACf5R,eAAe,EAAE,aAAa;gBAC9B2D,UAAU,EAAE,oBAAoB;gBAChCC,UAAU,EAAE,GAAG;gBACfxD,QAAQ,EAAE,MAAM;gBAChByD,UAAU,EAAE,MAAM;gBAClB7C,aAAa,EAAE,OAAO;gBACtBX,KAAK,EAAE;cACT;YAAE;cAAAV,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eACNhC,OAAA;YAAKwB,KAAK,EAAE;cAAEgC,SAAS,EAAE;YAAM,CAAE;YAAA5B,QAAA,eAC/B5B,OAAA;cAAOwB,KAAK,EAAE;gBACZqE,UAAU,EAAE,oBAAoB;gBAChCC,UAAU,EAAE,GAAG;gBACfiO,SAAS,EAAE,QAAQ;gBACnBzR,QAAQ,EAAE,MAAM;gBAChByD,UAAU,EAAE,MAAM;gBAClB7C,aAAa,EAAE,OAAO;gBACtBX,KAAK,EAAE,SAAS;gBAChBU,SAAS,EAAE;cACb,CAAE;cAAArB,QAAA,EACC+O,OAAO,CAACI,YAAY,IAAI;YAAgB;cAAAlP,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACpC;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACL,CAAC;QAAA,GA5CEqU,YAAY;UAAAxU,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OA6CjB,CAAC,GACJ,IAAI;MACV,CAAC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC;EAEV,CAAC;EAEH,MAAMuU,oBAAoB,GAAI3L,IAAI,iBAChC5K,OAAA;IAAKwB,KAAK,EAAE;MACVqL,QAAQ,EAAE,UAAU;MACpB8F,MAAM,EAAE,OAAO;MACflN,OAAO,EAAE,MAAM;MACfE,UAAU,EAAE,QAAQ;MACpBD,cAAc,EAAE,QAAQ;MACxB/D,MAAM,EAAE;IACV,CAAE;IAAAC,QAAA,eAEA5B,OAAA;MAAKwB,KAAK,EAAE;QAAEqL,QAAQ,EAAE;MAAW,CAAE;MAAAjL,QAAA,gBAEnC5B,OAAA;QACEyD,OAAO,EAAEA,CAAA,KAAM;UACb;UACA,MAAM+S,kBAAkB,GAAGxD,iBAAiB,CAAC1H,SAAS,CAAC7C,IAAI,IACzDA,IAAI,CAAClB,KAAK,IAAIkB,IAAI,CAAClB,KAAK,CAACiG,IAAI,CAAC5C,IAAI,IAAIA,IAAI,CAAClI,IAAI,KAAK,gBAAgB,CACtE,CAAC;UACD,IAAI8T,kBAAkB,KAAK,CAAC,CAAC,EAAE;YAC7BlF,mBAAmB,CAACkF,kBAAkB,CAAC;UACzC;QACF,CAAE;QACFhV,KAAK,EAAE;UACLwB,KAAK,EAAE,MAAM;UACb2P,MAAM,EAAE,MAAM;UACdzQ,eAAe,EAAE,SAAS;UAC1BE,YAAY,EAAE,KAAK;UACnBqD,OAAO,EAAE,MAAM;UACfE,UAAU,EAAE,QAAQ;UACpBD,cAAc,EAAE,QAAQ;UACxBgJ,SAAS,EAAE,gCAAgC;UAC3C/K,MAAM,EAAE,SAAS;UACjBkJ,QAAQ,EAAE;QACZ,CAAE;QAAAjL,QAAA,eAEF5B,OAAA;UACEyS,GAAG,EAAC,eAAe;UACnBC,GAAG,EAAC,UAAU;UACdlR,KAAK,EAAE;YACLwB,KAAK,EAAE,MAAM;YACb2P,MAAM,EAAE;UACV;QAAE;UAAA9Q,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eAGNhC,OAAA;QACEyD,OAAO,EAAEA,CAAA,KAAM;UACb;UACA,MAAMgT,kBAAkB,GAAGzD,iBAAiB,CAAC1H,SAAS,CAAC,CAAC7C,IAAI,EAAEiC,KAAK,KACjEA,KAAK,GAAG2G,gBAAgB,IAAI,CAAC5I,IAAI,CAACjB,QACpC,CAAC;UACD,IAAIiP,kBAAkB,KAAK,CAAC,CAAC,EAAE;YAC7BnF,mBAAmB,CAACmF,kBAAkB,CAAC;UACzC;QACF,CAAE;QACFjV,KAAK,EAAE;UACLqL,QAAQ,EAAE,UAAU;UACpB7J,KAAK,EAAE,MAAM;UACb2P,MAAM,EAAE,MAAM;UACd5C,GAAG,EAAE,OAAO;UACZE,KAAK,EAAE,QAAQ;UACf/N,eAAe,EAAE,SAAS;UAC1BE,YAAY,EAAE,KAAK;UACnBqD,OAAO,EAAE,MAAM;UACfE,UAAU,EAAE,QAAQ;UACpBD,cAAc,EAAE,QAAQ;UACxBgJ,SAAS,EAAE,+BAA+B;UAC1C/K,MAAM,EAAE;QACV,CAAE;QAAA/B,QAAA,eAEF5B,OAAA;UACEyS,GAAG,EAAC,YAAY;UAChBC,GAAG,EAAC,OAAO;UACXlR,KAAK,EAAE;YACLwB,KAAK,EAAE,SAAS;YAChB2P,MAAM,EAAE;UACV;QAAE;UAAA9Q,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CACN;EAED,MAAM0U,mBAAmB,GAAI9L,IAAI,iBAC/B5K,OAAA;IAAKwB,KAAK,EAAE;MACVa,YAAY,EAAE;IAChB,CAAE;IAAAT,QAAA,eAEA5B,OAAA;MAAKwB,KAAK,EAAE;QACViE,OAAO,EAAE,MAAM;QACfyJ,aAAa,EAAE,QAAQ;QACvBtJ,GAAG,EAAE;MACP,CAAE;MAAAhE,QAAA,gBAEA5B,OAAA;QAAKwB,KAAK,EAAE;UACVqE,UAAU,EAAE,QAAQ;UACpBC,UAAU,EAAE,GAAG;UACfxD,QAAQ,EAAE,MAAM;UAChByD,UAAU,EAAE,MAAM;UAClB7C,aAAa,EAAE,OAAO;UACtBX,KAAK,EAAE,SAAS;UAChBU,SAAS,EAAE;QACb,CAAE;QAAArB,QAAA,EAAC;MAEH;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eAGNhC,OAAA;QACEyD,OAAO,EAAEA,CAAA,KAAM;UACb;UACA,MAAMkT,mBAAmB,GAAG3D,iBAAiB,CAAC1H,SAAS,CAAC7C,IAAI,IAAI,CAACA,IAAI,CAACjB,QAAQ,CAAC;UAC/E,IAAImP,mBAAmB,KAAK,CAAC,CAAC,EAAE;YAC9BrF,mBAAmB,CAACqF,mBAAmB,CAAC;UAC1C;QACF,CAAE;QACFnV,KAAK,EAAE;UACLwB,KAAK,EAAE,OAAO;UACd2P,MAAM,EAAE,MAAM;UACd/M,GAAG,EAAE,MAAM;UACX0O,UAAU,EAAE,MAAM;UAClBC,YAAY,EAAE,MAAM;UACpBC,aAAa,EAAE,MAAM;UACrBN,WAAW,EAAE,MAAM;UACnB9R,YAAY,EAAE,KAAK;UACnBF,eAAe,EAAE,SAAS;UAC1BC,MAAM,EAAE,MAAM;UACdwB,MAAM,EAAE,SAAS;UACjBkC,UAAU,EAAE,QAAQ;UACpBC,UAAU,EAAE,GAAG;UACfxD,QAAQ,EAAE,MAAM;UAChByD,UAAU,EAAE,MAAM;UAClB7C,aAAa,EAAE,IAAI;UACnBX,KAAK,EAAE;QACT,CAAE;QAAAX,QAAA,EAAC;MAEL;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eAGThC,OAAA;QAAKwB,KAAK,EAAE;UACVqE,UAAU,EAAE,QAAQ;UACpBC,UAAU,EAAE,GAAG;UACfxD,QAAQ,EAAE,MAAM;UAChByD,UAAU,EAAE,MAAM;UAClB7C,aAAa,EAAE,OAAO;UACtBX,KAAK,EAAE,SAAS;UAChBU,SAAS,EAAE;QACb,CAAE;QAAArB,QAAA,EAAC;MAEH;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eAGNhC,OAAA;QACEyD,OAAO,EAAEA,CAAA,KAAM;UACbmO,qBAAqB,CAAC,IAAI,CAAC;QAC7B,CAAE;QACFpQ,KAAK,EAAE;UACLwB,KAAK,EAAE,OAAO;UACd2P,MAAM,EAAE,MAAM;UACd/M,GAAG,EAAE,MAAM;UACX0O,UAAU,EAAE,MAAM;UAClBC,YAAY,EAAE,MAAM;UACpBC,aAAa,EAAE,MAAM;UACrBN,WAAW,EAAE,MAAM;UACnB9R,YAAY,EAAE,KAAK;UACnBF,eAAe,EAAE,SAAS;UAC1BC,MAAM,EAAE,MAAM;UACdwB,MAAM,EAAE,SAAS;UACjBkC,UAAU,EAAE,QAAQ;UACpBC,UAAU,EAAE,GAAG;UACfxD,QAAQ,EAAE,MAAM;UAChByD,UAAU,EAAE,MAAM;UAClB7C,aAAa,EAAE,IAAI;UACnBX,KAAK,EAAE;QACT,CAAE;QAAAX,QAAA,EAAC;MAEL;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CACN;;EAED;EACA,MAAM4U,oBAAoB,GAAGA,CAAA,kBAC3B5W,OAAA;IAAKwB,KAAK,EAAE;MACVwB,KAAK,EAAE,OAAO;MACd2P,MAAM,EAAE,OAAO;MACfvQ,YAAY,EAAE,MAAM;MACpBF,eAAe,EAAE,SAAS;MAC1BT,OAAO,EAAE,MAAM;MACfmE,GAAG,EAAE,MAAM;MACXH,OAAO,EAAE,MAAM;MACfyJ,aAAa,EAAE,QAAQ;MACvBrC,QAAQ,EAAE;IACZ,CAAE;IAAAjL,QAAA,gBAEA5B,OAAA;MAAKwB,KAAK,EAAE;QACViE,OAAO,EAAE,MAAM;QACfC,cAAc,EAAE,eAAe;QAC/BC,UAAU,EAAE,QAAQ;QACpBtD,YAAY,EAAE;MAChB,CAAE;MAAAT,QAAA,gBACA5B,OAAA;QAAIwB,KAAK,EAAE;UACTG,MAAM,EAAE,CAAC;UACTkE,UAAU,EAAE,QAAQ;UACpBC,UAAU,EAAE,GAAG;UACfxD,QAAQ,EAAE,MAAM;UAChByD,UAAU,EAAE,MAAM;UAClB7C,aAAa,EAAE,OAAO;UACtBX,KAAK,EAAE;QACT,CAAE;QAAAX,QAAA,EAAC;MAEH;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACLhC,OAAA;QACEyD,OAAO,EAAEiK,OAAQ;QACjBlM,KAAK,EAAE;UACLkC,UAAU,EAAE,MAAM;UAClBvB,MAAM,EAAE,MAAM;UACdwB,MAAM,EAAE,SAAS;UACjBlC,OAAO,EAAE,KAAK;UACdgE,OAAO,EAAE,MAAM;UACfE,UAAU,EAAE,QAAQ;UACpBD,cAAc,EAAE;QAClB,CAAE;QAAA9D,QAAA,eAEF5B,OAAA;UAAKyS,GAAG,EAAC,YAAY;UAACC,GAAG,EAAC,OAAO;UAAC1P,KAAK,EAAC,IAAI;UAAC2P,MAAM,EAAC;QAAI;UAAA9Q,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACrD,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,eAGNhC,OAAA;MAAKwB,KAAK,EAAE;QAAEwL,IAAI,EAAE,CAAC;QAAEvH,OAAO,EAAE,MAAM;QAAEyJ,aAAa,EAAE,QAAQ;QAAEtJ,GAAG,EAAE;MAAO,CAAE;MAAAhE,QAAA,gBAE7E5B,OAAA;QAAKwB,KAAK,EAAE;UACVqE,UAAU,EAAE,QAAQ;UACpBC,UAAU,EAAE,GAAG;UACfxD,QAAQ,EAAE,MAAM;UAChByD,UAAU,EAAE,MAAM;UAClB7C,aAAa,EAAE,OAAO;UACtBX,KAAK,EAAE;QACT,CAAE;QAAAX,QAAA,EAAC;MAEH;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eAGNhC,OAAA;QAAQwB,KAAK,EAAE;UACbwB,KAAK,EAAE,OAAO;UACd2P,MAAM,EAAE,MAAM;UACd/M,GAAG,EAAE,MAAM;UACX0O,UAAU,EAAE,KAAK;UACjBC,YAAY,EAAE,MAAM;UACpBC,aAAa,EAAE,KAAK;UACpBN,WAAW,EAAE,MAAM;UACnB9R,YAAY,EAAE,KAAK;UACnBD,MAAM,EAAE,mBAAmB;UAC3BD,eAAe,EAAE,aAAa;UAC9ByB,MAAM,EAAE,SAAS;UACjB8B,OAAO,EAAE,MAAM;UACfE,UAAU,EAAE,QAAQ;UACpBD,cAAc,EAAE;QAClB,CAAE;QAAA9D,QAAA,gBAEA5B,OAAA;UAAKgD,KAAK,EAAC,IAAI;UAAC2P,MAAM,EAAC,IAAI;UAAC8C,OAAO,EAAC,WAAW;UAACC,IAAI,EAAC,MAAM;UAACC,KAAK,EAAC,4BAA4B;UAACnU,KAAK,EAAE;YAAEqC,WAAW,EAAE;UAAM,CAAE;UAAAjC,QAAA,gBAC3H5B,OAAA;YAAM8V,CAAC,EAAC,6VAA6V;YAACJ,IAAI,EAAC;UAAS;YAAA7T,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAC,CAAC,eACtXhC,OAAA;YAAM8V,CAAC,EAAC,qZAAqZ;YAACJ,IAAI,EAAC;UAAS;YAAA7T,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC3a,CAAC,eACNhC,OAAA;UAAMwB,KAAK,EAAE;YACXqE,UAAU,EAAE,QAAQ;YACpBC,UAAU,EAAE,GAAG;YACfxD,QAAQ,EAAE,MAAM;YAChByD,UAAU,EAAE,MAAM;YAClB7C,aAAa,EAAE,OAAO;YACtBX,KAAK,EAAE;UACT,CAAE;UAAAX,QAAA,EAAC;QAEH;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD,CAAC,eAGThC,OAAA;QAAKwB,KAAK,EAAE;UACVqE,UAAU,EAAE,QAAQ;UACpBC,UAAU,EAAE,GAAG;UACfxD,QAAQ,EAAE,MAAM;UAChByD,UAAU,EAAE,MAAM;UAClB7C,aAAa,EAAE,OAAO;UACtBX,KAAK,EAAE,SAAS;UAChBU,SAAS,EAAE;QACb,CAAE;QAAArB,QAAA,EAAC;MAEH;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eAGNhC,OAAA;QAAKwB,KAAK,EAAE;UACVqE,UAAU,EAAE,QAAQ;UACpBC,UAAU,EAAE,GAAG;UACfxD,QAAQ,EAAE,MAAM;UAChByD,UAAU,EAAE,MAAM;UAClB7C,aAAa,EAAE,OAAO;UACtBX,KAAK,EAAE,SAAS;UAChBiB,SAAS,EAAE;QACb,CAAE;QAAA5B,QAAA,EAAC;MAEH;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eAGNhC,OAAA;QACEmD,WAAW,EAAC,6BAAgB;QAC5B3B,KAAK,EAAE;UACLwB,KAAK,EAAE,OAAO;UACd2J,SAAS,EAAE,OAAO;UAClBlL,OAAO,EAAE,UAAU;UACnBW,YAAY,EAAE,KAAK;UACnBD,MAAM,EAAE,mBAAmB;UAC3B0D,UAAU,EAAE,QAAQ;UACpBC,UAAU,EAAE,GAAG;UACfxD,QAAQ,EAAE,MAAM;UAChByD,UAAU,EAAE,MAAM;UAClB7C,aAAa,EAAE,OAAO;UACtBX,KAAK,EAAE,SAAS;UAChBL,eAAe,EAAE,SAAS;UAC1B0K,MAAM,EAAE,UAAU;UAClBkH,OAAO,EAAE;QACX;MAAE;QAAAjS,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAGFhC,OAAA;QAAKwB,KAAK,EAAE;UACViE,OAAO,EAAE,MAAM;UACfC,cAAc,EAAE,eAAe;UAC/BC,UAAU,EAAE,QAAQ;UACpBnC,SAAS,EAAE,MAAM;UACjB8Q,UAAU,EAAE;QACd,CAAE;QAAA1S,QAAA,gBAEA5B,OAAA;UACEyD,OAAO,EAAEA,CAAA,KAAM;YACbmO,qBAAqB,CAAC,KAAK,CAAC;UAC9B,CAAE;UACFpQ,KAAK,EAAE;YACLwB,KAAK,EAAE,MAAM;YACb2P,MAAM,EAAE,MAAM;YACd/M,GAAG,EAAE,MAAM;YACX0O,UAAU,EAAE,MAAM;YAClBC,YAAY,EAAE,MAAM;YACpBC,aAAa,EAAE,MAAM;YACrBN,WAAW,EAAE,MAAM;YACnB9R,YAAY,EAAE,KAAK;YACnBD,MAAM,EAAE,mBAAmB;YAC3BD,eAAe,EAAE,aAAa;YAC9ByB,MAAM,EAAE,SAAS;YACjBkC,UAAU,EAAE,QAAQ;YACpBC,UAAU,EAAE,GAAG;YACfxD,QAAQ,EAAE,MAAM;YAChByD,UAAU,EAAE,MAAM;YAClB7C,aAAa,EAAE,IAAI;YACnBX,KAAK,EAAE;UACT,CAAE;UAAAX,QAAA,EAAC;QAEL;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eAGThC,OAAA;UACEyD,OAAO,EAAEA,CAAA,KAAM;YACbmO,qBAAqB,CAAC,KAAK,CAAC;YAC5BI,wBAAwB,CAAC,IAAI,CAAC;UAChC,CAAE;UACFxQ,KAAK,EAAE;YACLwB,KAAK,EAAE,OAAO;YACd2P,MAAM,EAAE,MAAM;YACd/M,GAAG,EAAE,MAAM;YACX0O,UAAU,EAAE,MAAM;YAClBC,YAAY,EAAE,MAAM;YACpBC,aAAa,EAAE,MAAM;YACrBN,WAAW,EAAE,MAAM;YACnB9R,YAAY,EAAE,KAAK;YACnBF,eAAe,EAAE,SAAS;YAC1BC,MAAM,EAAE,MAAM;YACdwB,MAAM,EAAE,SAAS;YACjBkC,UAAU,EAAE,QAAQ;YACpBC,UAAU,EAAE,GAAG;YACfxD,QAAQ,EAAE,MAAM;YAChByD,UAAU,EAAE,MAAM;YAClB7C,aAAa,EAAE,IAAI;YACnBX,KAAK,EAAE;UACT,CAAE;UAAAX,QAAA,EAAC;QAEL;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CACN;;EAED;EACA,MAAM6U,mBAAmB,GAAIhW,OAAO,iBAClCb,OAAA;IAAKwB,KAAK,EAAE;MACVwB,KAAK,EAAE,OAAO;MACd2P,MAAM,EAAE,OAAO;MACfvQ,YAAY,EAAE,MAAM;MACpBF,eAAe,EAAE,SAAS;MAC1BT,OAAO,EAAE,MAAM;MACfgE,OAAO,EAAE,MAAM;MACfyJ,aAAa,EAAE,QAAQ;MACvBxJ,cAAc,EAAE,QAAQ;MACxBC,UAAU,EAAE,QAAQ;MACpB1C,SAAS,EAAE;IACb,CAAE;IAAArB,QAAA,eACA5B,OAAA;MAAIwB,KAAK,EAAE;QACTG,MAAM,EAAE,CAAC;QACTkE,UAAU,EAAE,QAAQ;QACpBC,UAAU,EAAE,GAAG;QACfxD,QAAQ,EAAE,MAAM;QAChByD,UAAU,EAAE,MAAM;QAClB7C,aAAa,EAAE,OAAO;QACtBX,KAAK,EAAE;MACT,CAAE;MAAAX,QAAA,EACCf;IAAO;MAAAgB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACF,CACN;EAED,MAAM8U,iBAAiB,GAAIlM,IAAI,IAAK;IAClC,QAAQA,IAAI,CAAClI,IAAI;MACf,KAAK,QAAQ;QAAE,OAAO4Q,kBAAkB,CAAC1I,IAAI,CAAC;MAC9C,KAAK,eAAe;QAAE,OAAOoJ,kBAAkB,CAACpJ,IAAI,CAAC;MACrD,KAAK,sBAAsB;QAAE,OAAOuK,yBAAyB,CAACvK,IAAI,CAAC;MACnE,KAAK,MAAM;QAAE,OAAOmK,eAAe,CAACnK,IAAI,CAAC;MACzC,KAAK,gBAAgB;QAAE,OAAOsK,mBAAmB,CAACtK,IAAI,CAAC;MACvD,KAAK,iBAAiB;QAAE,OAAO2L,oBAAoB,CAAC3L,IAAI,CAAC;MACzD,KAAK,gBAAgB;QAAE,OAAO8L,mBAAmB,CAAC9L,IAAI,CAAC;MACvD;QAAS,oBAAO5K,OAAA;UAAA4B,QAAA,EAAK;QAAkB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC;IAC/C;EACF,CAAC;;EAED;EACA,IAAI2P,kBAAkB,EAAE;IACtB,OAAOiF,oBAAoB,CAAC,CAAC;EAC/B;EAEA,IAAI7E,qBAAqB,EAAE;IACzB,OAAO8E,mBAAmB,CAAC,UAAU,CAAC;EACxC;EAEA,IAAIhF,iBAAiB,EAAE;IACrB,OAAOgF,mBAAmB,CAAC,uBAAuB,CAAC;EACrD;EAEA,IAAI3D,UAAU,KAAK,CAAC,EAAE;IACpB,oBACElT,OAAA;MAAKwB,KAAK,EAAE;QACVwB,KAAK,EAAE,OAAO;QACd2P,MAAM,EAAE,OAAO;QACfvQ,YAAY,EAAE,MAAM;QACpBF,eAAe,EAAE,SAAS;QAC1BT,OAAO,EAAE,MAAM;QACfmE,GAAG,EAAE,MAAM;QACXH,OAAO,EAAE,MAAM;QACfyJ,aAAa,EAAE,QAAQ;QACvBxJ,cAAc,EAAE,QAAQ;QACxBC,UAAU,EAAE;MACd,CAAE;MAAA/D,QAAA,eACA5B,OAAA;QAAGwB,KAAK,EAAE;UAAEe,KAAK,EAAE;QAAU,CAAE;QAAAX,QAAA,EAAC;MAAsB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACvD,CAAC;EAEV;EAEA,oBACEhC,OAAA;IAAKwB,KAAK,EAAE;MACVwB,KAAK,EAAE,OAAO;MACd2P,MAAM,EAAE,OAAO;MACfvQ,YAAY,EAAE,MAAM;MACpBF,eAAe,EAAE,SAAS;MAC1BT,OAAO,EAAE,MAAM;MACfmE,GAAG,EAAE,MAAM;MACXH,OAAO,EAAE,MAAM;MACfyJ,aAAa,EAAE,QAAQ;MACvBrC,QAAQ,EAAE;IACZ,CAAE;IAAAjL,QAAA,GAEC,CAACyR,YAAY,iBACZrT,OAAA;MAAKwB,KAAK,EAAE;QACViE,OAAO,EAAE,MAAM;QACfC,cAAc,EAAE,eAAe;QAC/BC,UAAU,EAAE,QAAQ;QACpBtD,YAAY,EAAE;MAChB,CAAE;MAAAT,QAAA,gBACA5B,OAAA;QAAIwB,KAAK,EAAE;UACTG,MAAM,EAAE,CAAC;UACTkE,UAAU,EAAE,oBAAoB;UAChCC,UAAU,EAAE,GAAG;UACfxD,QAAQ,EAAE,MAAM;UAChByD,UAAU,EAAE,MAAM;UAClB7C,aAAa,EAAE,OAAO;UACtBX,KAAK,EAAE;QACT,CAAE;QAAAX,QAAA,EACC+F,MAAM,CAACV;MAAK;QAAApF,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACX,CAAC,eACLhC,OAAA;QACEyD,OAAO,EAAEiK,OAAQ;QACjBlM,KAAK,EAAE;UACLkC,UAAU,EAAE,MAAM;UAClBvB,MAAM,EAAE,MAAM;UACdwB,MAAM,EAAE,SAAS;UACjBlC,OAAO,EAAE,KAAK;UACdgE,OAAO,EAAE,MAAM;UACfE,UAAU,EAAE,QAAQ;UACpBD,cAAc,EAAE;QAClB,CAAE;QAAA9D,QAAA,eAEF5B,OAAA;UAAKyS,GAAG,EAAC,YAAY;UAACC,GAAG,EAAC,OAAO;UAAC1P,KAAK,EAAC,IAAI;UAAC2P,MAAM,EAAC;QAAI;UAAA9Q,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACrD,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CACN,eAGDhC,OAAA;MAAKwB,KAAK,EAAE;QAAEwL,IAAI,EAAE,CAAC;QAAEqD,QAAQ,EAAE;MAAO,CAAE;MAAAzO,QAAA,EACvCwR,aAAa,CAACpN,GAAG,CAAC,CAAC+Q,KAAK,EAAErM,KAAK,kBAC9B1K,OAAA;QAAiBwB,KAAK,EAAE;UAAEa,YAAY,EAAEqI,KAAK,GAAG0I,aAAa,CAAC9P,MAAM,GAAG,CAAC,GAAG,MAAM,GAAG;QAAI,CAAE;QAAA1B,QAAA,GAEvFmV,KAAK,CAACrU,IAAI,KAAK,gBAAgB,IAAI,CAAC2Q,YAAY,iBAC/CrT,OAAA;UAAKwB,KAAK,EAAE;YAAEa,YAAY,EAAE;UAAO,CAAE;UAAAT,QAAA,eACnC5B,OAAA;YAAIwB,KAAK,EAAE;cACTG,MAAM,EAAE,CAAC;cACTkE,UAAU,EAAE,oBAAoB;cAChCC,UAAU,EAAE,GAAG;cACfxD,QAAQ,EAAE,MAAM;cAChByD,UAAU,EAAE,MAAM;cAClB7C,aAAa,EAAE,OAAO;cACtBX,KAAK,EAAE;YACT,CAAE;YAAAX,QAAA,EACCmV,KAAK,CAACtP,QAAQ,IAAI,QAAQiD,KAAK,GAAG,CAAC;UAAE;YAAA7I,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACpC;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACF,CACN,EAGA8U,iBAAiB,CAACC,KAAK,CAAC;MAAA,GAnBjBrM,KAAK;QAAA7I,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAsBV,CACN;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC,EAGL,CAACqR,YAAY,iBACZrT,OAAA;MAAKwB,KAAK,EAAE;QACVwB,KAAK,EAAE,OAAO;QACd2P,MAAM,EAAE,MAAM;QACdlN,OAAO,EAAE,MAAM;QACfC,cAAc,EAAE,eAAe;QAC/BC,UAAU,EAAE,QAAQ;QACpB2O,UAAU,EAAE,MAAM;QAClBE,aAAa,EAAE,MAAM;QACrBhR,SAAS,EAAE;MACb,CAAE;MAAA5B,QAAA,gBACA5B,OAAA;QAAKwB,KAAK,EAAE;UACVwB,KAAK,EAAE,MAAM;UACb2P,MAAM,EAAE,MAAM;UACd9M,UAAU,EAAE,oBAAoB;UAChCC,UAAU,EAAE,GAAG;UACfxD,QAAQ,EAAE,MAAM;UAChByD,UAAU,EAAE,MAAM;UAClB7C,aAAa,EAAE,IAAI;UACnBX,KAAK,EAAE;QACT,CAAE;QAAAX,QAAA,GAEC,CAAC,MAAM;UACN,MAAMoV,2BAA2B,GAAGhE,iBAAiB,CAClDjE,KAAK,CAAC,CAAC,EAAEsC,gBAAgB,CAAC,CAC1BhM,MAAM,CAACoD,IAAI,IAAI,CAACA,IAAI,CAACjB,QAAQ,CAAC,CAAClE,MAAM;UACxC,OAAO0T,2BAA2B,GAAG,CAAC;QACxC,CAAC,EAAE,CAAC,EAAC,KAAG,EAAC9D,UAAU,EAAC,aACtB;MAAA;QAAArR,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eAENhC,OAAA;QACEyD,OAAO,EAAEA,CAAA,KAAM;UACb;UACA,MAAMuT,2BAA2B,GAAGhE,iBAAiB,CAClDjE,KAAK,CAAC,CAAC,EAAEsC,gBAAgB,CAAC,CAC1BhM,MAAM,CAACoD,IAAI,IAAI,CAACA,IAAI,CAACjB,QAAQ,CAAC,CAAClE,MAAM;UAExC,IAAI0T,2BAA2B,IAAI9D,UAAU,GAAG,CAAC,EAAE;YACjD;YACApB,oBAAoB,CAAC,IAAI,CAAC;UAC5B,CAAC,MAAM;YACL;YACA,MAAM2E,kBAAkB,GAAGzD,iBAAiB,CAAC1H,SAAS,CAAC,CAAC7C,IAAI,EAAEiC,KAAK,KACjEA,KAAK,GAAG2G,gBAAgB,IAAI,CAAC5I,IAAI,CAACjB,QACpC,CAAC;YACD,IAAIiP,kBAAkB,KAAK,CAAC,CAAC,EAAE;cAC7BnF,mBAAmB,CAACmF,kBAAkB,CAAC;YACzC;UACF;QACF,CAAE;QACFpT,QAAQ,EAAE,KAAM;QAChB7B,KAAK,EAAE;UACLwB,KAAK,EAAE,CAAC,MAAM;YACZ,MAAMgU,2BAA2B,GAAGhE,iBAAiB,CAClDjE,KAAK,CAAC,CAAC,EAAEsC,gBAAgB,CAAC,CAC1BhM,MAAM,CAACoD,IAAI,IAAI,CAACA,IAAI,CAACjB,QAAQ,CAAC,CAAClE,MAAM;YACxC,OAAO0T,2BAA2B,IAAI9D,UAAU,GAAG,CAAC,GAAG,OAAO,GAAG,OAAO;UAC1E,CAAC,EAAE,CAAC;UACJP,MAAM,EAAE,MAAM;UACd/M,GAAG,EAAE,MAAM;UACX0O,UAAU,EAAE,MAAM;UAClBC,YAAY,EAAE,MAAM;UACpBC,aAAa,EAAE,MAAM;UACrBN,WAAW,EAAE,MAAM;UACnB9R,YAAY,EAAE,KAAK;UACnBsB,UAAU,EAAE,SAAS;UACrBvB,MAAM,EAAE,MAAM;UACdI,KAAK,EAAE,OAAO;UACdoB,MAAM,EAAE,SAAS;UACjBkC,UAAU,EAAE,oBAAoB;UAChCC,UAAU,EAAE,GAAG;UACfxD,QAAQ,EAAE,MAAM;UAChByD,UAAU,EAAE,MAAM;UAClB7C,aAAa,EAAE;QACjB,CAAE;QAAAtB,QAAA,EAED,CAAC,MAAM;UACN,MAAMoV,2BAA2B,GAAGhE,iBAAiB,CAClDjE,KAAK,CAAC,CAAC,EAAEsC,gBAAgB,CAAC,CAC1BhM,MAAM,CAACoD,IAAI,IAAI,CAACA,IAAI,CAACjB,QAAQ,CAAC,CAAClE,MAAM;UACxC,OAAO0T,2BAA2B,IAAI9D,UAAU,GAAG,CAAC,GAAG,kBAAkB,GAAG,YAAY;QAC1F,CAAC,EAAE;MAAC;QAAArR,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAER,CAAC;;AAED;AAAAkP,GAAA,CAz0CMzD,aAAa;AAAAwJ,GAAA,GAAbxJ,aAAa;AA00CnB,MAAMV,qBAAqB,GAAGA,CAAA,KAAM;EAClC,MAAMmK,cAAc,GAAG,CACrB;IACE9P,EAAE,EAAE,QAAQ;IACZ1C,IAAI,EAAE,oBAAoB;IAC1ByS,IAAI,EAAE,IAAI;IACVjQ,WAAW,EAAE,iCAAiC;IAC9C3E,KAAK,EAAE;EACT,CAAC,EACD;IACE6E,EAAE,EAAE,eAAe;IACnB1C,IAAI,EAAE,kBAAkB;IACxByS,IAAI,EAAE,IAAI;IACVjQ,WAAW,EAAE,iCAAiC;IAC9C3E,KAAK,EAAE;EACT,CAAC,EACD;IACE6E,EAAE,EAAE,sBAAsB;IAC1B1C,IAAI,EAAE,mBAAmB;IACzByS,IAAI,EAAE,IAAI;IACVjQ,WAAW,EAAE,gCAAgC;IAC7C3E,KAAK,EAAE;EACT,CAAC,EACD;IACE6E,EAAE,EAAE,MAAM;IACV1C,IAAI,EAAE,cAAc;IACpByS,IAAI,EAAE,IAAI;IACVjQ,WAAW,EAAE,0BAA0B;IACvC3E,KAAK,EAAE;EACT,CAAC,EACD;IACE6E,EAAE,EAAE,gBAAgB;IACpB1C,IAAI,EAAE,cAAc;IACpByS,IAAI,EAAE,IAAI;IACVjQ,WAAW,EAAE,+BAA+B;IAC5C3E,KAAK,EAAE;EACT,CAAC,CACF;EAED,MAAMiJ,eAAe,GAAGA,CAACvK,CAAC,EAAEmW,SAAS,KAAK;IACxCnW,CAAC,CAACwK,YAAY,CAACE,OAAO,CAAC,kBAAkB,EAAE1B,IAAI,CAACC,SAAS,CAAC;MACxDxH,IAAI,EAAE,gBAAgB;MACtB0U,SAAS,EAAEA;IACb,CAAC,CAAC,CAAC;IACHnW,CAAC,CAACwK,YAAY,CAACC,aAAa,GAAG,MAAM;EACvC,CAAC;EAED,oBACE1L,OAAA;IAAA4B,QAAA,EACGsV,cAAc,CAAClR,GAAG,CAAE+Q,KAAK,iBACxB/W,OAAA;MAEEwO,SAAS;MACTN,WAAW,EAAGjN,CAAC,IAAKuK,eAAe,CAACvK,CAAC,EAAE8V,KAAK,CAAC3P,EAAE,CAAE;MACjD5F,KAAK,EAAE;QACLU,eAAe,EAAE,OAAO;QACxBC,MAAM,EAAE,mBAAmB;QAC3BC,YAAY,EAAE,KAAK;QACnBX,OAAO,EAAE,MAAM;QACfY,YAAY,EAAE,MAAM;QACpBsB,MAAM,EAAE,MAAM;QACdgL,UAAU,EAAE,eAAe;QAC3BD,SAAS,EAAE;MACb,CAAE;MACFkE,YAAY,EAAG3R,CAAC,IAAK;QACnBA,CAAC,CAAC4B,MAAM,CAACrB,KAAK,CAACoN,SAAS,GAAG,kBAAkB;QAC7C3N,CAAC,CAAC4B,MAAM,CAACrB,KAAK,CAACkN,SAAS,GAAG,4BAA4B;QACvDzN,CAAC,CAAC4B,MAAM,CAACrB,KAAK,CAACgU,WAAW,GAAGuB,KAAK,CAACxU,KAAK;MAC1C,CAAE;MACFsQ,YAAY,EAAG5R,CAAC,IAAK;QACnBA,CAAC,CAAC4B,MAAM,CAACrB,KAAK,CAACoN,SAAS,GAAG,eAAe;QAC1C3N,CAAC,CAAC4B,MAAM,CAACrB,KAAK,CAACkN,SAAS,GAAG,2BAA2B;QACtDzN,CAAC,CAAC4B,MAAM,CAACrB,KAAK,CAACgU,WAAW,GAAG,SAAS;MACxC,CAAE;MAAA5T,QAAA,gBAEF5B,OAAA;QAAKwB,KAAK,EAAE;UAAEiE,OAAO,EAAE,MAAM;UAAEE,UAAU,EAAE,QAAQ;UAAEtD,YAAY,EAAE;QAAM,CAAE;QAAAT,QAAA,gBACzE5B,OAAA;UACEwB,KAAK,EAAE;YACLc,QAAQ,EAAE,MAAM;YAChBuB,WAAW,EAAE,MAAM;YACnB3B,eAAe,EAAE6U,KAAK,CAACxU,KAAK,GAAG,IAAI;YACnCd,OAAO,EAAE,KAAK;YACdW,YAAY,EAAE;UAChB,CAAE;UAAAR,QAAA,EAEDmV,KAAK,CAACI;QAAI;UAAAtV,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACP,CAAC,eACPhC,OAAA;UAAKwB,KAAK,EAAE;YAAEwL,IAAI,EAAE;UAAE,CAAE;UAAApL,QAAA,gBACtB5B,OAAA;YAAIwB,KAAK,EAAE;cAAEG,MAAM,EAAE,WAAW;cAAEY,KAAK,EAAE,SAAS;cAAED,QAAQ,EAAE;YAAO,CAAE;YAAAV,QAAA,EACpEmV,KAAK,CAACrS;UAAI;YAAA7C,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACT,CAAC,eACLhC,OAAA;YAAOwB,KAAK,EAAE;cAAEe,KAAK,EAAE,SAAS;cAAED,QAAQ,EAAE;YAAO,CAAE;YAAAV,QAAA,EAClDmV,KAAK,CAAC7P;UAAW;YAAArF,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACb,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eACNhC,OAAA;QAAKwB,KAAK,EAAE;UACVc,QAAQ,EAAE,MAAM;UAChBC,KAAK,EAAE,SAAS;UAChBwR,SAAS,EAAE,QAAQ;UACnB9Q,SAAS,EAAE,QAAQ;UACnBqK,SAAS,EAAE,mBAAmB;UAC9BgH,UAAU,EAAE,KAAK;UACjB9Q,SAAS,EAAE;QACb,CAAE;QAAA5B,QAAA,EAAC;MAEH;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC;IAAA,GAvDD+U,KAAK,CAAC3P,EAAE;MAAAvF,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAwDV,CACN;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACC,CAAC;AAEV,CAAC;;AAED;AAAAqV,GAAA,GAjHMtK,qBAAqB;AAkH3B,MAAMuK,YAAY,GAAGA,CAAC;EAAE/P,KAAK;EAAEgQ,aAAa;EAAEnK,UAAU;EAAEC,YAAY;EAAEmK,QAAQ;EAAEnJ,OAAO;EAAEoJ;AAAQ,CAAC,KAAK;EAAAC,GAAA;EACvG,MAAM,CAACjO,aAAa,EAAEC,gBAAgB,CAAC,GAAGxK,KAAK,CAACC,QAAQ,CAAC,IAAI,CAAC;EAC9D,MAAM,CAACwY,gBAAgB,EAAEC,mBAAmB,CAAC,GAAG1Y,KAAK,CAACC,QAAQ,CAAC,IAAI,CAAC;EAEpE,MAAM2M,cAAc,GAAGA,CAAC7K,CAAC,EAAEyJ,KAAK,KAAK;IACnCzJ,CAAC,CAACC,cAAc,CAAC,CAAC;IAClBD,CAAC,CAACwK,YAAY,CAACM,UAAU,GAAG,MAAM;IAClCrC,gBAAgB,CAACgB,KAAK,CAAC;EACzB,CAAC;EAED,MAAM0B,UAAU,GAAGA,CAACnL,CAAC,EAAEoL,SAAS,KAAK;IACnCpL,CAAC,CAACC,cAAc,CAAC,CAAC;;IAElB;IACA,IAAI,CAACmN,OAAO,EAAE;MACZ5J,KAAK,CAAC+S,QAAQ,aAARA,QAAQ,eAARA,QAAQ,CAAEnQ,WAAW,GAAG,sDAAsD,GAAG,8BAA8B,CAAC;MACtHqC,gBAAgB,CAAC,IAAI,CAAC;MACtBkO,mBAAmB,CAAC,IAAI,CAAC;MACzB;IACF;IAEA,MAAMtP,IAAI,GAAGrH,CAAC,CAACwK,YAAY,CAACoM,OAAO,CAAC,kBAAkB,CAAC;IAEvD,IAAI;MACF,MAAMC,QAAQ,GAAG7N,IAAI,CAAC8N,KAAK,CAACzP,IAAI,CAAC;MAEjC,IAAIwP,QAAQ,CAACpV,IAAI,KAAK,gBAAgB,EAAE;QACtC;QACA,MAAM6H,OAAO,GAAG;UACdnD,EAAE,EAAEoD,IAAI,CAACC,GAAG,CAAC,CAAC;UACd/H,IAAI,EAAEoV,QAAQ,CAACV,SAAS;UACxB3P,QAAQ,EAAEuQ,kBAAkB,CAACF,QAAQ,CAACV,SAAS,CAAC;UAChDtI,OAAO,EAAEmJ,iBAAiB,CAACH,QAAQ,CAACV,SAAS,CAAC;UAC9CrU,QAAQ,EAAE,IAAI;UACdmV,WAAW,EAAE;QACf,CAAC;QAED,MAAM5L,QAAQ,GAAG,CAAC,GAAG/E,KAAK,CAAC;QAC3B+E,QAAQ,CAACE,MAAM,CAACH,SAAS,EAAE,CAAC,EAAE9B,OAAO,CAAC;QACtCgN,aAAa,CAACjL,QAAQ,CAAC;MACzB,CAAC,MAAM,IAAIwL,QAAQ,CAACpV,IAAI,KAAK,eAAe,EAAE;QAC5C;QACA,MAAMyV,SAAS,GAAGL,QAAQ,CAACpN,KAAK;QAChC,IAAIyN,SAAS,KAAK9L,SAAS,EAAE;UAC3B,MAAMC,QAAQ,GAAG,CAAC,GAAG/E,KAAK,CAAC;UAC3B,MAAMgF,WAAW,GAAGD,QAAQ,CAAC6L,SAAS,CAAC;UACvC7L,QAAQ,CAACE,MAAM,CAAC2L,SAAS,EAAE,CAAC,CAAC;UAC7B,MAAM1L,eAAe,GAAG0L,SAAS,GAAG9L,SAAS,GAAGA,SAAS,GAAG,CAAC,GAAGA,SAAS;UACzEC,QAAQ,CAACE,MAAM,CAACC,eAAe,EAAE,CAAC,EAAEF,WAAW,CAAC;UAChDgL,aAAa,CAACjL,QAAQ,CAAC;QACzB;MACF;IACF,CAAC,CAAC,OAAOjL,KAAK,EAAE;MACduH,OAAO,CAACvH,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;IAClD;IAEAqI,gBAAgB,CAAC,IAAI,CAAC;IACtBkO,mBAAmB,CAAC,IAAI,CAAC;EAC3B,CAAC;EAED,MAAMQ,mBAAmB,GAAGA,CAACnX,CAAC,EAAEyJ,KAAK,KAAK;IACxCzJ,CAAC,CAACwK,YAAY,CAACE,OAAO,CAAC,kBAAkB,EAAE1B,IAAI,CAACC,SAAS,CAAC;MACxDxH,IAAI,EAAE,eAAe;MACrBgI,KAAK,EAAEA;IACT,CAAC,CAAC,CAAC;IACHzJ,CAAC,CAACwK,YAAY,CAACC,aAAa,GAAG,MAAM;IACrCkM,mBAAmB,CAAClN,KAAK,CAAC;EAC5B,CAAC;EAED,MAAMsN,kBAAkB,GAAIZ,SAAS,IAAK;IACxC,QAAQA,SAAS;MACf,KAAK,QAAQ;QAAE,OAAO,4BAA4B;MAClD,KAAK,eAAe;QAAE,OAAO,wBAAwB;MACrD,KAAK,sBAAsB;QAAE,OAAO,kCAAkC;MACtE,KAAK,MAAM;QAAE,OAAO,+BAA+B;MACnD,KAAK,gBAAgB;QAAE,OAAO,aAAa;MAC3C;QAAS,OAAO,aAAa;IAC/B;EACF,CAAC;EAED,MAAMa,iBAAiB,GAAIb,SAAS,IAAK;IACvC,QAAQA,SAAS;MACf,KAAK,eAAe;QAAE,OAAO,CAAC,WAAW,EAAE,WAAW,EAAE,WAAW,CAAC;MACpE,KAAK,sBAAsB;QAAE,OAAO,CAAC,WAAW,EAAE,WAAW,EAAE,WAAW,CAAC;MAC3E;QAAS,OAAO,EAAE;IACpB;EACF,CAAC;;EAED;EACA,MAAMiB,SAAS,GAAG,EAAE;EACpB,KAAK,IAAIpJ,CAAC,GAAG,CAAC,EAAEA,CAAC,IAAI1H,KAAK,CAACjE,MAAM,EAAE2L,CAAC,EAAE,EAAE;IACtCoJ,SAAS,CAACC,IAAI,cACZtY,OAAA;MAEEuY,UAAU,EAAGtX,CAAC,IAAK6K,cAAc,CAAC7K,CAAC,EAAEgO,CAAC,CAAE;MACxCuJ,MAAM,EAAGvX,CAAC,IAAKmL,UAAU,CAACnL,CAAC,EAAEgO,CAAC,CAAE;MAChCwJ,WAAW,EAAEA,CAAA,KAAM/O,gBAAgB,CAAC,IAAI,CAAE;MAC1ClI,KAAK,EAAE;QACLmR,MAAM,EAAElJ,aAAa,KAAKwF,CAAC,GAAG,MAAM,GAAG,MAAM;QAC7C/M,eAAe,EAAEuH,aAAa,KAAKwF,CAAC,GAAG,SAAS,GAAG,aAAa;QAChE9M,MAAM,EAAEsH,aAAa,KAAKwF,CAAC,GAAG,oBAAoB,GAAG,wBAAwB;QAC7E7M,YAAY,EAAE,KAAK;QACnBqD,OAAO,EAAE,MAAM;QACfE,UAAU,EAAE,QAAQ;QACpBD,cAAc,EAAE,QAAQ;QACxBiJ,UAAU,EAAE,eAAe;QAC3BhN,MAAM,EAAE;MACV,CAAE;MAAAC,QAAA,EAED6H,aAAa,KAAKwF,CAAC,iBAClBjP,OAAA;QAAMwB,KAAK,EAAE;UAAEe,KAAK,EAAE,SAAS;UAAED,QAAQ,EAAE,MAAM;UAAEwD,UAAU,EAAE;QAAO,CAAE;QAAAlE,QAAA,EAAC;MAEzE;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM;IACP,GApBI,QAAQiN,CAAC,EAAE;MAAApN,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAqBb,CACP,CAAC;;IAED;IACA,IAAIiN,CAAC,GAAG1H,KAAK,CAACjE,MAAM,EAAE;MACpB+U,SAAS,CAACC,IAAI,cACZtY,OAAA,CAAC+N,cAAc;QAEbnD,IAAI,EAAErD,KAAK,CAAC0H,CAAC,CAAE;QACfvE,KAAK,EAAEuE,CAAE;QACTjB,MAAM,EAAEK,OAAO,GAAG,MAAMjB,UAAU,CAAC7F,KAAK,CAAC0H,CAAC,CAAC,CAAC,GAAGR,SAAU;QACzDR,QAAQ,EAAEI,OAAO,GAAG,MAAMhB,YAAY,CAAC9F,KAAK,CAAC0H,CAAC,CAAC,CAAC7H,EAAE,CAAC,GAAGqH,SAAU;QAChEP,WAAW,EAAEG,OAAO,GAAG+J,mBAAmB,GAAG3J,SAAU;QACvDN,UAAU,EAAEwJ,gBAAgB,KAAK1I,CAAE;QACnCb,UAAU,EAAE,IAAK;QACjBC,OAAO,EAAEA;MAAQ,GARZ9G,KAAK,CAAC0H,CAAC,CAAC,CAAC7H,EAAE;QAAAvF,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OASjB,CACH,CAAC;IACH;EACF;EAEA,MAAM0W,oBAAoB,GAAGA,CAAA,KAAM;IACjC,IAAI,CAACrK,OAAO,EAAE;MACZ,OAAO;QACL8I,IAAI,EAAE,IAAI;QACVlQ,KAAK,EAAEuQ,QAAQ,aAARA,QAAQ,eAARA,QAAQ,CAAEnQ,WAAW,GAAG,gCAAgC,GAAG,qBAAqB;QACvFxG,OAAO,EAAE2W,QAAQ,aAARA,QAAQ,eAARA,QAAQ,CAAEnQ,WAAW,GAC1B,sDAAsD,GACtD;MACN,CAAC;IACH;IAEA,IAAIoC,aAAa,KAAK,CAAC,EAAE;MACvB,OAAO;QACL0N,IAAI,EAAE,IAAI;QACVlQ,KAAK,EAAE,cAAc;QACrBpG,OAAO,EAAE;MACX,CAAC;IACH;IAEA,OAAO;MACLsW,IAAI,EAAE,IAAI;MACVlQ,KAAK,EAAE,cAAc;MACrBpG,OAAO,EAAE;IACX,CAAC;EACH,CAAC;EAED,oBACEb,OAAA;IAAKwB,KAAK,EAAE;MAAEC,OAAO,EAAE,MAAM;MAAEkL,SAAS,EAAE;IAAQ,CAAE;IAAA/K,QAAA,gBAElD5B,OAAA;MAAKwB,KAAK,EAAE;QACVa,YAAY,EAAE,MAAM;QACpBZ,OAAO,EAAE,MAAM;QACfS,eAAe,EAAEsV,QAAQ,aAARA,QAAQ,eAARA,QAAQ,CAAEnQ,WAAW,GAAG,SAAS,GAAG,SAAS;QAC9DlF,MAAM,EAAE,aAAaqV,QAAQ,aAARA,QAAQ,eAARA,QAAQ,CAAEnQ,WAAW,GAAG,SAAS,GAAG,SAAS,EAAE;QACpEjF,YAAY,EAAE;MAChB,CAAE;MAAAR,QAAA,eACS5B,OAAA;QAAKwB,KAAK,EAAE;UAAEiE,OAAO,EAAE,MAAM;UAAEC,cAAc,EAAE,eAAe;UAAEC,UAAU,EAAE;QAAS,CAAE;QAAA/D,QAAA,gBAC5F5B,OAAA;UAAA4B,QAAA,gBACA5B,OAAA;YAAIwB,KAAK,EAAE;cAAEG,MAAM,EAAE,WAAW;cAAEY,KAAK,EAAE;YAAU,CAAE;YAAAX,QAAA,GAClD4V,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEvQ,KAAK,EAAC,uBACjB,EAAC,CAAAuQ,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEnQ,WAAW,kBACpBrH,OAAA;cAAMwB,KAAK,EAAE;gBACXqP,UAAU,EAAE,KAAK;gBACjBvO,QAAQ,EAAE,MAAM;gBAChBJ,eAAe,EAAE,SAAS;gBAC1BK,KAAK,EAAE,OAAO;gBACdd,OAAO,EAAE,SAAS;gBAClBW,YAAY,EAAE;cAChB,CAAE;cAAAR,QAAA,EAAC;YAEH;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CACP;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eACLhC,OAAA;YAAOwB,KAAK,EAAE;cAAEe,KAAK,EAAE;YAAU,CAAE;YAAAX,QAAA,EAAE4V,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEtQ;UAAW;YAAArF,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAChE,CAAC,eACNhC,OAAA;UAAKwB,KAAK,EAAE;YACViE,OAAO,EAAE,MAAM;YACfE,UAAU,EAAE,QAAQ;YACpBC,GAAG,EAAE;UACP,CAAE;UAAAhE,QAAA,gBACa5B,OAAA;YAAMwB,KAAK,EAAE;cACvBU,eAAe,EAAE,SAAS;cAC1BK,KAAK,EAAE,OAAO;cACdd,OAAO,EAAE,SAAS;cAClBW,YAAY,EAAE,MAAM;cACpBE,QAAQ,EAAE,MAAM;cAChBwD,UAAU,EAAE;YACd,CAAE;YAAAlE,QAAA,GACC2F,KAAK,CAACjE,MAAM,EAAC,GAAC,EAACiE,KAAK,CAACjE,MAAM,KAAK,CAAC,GAAG,MAAM,GAAGiE,KAAK,CAACjE,MAAM,GAAG,CAAC,GAAG,OAAO,GAAG,OAAO;UAAA;YAAAzB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC9E,CAAC,EACP,CAACqM,OAAO,iBAAIrO,OAAA;YAAMwB,KAAK,EAAE;cAAEc,QAAQ,EAAE;YAAO,CAAE;YAAAV,QAAA,EAAC;UAAE;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACtD,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,EAELuF,KAAK,CAACjE,MAAM,KAAK,CAAC,gBACjBtD,OAAA;MACEuY,UAAU,EAAElK,OAAO,GAAIpN,CAAC,IAAK6K,cAAc,CAAC7K,CAAC,EAAE,CAAC,CAAC,GAAGwN,SAAU;MAC9D+J,MAAM,EAAEnK,OAAO,GAAIpN,CAAC,IAAKmL,UAAU,CAACnL,CAAC,EAAE,CAAC,CAAC,GAAGwN,SAAU;MACtDgK,WAAW,EAAEpK,OAAO,GAAG,MAAM3E,gBAAgB,CAAC,IAAI,CAAC,GAAG+E,SAAU;MAChEjN,KAAK,EAAE;QACLyB,SAAS,EAAE,QAAQ;QACnBxB,OAAO,EAAE,WAAW;QACpBU,MAAM,EAAE,cAAckM,OAAO,IAAI5E,aAAa,KAAK,CAAC,GAAG,SAAS,GAAG,SAAS,EAAE;QAC9ErH,YAAY,EAAE,MAAM;QACpBF,eAAe,EAAEmM,OAAO,IAAI5E,aAAa,KAAK,CAAC,GAAG,SAAS,GAAG,SAAS;QACvElH,KAAK,EAAE,SAAS;QAChBoM,UAAU,EAAE,eAAe;QAC3BpL,OAAO,EAAE8K,OAAO,GAAG,CAAC,GAAG;MACzB,CAAE;MAAAzM,QAAA,EAED,CAAC,MAAM;QACN,MAAM+W,OAAO,GAAGD,oBAAoB,CAAC,CAAC;QACtC,oBACE1Y,OAAA,CAAAE,SAAA;UAAA0B,QAAA,gBACE5B,OAAA;YAAKwB,KAAK,EAAE;cAAEc,QAAQ,EAAE,MAAM;cAAED,YAAY,EAAE;YAAO,CAAE;YAAAT,QAAA,EACpD+W,OAAO,CAACxB;UAAI;YAAAtV,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACV,CAAC,eACNhC,OAAA;YAAIwB,KAAK,EAAE;cAAEG,MAAM,EAAE;YAAa,CAAE;YAAAC,QAAA,EACjC+W,OAAO,CAAC1R;UAAK;YAAApF,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACZ,CAAC,eACLhC,OAAA;YAAGwB,KAAK,EAAE;cAAEG,MAAM,EAAE;YAAE,CAAE;YAAAC,QAAA,EACrB+W,OAAO,CAAC9X;UAAO;YAAAgB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACf,CAAC;QAAA,eACJ,CAAC;MAEP,CAAC,EAAE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACD,CAAC,gBAENhC,OAAA;MAAKwB,KAAK,EAAE;QAAE+B,OAAO,EAAE8K,OAAO,GAAG,CAAC,GAAG;MAAI,CAAE;MAAAzM,QAAA,EACxCyW;IAAS;MAAAxW,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACP,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;;AAED;AAAA0V,GAAA,CA5PMJ,YAAY;AAAAsB,GAAA,GAAZtB,YAAY;AA6PlB,MAAMrK,iBAAiB,GAAGA,CAAC;EAAEtF,MAAM;EAAEsB,eAAe;EAAEiE,kBAAkB;EAAEC,cAAc;EAAEC,UAAU;EAAEC,YAAY;EAAEvI,IAAI;EAAEwB,UAAU,GAAG;AAAM,CAAC,KAAK;EAAAuS,GAAA;EACjJ,MAAMnY,QAAQ,GAAGjB,WAAW,CAAC,CAAC;EAC9B,MAAMgY,OAAO,GAAG,CAAA3S,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAES,IAAI,MAAK,OAAO;EAEtC,MAAMuT,iBAAiB,GAAGA,CAAC/N,SAAS,EAAEuB,QAAQ,KAAK;IACjDa,cAAc,CAAC3E,IAAI,KAAK;MACtB,GAAGA,IAAI;MACPrB,KAAK,EAAEqB,IAAI,CAACrB,KAAK,CAACnB,GAAG,CAAC,CAACyC,IAAI,EAAEiC,KAAK,KAChCA,KAAK,KAAKK,SAAS,GAAG;QAAE,GAAGtC,IAAI;QAAElB,KAAK,EAAE+E;MAAS,CAAC,GAAG7D,IACvD;IACF,CAAC,CAAC,CAAC;EACL,CAAC;EAED,MAAMsQ,WAAW,GAAItQ,IAAI,IAAK;IAC5B,IAAIA,IAAI,CAACuQ,QAAQ,IAAI,CAAC1S,UAAU,EAAE;MAChC,OAAO,KAAK,CAAC,CAAC;IAChB;IACA,IAAImC,IAAI,CAACpB,WAAW,EAAE;MACpB,OAAOoQ,OAAO;IAChB;IACA,OAAOhP,IAAI,CAACnB,UAAU;EACxB,CAAC;EAED,MAAM2R,eAAe,GAAIlO,SAAS,IAAK;IACrC,MAAMtC,IAAI,GAAGd,MAAM,CAACR,KAAK,CAAC4D,SAAS,CAAC;;IAEpC;IACA,IAAI,CAACzE,UAAU,KAAKmC,IAAI,CAACrB,EAAE,KAAK,CAAC,IAAIqB,IAAI,CAACrB,EAAE,KAAK,CAAC,CAAC,EAAE;MACnD,IAAIqQ,OAAO,EAAE;QACX,MAAMyB,cAAc,GAAGlO,MAAM,CAACC,OAAO,CACnC,yCAAyCxC,IAAI,CAACxB,KAAK,QAAQ,GAC3D,iGAAiG,GACjG,uCACF,CAAC;QAED,IAAIiS,cAAc,EAAE;UAClBxY,QAAQ,CAAC,iBAAiB,CAAC;UAC3B;QACF;MACF,CAAC,MAAM;QACL+D,KAAK,CACH,UAAUgE,IAAI,CAACxB,KAAK,gDAAgD,GACpE,iFACF,CAAC;QACD;MACF;IACF;IAEAiG,kBAAkB,CAACnC,SAAS,CAAC;EAC/B,CAAC;EAED,MAAMoO,aAAa,GAAGA,CAAC1Q,IAAI,EAAEsC,SAAS,KAAK;IACzC;IACA;IACA,MAAMqO,SAAS,GAAGzR,MAAM,CAACR,KAAK,CAAC9B,MAAM,CAACgU,CAAC,IAAI,CAACA,CAAC,CAAChS,WAAW,IAAI,CAACgS,CAAC,CAAC7R,QAAQ,CAAC;IACzE,OAAO,CAACiB,IAAI,CAACpB,WAAW,IAAI,CAACoB,IAAI,CAACjB,QAAQ,IAAI4R,SAAS,CAAC9V,MAAM,GAAG,CAAC;EACpE,CAAC;EAED,MAAMgW,UAAU,GAAGA,CAAA,KAAM;IACvB,MAAMF,SAAS,GAAGzR,MAAM,CAACR,KAAK,CAAC9B,MAAM,CAACgU,CAAC,IAAI,CAACA,CAAC,CAAChS,WAAW,IAAI,CAACgS,CAAC,CAAC7R,QAAQ,CAAC;IACzE,MAAM+R,aAAa,GAAGH,SAAS,CAAC9V,MAAM,GAAG,CAAC;IAC1C,MAAMkW,kBAAkB,GAAG7R,MAAM,CAACR,KAAK,CAAC7D,MAAM,GAAG,CAAC,CAAC,CAAC;;IAEpD,MAAMmW,OAAO,GAAG;MACdrS,EAAE,EAAEoD,IAAI,CAACC,GAAG,CAAC,CAAC;MACdxD,KAAK,EAAE,QAAQsS,aAAa,EAAE;MAC9BrS,WAAW,EAAE,qBAAqBqS,aAAa,EAAE;MACjDlS,WAAW,EAAE,KAAK;MAClBC,UAAU,EAAE,IAAI;MAChBC,KAAK,EAAE;IACT,CAAC;IAED4F,cAAc,CAAC3E,IAAI,IAAI;MACrB,MAAMkR,QAAQ,GAAG,CAAC,GAAGlR,IAAI,CAACrB,KAAK,CAAC;MAChC;MACAuS,QAAQ,CAAClN,MAAM,CAACgN,kBAAkB,EAAE,CAAC,EAAEC,OAAO,CAAC;MAC/C,OAAO;QACL,GAAGjR,IAAI;QACPrB,KAAK,EAAEuS;MACT,CAAC;IACH,CAAC,CAAC;EACJ,CAAC;EAED,MAAMC,UAAU,GAAI5O,SAAS,IAAK;IAChC,MAAMtC,IAAI,GAAGd,MAAM,CAACR,KAAK,CAAC4D,SAAS,CAAC;IACpC,IAAI,CAACoO,aAAa,CAAC1Q,IAAI,EAAEsC,SAAS,CAAC,EAAE;IAErC,IAAIC,MAAM,CAACC,OAAO,CAAC,0BAA0BxC,IAAI,CAACxB,KAAK,+CAA+C,CAAC,EAAE;MACvGkG,cAAc,CAAC3E,IAAI,KAAK;QACtB,GAAGA,IAAI;QACPrB,KAAK,EAAEqB,IAAI,CAACrB,KAAK,CAAC9B,MAAM,CAAC,CAACyK,CAAC,EAAEpF,KAAK,KAAKA,KAAK,KAAKK,SAAS;MAC5D,CAAC,CAAC,CAAC;;MAEH;MACA,IAAI9B,eAAe,KAAK8B,SAAS,EAAE;QACjC;QACA,MAAM6O,cAAc,GAAG7O,SAAS,GAAG,CAAC,GAAGA,SAAS,GAAG,CAAC,GAAG,CAAC;QACxDmC,kBAAkB,CAAC0M,cAAc,CAAC;MACpC,CAAC,MAAM,IAAI3Q,eAAe,GAAG8B,SAAS,EAAE;QACtCmC,kBAAkB,CAACjE,eAAe,GAAG,CAAC,CAAC;MACzC;IACF;EACF,CAAC;EAED,MAAM4Q,UAAU,GAAGA,CAAC9O,SAAS,EAAE+O,QAAQ,KAAK;IAC1C3M,cAAc,CAAC3E,IAAI,KAAK;MACtB,GAAGA,IAAI;MACPrB,KAAK,EAAEqB,IAAI,CAACrB,KAAK,CAACnB,GAAG,CAAC,CAACyC,IAAI,EAAEiC,KAAK,KAChCA,KAAK,KAAKK,SAAS,GAAG;QAAE,GAAGtC,IAAI;QAAExB,KAAK,EAAE6S;MAAS,CAAC,GAAGrR,IACvD;IACF,CAAC,CAAC,CAAC;EACL,CAAC;EAED,oBACEzI,OAAA;IAAKwB,KAAK,EAAE;MAAEiE,OAAO,EAAE,MAAM;MAAEyJ,aAAa,EAAE,QAAQ;MAAEyD,MAAM,EAAE;IAAO,CAAE;IAAA/Q,QAAA,gBAEvE5B,OAAA;MAAKwB,KAAK,EAAE;QACVU,eAAe,EAAE,SAAS;QAC1BT,OAAO,EAAE,WAAW;QACpB+D,YAAY,EAAE,mBAAmB;QACjCC,OAAO,EAAE,MAAM;QACfE,UAAU,EAAE,QAAQ;QACpBD,cAAc,EAAE,eAAe;QAC/BE,GAAG,EAAE;MACP,CAAE;MAAAhE,QAAA,gBACA5B,OAAA;QAAKwB,KAAK,EAAE;UAAEiE,OAAO,EAAE,MAAM;UAAEE,UAAU,EAAE,QAAQ;UAAEC,GAAG,EAAE;QAAO,CAAE;QAAAhE,QAAA,gBACjE5B,OAAA;UAAMwB,KAAK,EAAE;YACXsE,UAAU,EAAE,MAAM;YAClBvD,KAAK,EAAE,SAAS;YAChBD,QAAQ,EAAE;UACZ,CAAE;UAAAV,QAAA,EAAC;QAEH;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eAEPhC,OAAA;UACEyD,OAAO,EAAE6V,UAAW;UACpB9X,KAAK,EAAE;YACLiE,OAAO,EAAE,MAAM;YACfE,UAAU,EAAE,QAAQ;YACpBC,GAAG,EAAE,KAAK;YACVnE,OAAO,EAAE,UAAU;YACnBS,eAAe,EAAE,SAAS;YAC1BK,KAAK,EAAE,OAAO;YACdJ,MAAM,EAAE,MAAM;YACdC,YAAY,EAAE,KAAK;YACnBE,QAAQ,EAAE,MAAM;YAChBwD,UAAU,EAAE,MAAM;YAClBnC,MAAM,EAAE,SAAS;YACjBgL,UAAU,EAAE;UACd,CAAE;UACFiE,YAAY,EAAG3R,CAAC,IAAKA,CAAC,CAAC4B,MAAM,CAACrB,KAAK,CAACU,eAAe,GAAG,SAAU;UAChE2Q,YAAY,EAAG5R,CAAC,IAAKA,CAAC,CAAC4B,MAAM,CAACrB,KAAK,CAACU,eAAe,GAAG,SAAU;UAChE+E,KAAK,EAAC,yDAAyC;UAAArF,QAAA,EAChD;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC,eAENhC,OAAA;QAAKwB,KAAK,EAAE;UAAEiE,OAAO,EAAE,MAAM;UAAEE,UAAU,EAAE,QAAQ;UAAEC,GAAG,EAAE;QAAO,CAAE;QAAAhE,QAAA,gBACjE5B,OAAA;UAAOwB,KAAK,EAAE;YAAEe,KAAK,EAAE,SAAS;YAAED,QAAQ,EAAE;UAAO,CAAE;UAAAV,QAAA,EAAC;QAEtD;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eAERhC,OAAA;UAAKwB,KAAK,EAAE;YACVU,eAAe,EAAE,SAAS;YAC1BT,OAAO,EAAE,SAAS;YAClBW,YAAY,EAAE,KAAK;YACnBE,QAAQ,EAAE,MAAM;YAChBwD,UAAU,EAAE,MAAM;YAClBvD,KAAK,EAAE;UACT,CAAE;UAAAX,QAAA,GACC+F,MAAM,CAACR,KAAK,CAAC9B,MAAM,CAACoD,IAAI,IAAI,CAACA,IAAI,CAACjB,QAAQ,CAAC,CAAClE,MAAM,EAAC,GAAC,EAACqE,MAAM,CAACR,KAAK,CAAC9B,MAAM,CAACoD,IAAI,IAAI,CAACA,IAAI,CAACjB,QAAQ,CAAC,CAAClE,MAAM,KAAK,CAAC,GAAG,MAAM,GAAGqE,MAAM,CAACR,KAAK,CAAC9B,MAAM,CAACoD,IAAI,IAAI,CAACA,IAAI,CAACjB,QAAQ,CAAC,CAAClE,MAAM,GAAG,CAAC,GAAG,OAAO,GAAG,OAAO;QAAA;UAAAzB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACjM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAGNhC,OAAA;MAAKwB,KAAK,EAAE;QACViE,OAAO,EAAE,MAAM;QACfD,YAAY,EAAE,mBAAmB;QACjCtD,eAAe,EAAE,SAAS;QAC1BE,YAAY,EAAE;MAChB,CAAE;MAAAR,QAAA,EACC+F,MAAM,CAACR,KAAK,CACV9B,MAAM,CAACoD,IAAI,IAAI,CAACA,IAAI,CAACjB,QAAQ,CAAC,CAAC;MAAA,CAC/BxB,GAAG,CAAC,CAACyC,IAAI,EAAEsR,aAAa,KAAK;QAC5B;QACA,MAAMC,aAAa,GAAGrS,MAAM,CAACR,KAAK,CAACmE,SAAS,CAAC+N,CAAC,IAAIA,CAAC,CAACjS,EAAE,KAAKqB,IAAI,CAACrB,EAAE,CAAC;QACnE,oBACEpH,OAAA,CAACia,OAAO;UAENxR,IAAI,EAAEA,IAAK;UACXiC,KAAK,EAAEsP,aAAc;UACrBE,QAAQ,EAAEjR,eAAe,KAAK+Q,aAAc;UAC5C3L,OAAO,EAAE0K,WAAW,CAACtQ,IAAI,CAAE;UAC3B0R,SAAS,EAAEhB,aAAa,CAAC1Q,IAAI,EAAEuR,aAAa,CAAE;UAC9CvC,OAAO,EAAEA,OAAQ;UACjBhU,OAAO,EAAEA,CAAA,KAAMwV,eAAe,CAACe,aAAa,CAAE;UAC9C/L,QAAQ,EAAEA,CAAA,KAAM0L,UAAU,CAACK,aAAa,CAAE;UAC1CI,QAAQ,EAAGN,QAAQ,IAAKD,UAAU,CAACG,aAAa,EAAEF,QAAQ;QAAE,GATvDrR,IAAI,CAACrB,EAAE;UAAAvF,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAUb,CAAC;MAEN,CAAC;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACD,CAAC,eAGNhC,OAAA;MAAKwB,KAAK,EAAE;QAAEwL,IAAI,EAAE,CAAC;QAAE9K,eAAe,EAAE;MAAQ,CAAE;MAAAN,QAAA,EAC/C+F,MAAM,CAACR,KAAK,CAAC8B,eAAe,CAAC,iBAC5BjJ,OAAA,CAACsX,YAAY;QACX/P,KAAK,EAAEI,MAAM,CAACR,KAAK,CAAC8B,eAAe,CAAC,CAAC1B,KAAM;QAC3CgQ,aAAa,EAAGjL,QAAQ,IAAKwM,iBAAiB,CAAC7P,eAAe,EAAEqD,QAAQ,CAAE;QAC1Ec,UAAU,EAAEA,UAAW;QACvBC,YAAY,EAAGvC,MAAM,IAAKuC,YAAY,CAACvC,MAAM,EAAE7B,eAAe,CAAE;QAChEuO,QAAQ,EAAE7P,MAAM,CAACR,KAAK,CAAC8B,eAAe,CAAE;QACxCoF,OAAO,EAAE0K,WAAW,CAACpR,MAAM,CAACR,KAAK,CAAC8B,eAAe,CAAC,CAAE;QACpDwO,OAAO,EAAEA;MAAQ;QAAA5V,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAClB;IACF;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;;AAED;AAAA6W,GAAA,CA/NM5L,iBAAiB;EAAA,QACJxN,WAAW;AAAA;AAAA4a,GAAA,GADxBpN,iBAAiB;AAgOvB,MAAMgN,OAAO,GAAGA,CAAC;EAAExR,IAAI;EAAEiC,KAAK;EAAEwP,QAAQ;EAAE7L,OAAO;EAAE8L,SAAS;EAAE1C,OAAO;EAAEhU,OAAO;EAAEwK,QAAQ;EAAEmM;AAAS,CAAC,KAAK;EAAAE,GAAA;EACvG,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGtb,KAAK,CAACC,QAAQ,CAAC,KAAK,CAAC;EACvD,MAAM,CAACsb,SAAS,EAAEC,YAAY,CAAC,GAAGxb,KAAK,CAACC,QAAQ,CAACsJ,IAAI,CAACxB,KAAK,CAAC;EAE5D,MAAM0T,iBAAiB,GAAGA,CAAA,KAAM;IAC9B,IAAItM,OAAO,IAAI,CAAC5F,IAAI,CAACpB,WAAW,EAAE;MAChCmT,YAAY,CAAC,IAAI,CAAC;MAClBE,YAAY,CAACjS,IAAI,CAACxB,KAAK,CAAC;IAC1B;EACF,CAAC;EAED,MAAM2T,cAAc,GAAI3Z,CAAC,IAAK;IAC5B,IAAIA,CAAC,CAACuP,GAAG,KAAK,OAAO,EAAE;MACrBqK,cAAc,CAAC,CAAC;IAClB,CAAC,MAAM,IAAI5Z,CAAC,CAACuP,GAAG,KAAK,QAAQ,EAAE;MAC7BgK,YAAY,CAAC,KAAK,CAAC;MACnBE,YAAY,CAACjS,IAAI,CAACxB,KAAK,CAAC;IAC1B;EACF,CAAC;EAED,MAAM4T,cAAc,GAAGA,CAAA,KAAM;IAC3B,IAAIJ,SAAS,CAAC7K,IAAI,CAAC,CAAC,IAAI6K,SAAS,KAAKhS,IAAI,CAACxB,KAAK,EAAE;MAChDmT,QAAQ,CAACK,SAAS,CAAC7K,IAAI,CAAC,CAAC,CAAC;IAC5B;IACA4K,YAAY,CAAC,KAAK,CAAC;EACrB,CAAC;EAED,oBACExa,OAAA;IACEyD,OAAO,EAAE,CAAC8W,SAAS,GAAG9W,OAAO,GAAGgL,SAAU;IAC1CqM,aAAa,EAAEH,iBAAkB;IACjCnZ,KAAK,EAAE;MACLwL,IAAI,EAAE,CAAC;MACPvL,OAAO,EAAE,WAAW;MACpBkC,MAAM,EAAE4W,SAAS,GAAG,SAAS,GAAG,SAAS;MACzCrY,eAAe,EAAEgY,QAAQ,GAAG,SAAS,GAAG,aAAa;MACrD3X,KAAK,EAAE2X,QAAQ,GAAG,OAAO,GAAIzR,IAAI,CAACpB,WAAW,IAAI,CAACoQ,OAAO,GAAG,MAAM,GAAG,SAAU;MAC/EjS,YAAY,EAAE0U,QAAQ,GAAG,mBAAmB,GAAG,uBAAuB;MACtEvL,UAAU,EAAE,eAAe;MAC3BpL,OAAO,EAAEkF,IAAI,CAACpB,WAAW,IAAI,CAACoQ,OAAO,GAAG,GAAG,GAAG,CAAC;MAC/C5K,QAAQ,EAAE,UAAU;MACpBkO,QAAQ,EAAE;IACZ,CAAE;IACFnI,YAAY,EAAG3R,CAAC,IAAK;MACnB,IAAI,CAACiZ,QAAQ,KAAK7L,OAAO,IAAI,CAAC5F,IAAI,CAACpB,WAAW,CAAC,IAAI,CAACkT,SAAS,EAAE;QAC7DtZ,CAAC,CAAC4B,MAAM,CAACrB,KAAK,CAACU,eAAe,GAAG,SAAS;MAC5C;IACF,CAAE;IACF2Q,YAAY,EAAG5R,CAAC,IAAK;MACnB,IAAI,CAACiZ,QAAQ,IAAI,CAACK,SAAS,EAAE;QAC3BtZ,CAAC,CAAC4B,MAAM,CAACrB,KAAK,CAACU,eAAe,GAAG,aAAa;MAChD;IACF,CAAE;IAAAN,QAAA,gBAEF5B,OAAA;MAAKwB,KAAK,EAAE;QAAEiE,OAAO,EAAE,MAAM;QAAEE,UAAU,EAAE,QAAQ;QAAED,cAAc,EAAE;MAAgB,CAAE;MAAA9D,QAAA,gBACrF5B,OAAA;QAAKwB,KAAK,EAAE;UAAEwL,IAAI,EAAE;QAAE,CAAE;QAAApL,QAAA,GACrB2Y,SAAS,gBACRva,OAAA;UACE0C,IAAI,EAAC,MAAM;UACXC,KAAK,EAAE8X,SAAU;UACjB7X,QAAQ,EAAG3B,CAAC,IAAKyZ,YAAY,CAACzZ,CAAC,CAAC4B,MAAM,CAACF,KAAK,CAAE;UAC9CqY,MAAM,EAAEH,cAAe;UACvBI,SAAS,EAAEL,cAAe;UAC1BpZ,KAAK,EAAE;YACLU,eAAe,EAAE,OAAO;YACxBK,KAAK,EAAE,MAAM;YACbJ,MAAM,EAAE,mBAAmB;YAC3BC,YAAY,EAAE,KAAK;YACnBX,OAAO,EAAE,SAAS;YAClBa,QAAQ,EAAE,MAAM;YAChBwD,UAAU,EAAE,MAAM;YAClB9C,KAAK,EAAE,MAAM;YACb8Q,OAAO,EAAE;UACX,CAAE;UACFoH,SAAS;UACTzX,OAAO,EAAGxC,CAAC,IAAKA,CAAC,CAACka,eAAe,CAAC;QAAE;UAAAtZ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACrC,CAAC,gBAEFhC,OAAA;UAAIwB,KAAK,EAAE;YAAEG,MAAM,EAAE,WAAW;YAAEW,QAAQ,EAAE,MAAM;YAAEwD,UAAU,EAAE;UAAO,CAAE;UAAAlE,QAAA,GACtE6G,IAAI,CAACxB,KAAK,EACVwB,IAAI,CAACpB,WAAW,iBACfrH,OAAA;YAAMwB,KAAK,EAAE;cACXqP,UAAU,EAAE,KAAK;cACjBvO,QAAQ,EAAE,MAAM;cAChBJ,eAAe,EAAE,SAAS;cAC1BK,KAAK,EAAE,OAAO;cACdd,OAAO,EAAE,SAAS;cAClBW,YAAY,EAAE;YAChB,CAAE;YAAAR,QAAA,EAAC;UAEH;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CACP;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CACL,EAEA,CAACuY,SAAS,iBACTva,OAAA;UAAOwB,KAAK,EAAE;YACZ+B,OAAO,EAAE,GAAG;YACZjB,QAAQ,EAAE,MAAM;YAChBmD,OAAO,EAAE;UACX,CAAE;UAAA7D,QAAA,EACC6G,IAAI,CAACvB;QAAW;UAAArF,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACZ,CACR;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,eAENhC,OAAA;QAAKwB,KAAK,EAAE;UAAEiE,OAAO,EAAE,MAAM;UAAEyJ,aAAa,EAAE,QAAQ;UAAEvJ,UAAU,EAAE,UAAU;UAAEC,GAAG,EAAE,KAAK;UAAEiL,UAAU,EAAE;QAAO,CAAE;QAAAjP,QAAA,gBAC/G5B,OAAA;UAAKwB,KAAK,EAAE;YACVU,eAAe,EAAEgY,QAAQ,GAAG,uBAAuB,GAAG,SAAS;YAC/D3X,KAAK,EAAE,OAAO;YACdH,YAAY,EAAE,MAAM;YACpBX,OAAO,EAAE,SAAS;YAClBa,QAAQ,EAAE,MAAM;YAChBwD,UAAU,EAAE;UACd,CAAE;UAAAlE,QAAA,GAAC,OACI,EAAC8I,KAAK,GAAG,CAAC;QAAA;UAAA7I,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACZ,CAAC,eAENhC,OAAA;UAAKwB,KAAK,EAAE;YACVU,eAAe,EAAEgY,QAAQ,GAAG,uBAAuB,GAAG,SAAS;YAC/D3X,KAAK,EAAE,OAAO;YACdH,YAAY,EAAE,KAAK;YACnBX,OAAO,EAAE,SAAS;YAClBa,QAAQ,EAAE,MAAM;YAChBwD,UAAU,EAAE;UACd,CAAE;UAAAlE,QAAA,GACC6G,IAAI,CAAClB,KAAK,CAACjE,MAAM,EAAC,GAAC,EAACmF,IAAI,CAAClB,KAAK,CAACjE,MAAM,KAAK,CAAC,GAAG,MAAM,GAAGmF,IAAI,CAAClB,KAAK,CAACjE,MAAM,GAAG,CAAC,GAAG,OAAO,GAAG,OAAO;QAAA;UAAAzB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC9F,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAGNhC,OAAA;MAAKwB,KAAK,EAAE;QACVqL,QAAQ,EAAE,UAAU;QACpBkD,GAAG,EAAE,KAAK;QACVE,KAAK,EAAE,KAAK;QACZxK,OAAO,EAAE,MAAM;QACfG,GAAG,EAAE,KAAK;QACVrC,OAAO,EAAE2W,QAAQ,GAAG,CAAC,GAAG;MAC1B,CAAE;MAAAtY,QAAA,GACC,CAACyM,OAAO,iBACPrO,OAAA;QAAMwB,KAAK,EAAE;UAAEc,QAAQ,EAAE;QAAO,CAAE;QAAAV,QAAA,EAAC;MAAE;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAC5C,EAEAmY,SAAS,iBACRna,OAAA;QACEyD,OAAO,EAAGxC,CAAC,IAAK;UACdA,CAAC,CAACka,eAAe,CAAC,CAAC;UACnBlN,QAAQ,CAAC,CAAC;QACZ,CAAE;QACFzM,KAAK,EAAE;UACLkC,UAAU,EAAE,MAAM;UAClBvB,MAAM,EAAE,MAAM;UACdG,QAAQ,EAAE,MAAM;UAChBqB,MAAM,EAAE,SAAS;UACjBlC,OAAO,EAAE,KAAK;UACdW,YAAY,EAAE,KAAK;UACnBG,KAAK,EAAE2X,QAAQ,GAAG,uBAAuB,GAAG;QAC9C,CAAE;QACFjT,KAAK,EAAC,mBAAmB;QACzB2L,YAAY,EAAG3R,CAAC,IAAKA,CAAC,CAAC4B,MAAM,CAACrB,KAAK,CAACU,eAAe,GAAG,wBAAyB;QAC/E2Q,YAAY,EAAG5R,CAAC,IAAKA,CAAC,CAAC4B,MAAM,CAACrB,KAAK,CAACU,eAAe,GAAG,aAAc;QAAAN,QAAA,EACrE;MAED;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CACT,EAEAqM,OAAO,IAAI,CAAC5F,IAAI,CAACpB,WAAW,IAAI,CAACkT,SAAS,iBACzCva,OAAA;QACEyD,OAAO,EAAGxC,CAAC,IAAK;UACdA,CAAC,CAACka,eAAe,CAAC,CAAC;UACnBR,iBAAiB,CAAC,CAAC;QACrB,CAAE;QACFnZ,KAAK,EAAE;UACLkC,UAAU,EAAE,MAAM;UAClBvB,MAAM,EAAE,MAAM;UACdG,QAAQ,EAAE,MAAM;UAChBqB,MAAM,EAAE,SAAS;UACjBlC,OAAO,EAAE,KAAK;UACdW,YAAY,EAAE,KAAK;UACnBG,KAAK,EAAE2X,QAAQ,GAAG,uBAAuB,GAAG;QAC9C,CAAE;QACFjT,KAAK,EAAC,uCAAkC;QACxC2L,YAAY,EAAG3R,CAAC,IAAKA,CAAC,CAAC4B,MAAM,CAACrB,KAAK,CAACU,eAAe,GAAG,0BAA2B;QACjF2Q,YAAY,EAAG5R,CAAC,IAAKA,CAAC,CAAC4B,MAAM,CAACrB,KAAK,CAACU,eAAe,GAAG,aAAc;QAAAN,QAAA,EACrE;MAED;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CACT;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,EAEL,CAACuY,SAAS,IAAIlM,OAAO,IAAI,CAAC5F,IAAI,CAACpB,WAAW,iBACzCrH,OAAA;MAAKwB,KAAK,EAAE;QACVqL,QAAQ,EAAE,UAAU;QACpBqD,MAAM,EAAE,KAAK;QACbF,IAAI,EAAE,KAAK;QACXpB,SAAS,EAAE,kBAAkB;QAC7BtM,QAAQ,EAAE,KAAK;QACfiB,OAAO,EAAE,GAAG;QACZhB,KAAK,EAAE2X,QAAQ,GAAG,uBAAuB,GAAG;MAC9C,CAAE;MAAAtY,QAAA,EAAC;IAEH;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;;AAED;AAAAsY,GAAA,CAhNML,OAAO;AAAAmB,IAAA,GAAPnB,OAAO;AAiNb,MAAMoB,uBAAuB,GAAGA,CAAA,KAAM;EAAAC,GAAA;EACpC,MAAM;IAAEzS;EAAS,CAAC,GAAGnJ,SAAS,CAAC,CAAC;EAChC,oBAAOM,OAAA,CAACoG,aAAa;IAACC,eAAe,EAAEwC;EAAS;IAAAhH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC;AACrD,CAAC;;AAED;AAAAsZ,GAAA,CALMD,uBAAuB;EAAA,QACN3b,SAAS;AAAA;AAAA6b,IAAA,GAD1BF,uBAAuB;AAM7B,MAAMG,oBAAoB,GAAGA,CAAA,KAAM;EACjC,oBAAOxb,OAAA,CAACoG,aAAa;IAACE,UAAU,EAAE;EAAK;IAAAzE,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC;AAC5C,CAAC;AAACyZ,IAAA,GAFID,oBAAoB;AAI1B,MAAME,UAAU,GAAGA,CAAA,KAAM;EAAAC,IAAA;EACvB,MAAM;IAAE7W;EAAK,CAAC,GAAGjF,OAAO,CAAC,CAAC;EAC1B,MAAMa,QAAQ,GAAGjB,WAAW,CAAC,CAAC;EAC9B,MAAM,CAACmc,OAAO,EAAEC,UAAU,CAAC,GAAG3c,KAAK,CAACC,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAAC2c,OAAO,EAAEC,UAAU,CAAC,GAAG7c,KAAK,CAACC,QAAQ,CAAC,IAAI,CAAC;EAClD,MAAM,CAACkC,KAAK,EAAE2a,QAAQ,CAAC,GAAG9c,KAAK,CAACC,QAAQ,CAAC,IAAI,CAAC;;EAG9C;EACAD,KAAK,CAAC6B,SAAS,CAAC,MAAM;IACpBkb,YAAY,CAAC,CAAC;EAChB,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMA,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B,IAAI;MACFF,UAAU,CAAC,IAAI,CAAC;MAChBC,QAAQ,CAAC,IAAI,CAAC;MACd,MAAMhU,QAAQ,GAAG,MAAMC,KAAK,CAAC,cAAc,EAAE;QAC3CC,OAAO,EAAE;UACP,eAAe,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;QAC1D;MACF,CAAC,CAAC;MAEF,IAAIJ,QAAQ,CAACK,EAAE,EAAE;QACf,MAAMC,IAAI,GAAG,MAAMN,QAAQ,CAACO,IAAI,CAAC,CAAC;QAClCsT,UAAU,CAACvT,IAAI,CAACsT,OAAO,IAAI,EAAE,CAAC;MAChC,CAAC,MAAM;QACL,MAAM,IAAI5S,KAAK,CAAC,8BAA8B,CAAC;MACjD;IACF,CAAC,CAAC,OAAO3H,KAAK,EAAE;MACduH,OAAO,CAACvH,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;MAC/C2a,QAAQ,CAAC3a,KAAK,CAACR,OAAO,CAAC;IACzB,CAAC,SAAS;MACRkb,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,MAAMG,UAAU,GAAIvU,MAAM,IAAK;IAC7BjH,QAAQ,CAAC,wBAAwBiH,MAAM,CAACP,EAAE,EAAE,CAAC;EAC/C,CAAC;EAED,MAAM+U,YAAY,GAAG,MAAAA,CAAOtT,QAAQ,EAAEuT,WAAW,KAAK;IACpD,IAAIpR,MAAM,CAACC,OAAO,CAAC,mCAAmCmR,WAAW,IAAI,CAAC,EAAE;MACtE,IAAI;QACF,MAAMpU,QAAQ,GAAG,MAAMC,KAAK,CAAC,gBAAgBY,QAAQ,EAAE,EAAE;UACvDkB,MAAM,EAAE,QAAQ;UAChB7B,OAAO,EAAE;YACP,eAAe,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;UAC1D;QACF,CAAC,CAAC;QAEF,IAAIJ,QAAQ,CAACK,EAAE,EAAE;UACf,MAAM4T,YAAY,CAAC,CAAC;UACpBxX,KAAK,CAAC,qBAAqB,CAAC;QAC9B,CAAC,MAAM;UACL,MAAM,IAAIuE,KAAK,CAAC,4BAA4B,CAAC;QAC/C;MACF,CAAC,CAAC,OAAO3H,KAAK,EAAE;QACduH,OAAO,CAACvH,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;QAC9CoD,KAAK,CAAC,8BAA8B,GAAGpD,KAAK,CAACR,OAAO,CAAC;MACvD;IACF;EACF,CAAC;EAID,MAAMwb,cAAc,GAAIC,MAAM,IAAK;IACjC,QAAQA,MAAM;MACZ,KAAK,QAAQ;QAAE,OAAO,SAAS;MAC/B,KAAK,OAAO;QAAE,OAAO,SAAS;MAC9B,KAAK,QAAQ;QAAE,OAAO,SAAS;MAC/B,KAAK,WAAW;QAAE,OAAO,SAAS;MAClC;QAAS,OAAO,SAAS;IAC3B;EACF,CAAC;EAED,MAAMC,aAAa,GAAID,MAAM,IAAK;IAChC,QAAQA,MAAM;MACZ,KAAK,QAAQ;QAAE,OAAO,SAAS;MAC/B,KAAK,OAAO;QAAE,OAAO,SAAS;MAC9B,KAAK,QAAQ;QAAE,OAAO,aAAa;MACnC,KAAK,WAAW;QAAE,OAAO,WAAW;MACpC;QAAS,OAAOA,MAAM;IACxB;EACF,CAAC;EAED,IAAIR,OAAO,EAAE;IACX,oBAAO9b,OAAA;MAAKwB,KAAK,EAAE;QAAEC,OAAO,EAAE;MAAO,CAAE;MAAAG,QAAA,EAAC;IAAqB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC;EACrE;EAEA,IAAIX,KAAK,EAAE;IACT,oBACErB,OAAA;MAAKwB,KAAK,EAAE;QAAEC,OAAO,EAAE;MAAO,CAAE;MAAAG,QAAA,gBAC9B5B,OAAA;QAAKwB,KAAK,EAAE;UAAEe,KAAK,EAAE,KAAK;UAAEF,YAAY,EAAE;QAAO,CAAE;QAAAT,QAAA,GAAC,SAAO,EAACP,KAAK;MAAA;QAAAQ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eACxEhC,OAAA;QAAQyD,OAAO,EAAEwY,YAAa;QAACza,KAAK,EAAE;UAAEC,OAAO,EAAE,UAAU;UAAES,eAAe,EAAE,SAAS;UAAEK,KAAK,EAAE,OAAO;UAAEJ,MAAM,EAAE,MAAM;UAAEC,YAAY,EAAE;QAAM,CAAE;QAAAR,QAAA,EAAC;MAEhJ;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC;EAEV;EAEA,oBACEhC,OAAA;IAAKwB,KAAK,EAAE;MAAEC,OAAO,EAAE;IAAO,CAAE;IAAAG,QAAA,gBAC9B5B,OAAA;MAAKwB,KAAK,EAAE;QAAEiE,OAAO,EAAE,MAAM;QAAEC,cAAc,EAAE,eAAe;QAAEC,UAAU,EAAE,QAAQ;QAAEtD,YAAY,EAAE;MAAO,CAAE;MAAAT,QAAA,gBAC3G5B,OAAA;QAAA4B,QAAA,EAAI;MAAgB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACzBhC,OAAA;QAAKwB,KAAK,EAAE;UAAEc,QAAQ,EAAE,MAAM;UAAEC,KAAK,EAAE;QAAU,CAAE;QAAAX,QAAA,EAChD,CAAAkD,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAES,IAAI,MAAK,OAAO,GAAG,6BAA6B,GAAG;MAA0B;QAAA1D,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACjF,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,EAEL4Z,OAAO,CAACtY,MAAM,KAAK,CAAC,gBACnBtD,OAAA;MAAKwB,KAAK,EAAE;QAAEyB,SAAS,EAAE,QAAQ;QAAExB,OAAO,EAAE,MAAM;QAAEc,KAAK,EAAE;MAAU,CAAE;MAAAX,QAAA,gBACrE5B,OAAA;QAAA4B,QAAA,EAAG;MAAgC;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC,eACvChC,OAAA;QAAA4B,QAAA,EAAG;MAAqD;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACzD,CAAC,gBAENhC,OAAA;MAAKwB,KAAK,EAAE;QAAEgb,SAAS,EAAE;MAAO,CAAE;MAAA5a,QAAA,eAChC5B,OAAA;QAAOwB,KAAK,EAAE;UAAEwB,KAAK,EAAE,MAAM;UAAEyZ,cAAc,EAAE,UAAU;UAAEjZ,SAAS,EAAE;QAAO,CAAE;QAAA5B,QAAA,gBAC7E5B,OAAA;UAAA4B,QAAA,eACE5B,OAAA;YAAIwB,KAAK,EAAE;cAAEU,eAAe,EAAE;YAAU,CAAE;YAAAN,QAAA,gBACxC5B,OAAA;cAAIwB,KAAK,EAAE;gBAAEC,OAAO,EAAE,MAAM;gBAAEwB,SAAS,EAAE,MAAM;gBAAEd,MAAM,EAAE,mBAAmB;gBAAE2D,UAAU,EAAE;cAAO,CAAE;cAAAlE,QAAA,EAAC;YAAK;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAC9GhC,OAAA;cAAIwB,KAAK,EAAE;gBAAEC,OAAO,EAAE,MAAM;gBAAEwB,SAAS,EAAE,MAAM;gBAAEd,MAAM,EAAE,mBAAmB;gBAAE2D,UAAU,EAAE;cAAO,CAAE;cAAAlE,QAAA,EAAC;YAAQ;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACjHhC,OAAA;cAAIwB,KAAK,EAAE;gBAAEC,OAAO,EAAE,MAAM;gBAAEwB,SAAS,EAAE,MAAM;gBAAEd,MAAM,EAAE,mBAAmB;gBAAE2D,UAAU,EAAE;cAAO,CAAE;cAAAlE,QAAA,EAAC;YAAM;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAC/GhC,OAAA;cAAIwB,KAAK,EAAE;gBAAEC,OAAO,EAAE,MAAM;gBAAEwB,SAAS,EAAE,QAAQ;gBAAEd,MAAM,EAAE,mBAAmB;gBAAE2D,UAAU,EAAE;cAAO,CAAE;cAAAlE,QAAA,EAAC;YAAc;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACzHhC,OAAA;cAAIwB,KAAK,EAAE;gBAAEC,OAAO,EAAE,MAAM;gBAAEwB,SAAS,EAAE,MAAM;gBAAEd,MAAM,EAAE,mBAAmB;gBAAE2D,UAAU,EAAE;cAAO,CAAE;cAAAlE,QAAA,EAAC;YAAS;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAClHhC,OAAA;cAAIwB,KAAK,EAAE;gBAAEC,OAAO,EAAE,MAAM;gBAAEwB,SAAS,EAAE,MAAM;gBAAEd,MAAM,EAAE,mBAAmB;gBAAE2D,UAAU,EAAE;cAAO,CAAE;cAAAlE,QAAA,EAAC;YAAQ;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACjHhC,OAAA;cAAIwB,KAAK,EAAE;gBAAEC,OAAO,EAAE,MAAM;gBAAEwB,SAAS,EAAE,QAAQ;gBAAEd,MAAM,EAAE,mBAAmB;gBAAE2D,UAAU,EAAE;cAAO,CAAE;cAAAlE,QAAA,EAAC;YAAI;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC7G;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACA,CAAC,eACRhC,OAAA;UAAA4B,QAAA,EACGga,OAAO,CAAC5V,GAAG,CAAC2B,MAAM,iBACjB3H,OAAA;YAAoBwB,KAAK,EAAE;cAAEU,eAAe,EAAEyF,MAAM,CAACP,EAAE,GAAG,CAAC,KAAK,CAAC,GAAG,SAAS,GAAG;YAAQ,CAAE;YAAAxF,QAAA,gBACxF5B,OAAA;cAAIwB,KAAK,EAAE;gBAAEC,OAAO,EAAE,MAAM;gBAAEU,MAAM,EAAE;cAAoB,CAAE;cAAAP,QAAA,gBAC1D5B,OAAA;gBAAKwB,KAAK,EAAE;kBAAEsE,UAAU,EAAE,MAAM;kBAAEzD,YAAY,EAAE;gBAAM,CAAE;gBAAAT,QAAA,EAAE+F,MAAM,CAACV;cAAK;gBAAApF,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,EAC5E2F,MAAM,CAACT,WAAW,iBACjBlH,OAAA;gBAAKwB,KAAK,EAAE;kBAAEc,QAAQ,EAAE,MAAM;kBAAEC,KAAK,EAAE,SAAS;kBAAEb,QAAQ,EAAE,OAAO;kBAAE2O,QAAQ,EAAE,QAAQ;kBAAE4F,YAAY,EAAE;gBAAW,CAAE;gBAAArU,QAAA,EACjH+F,MAAM,CAACT;cAAW;gBAAArF,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAChB,CACN;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CAAC,eACLhC,OAAA;cAAIwB,KAAK,EAAE;gBAAEC,OAAO,EAAE,MAAM;gBAAEU,MAAM,EAAE;cAAoB,CAAE;cAAAP,QAAA,gBAC1D5B,OAAA;gBAAKwB,KAAK,EAAE;kBAAEsE,UAAU,EAAE;gBAAO,CAAE;gBAAAlE,QAAA,EAAE+F,MAAM,CAAC+U;cAAc;gBAAA7a,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,EAChE,CAAA8C,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAES,IAAI,MAAK,OAAO,IAAIoC,MAAM,CAACgV,OAAO,KAAK7X,IAAI,CAACsC,EAAE,iBACnDpH,OAAA;gBAAKwB,KAAK,EAAE;kBAAEc,QAAQ,EAAE,MAAM;kBAAEC,KAAK,EAAE,SAAS;kBAAEuD,UAAU,EAAE;gBAAO,CAAE;gBAAAlE,QAAA,EAAC;cAAI;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAClF;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CAAC,eACLhC,OAAA;cAAIwB,KAAK,EAAE;gBAAEC,OAAO,EAAE,MAAM;gBAAEU,MAAM,EAAE;cAAoB,CAAE;cAAAP,QAAA,eAC1D5B,OAAA;gBAAMwB,KAAK,EAAE;kBACXC,OAAO,EAAE,SAAS;kBAClBW,YAAY,EAAE,MAAM;kBACpBF,eAAe,EAAEma,cAAc,CAAC1U,MAAM,CAAC2U,MAAM,CAAC;kBAC9C/Z,KAAK,EAAE,OAAO;kBACdD,QAAQ,EAAE,MAAM;kBAChBwD,UAAU,EAAE;gBACd,CAAE;gBAAAlE,QAAA,EACC2a,aAAa,CAAC5U,MAAM,CAAC2U,MAAM;cAAC;gBAAAza,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACzB;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACL,CAAC,eACLhC,OAAA;cAAIwB,KAAK,EAAE;gBAAEC,OAAO,EAAE,MAAM;gBAAEU,MAAM,EAAE,mBAAmB;gBAAEc,SAAS,EAAE;cAAS,CAAE;cAAArB,QAAA,GAC9E+F,MAAM,CAACiV,SAAS,gBACf5c,OAAA;gBAAMwB,KAAK,EAAE;kBACXC,OAAO,EAAE,SAAS;kBAClBW,YAAY,EAAE,MAAM;kBACpBF,eAAe,EAAE,SAAS;kBAC1BK,KAAK,EAAE,OAAO;kBACdD,QAAQ,EAAE,MAAM;kBAChBwD,UAAU,EAAE;gBACd,CAAE;gBAAAlE,QAAA,EAAC;cAEH;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,gBAEPhC,OAAA;gBAAMwB,KAAK,EAAE;kBACXC,OAAO,EAAE,SAAS;kBAClBW,YAAY,EAAE,MAAM;kBACpBF,eAAe,EAAE,SAAS;kBAC1BK,KAAK,EAAE,OAAO;kBACdD,QAAQ,EAAE;gBACZ,CAAE;gBAAAV,QAAA,EAAC;cAEH;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CACP,eACDhC,OAAA;gBAAKwB,KAAK,EAAE;kBAAEc,QAAQ,EAAE,MAAM;kBAAEC,KAAK,EAAE,SAAS;kBAAEiB,SAAS,EAAE;gBAAM,CAAE;gBAAA5B,QAAA,GAClE+F,MAAM,CAACkV,WAAW,IAAI,CAAC,EAAC,cAC3B;cAAA;gBAAAhb,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACJ,CAAC,eACLhC,OAAA;cAAIwB,KAAK,EAAE;gBAAEC,OAAO,EAAE,MAAM;gBAAEU,MAAM,EAAE,mBAAmB;gBAAEG,QAAQ,EAAE;cAAO,CAAE;cAAAV,QAAA,GAC3E,IAAI4I,IAAI,CAAC7C,MAAM,CAACmV,UAAU,CAAC,CAACC,kBAAkB,CAAC,OAAO,EAAE;gBACvDC,GAAG,EAAE,SAAS;gBACdC,KAAK,EAAE,SAAS;gBAChBC,IAAI,EAAE;cACR,CAAC,CAAC,eACFld,OAAA;gBAAKwB,KAAK,EAAE;kBAAEc,QAAQ,EAAE,MAAM;kBAAEC,KAAK,EAAE;gBAAU,CAAE;gBAAAX,QAAA,EAChD,IAAI4I,IAAI,CAAC7C,MAAM,CAACmV,UAAU,CAAC,CAACK,kBAAkB,CAAC,OAAO,EAAE;kBACvDC,IAAI,EAAE,SAAS;kBACfC,MAAM,EAAE;gBACV,CAAC;cAAC;gBAAAxb,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACJ,CAAC,eACLhC,OAAA;cAAIwB,KAAK,EAAE;gBAAEC,OAAO,EAAE,MAAM;gBAAEU,MAAM,EAAE,mBAAmB;gBAAEG,QAAQ,EAAE;cAAO,CAAE;cAAAV,QAAA,GAC3E,IAAI4I,IAAI,CAAC7C,MAAM,CAAC2V,UAAU,CAAC,CAACP,kBAAkB,CAAC,OAAO,EAAE;gBACvDC,GAAG,EAAE,SAAS;gBACdC,KAAK,EAAE,SAAS;gBAChBC,IAAI,EAAE;cACR,CAAC,CAAC,eACFld,OAAA;gBAAKwB,KAAK,EAAE;kBAAEc,QAAQ,EAAE,MAAM;kBAAEC,KAAK,EAAE;gBAAU,CAAE;gBAAAX,QAAA,EAChD,IAAI4I,IAAI,CAAC7C,MAAM,CAAC2V,UAAU,CAAC,CAACH,kBAAkB,CAAC,OAAO,EAAE;kBACvDC,IAAI,EAAE,SAAS;kBACfC,MAAM,EAAE;gBACV,CAAC;cAAC;gBAAAxb,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACJ,CAAC,eACLhC,OAAA;cAAIwB,KAAK,EAAE;gBAAEC,OAAO,EAAE,MAAM;gBAAEU,MAAM,EAAE,mBAAmB;gBAAEc,SAAS,EAAE;cAAS,CAAE;cAAArB,QAAA,eAC/E5B,OAAA;gBAAKwB,KAAK,EAAE;kBAAEiE,OAAO,EAAE,MAAM;kBAAEyJ,aAAa,EAAE,QAAQ;kBAAEtJ,GAAG,EAAE,KAAK;kBAAED,UAAU,EAAE;gBAAS,CAAE;gBAAA/D,QAAA,GACxF,CAAC,CAAAkD,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAES,IAAI,MAAK,OAAO,IAAIoC,MAAM,CAACgV,OAAO,MAAK7X,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEsC,EAAE,mBACrDpH,OAAA,CAAAE,SAAA;kBAAA0B,QAAA,gBACE5B,OAAA;oBACEyD,OAAO,EAAEA,CAAA,KAAMyY,UAAU,CAACvU,MAAM,CAAE;oBAClCnG,KAAK,EAAE;sBACLC,OAAO,EAAE,SAAS;sBAClBS,eAAe,EAAE,SAAS;sBAC1BC,MAAM,EAAE,MAAM;sBACdC,YAAY,EAAE,KAAK;sBACnBE,QAAQ,EAAE,MAAM;sBAChBqB,MAAM,EAAE,SAAS;sBACjBoX,QAAQ,EAAE;oBACZ,CAAE;oBACF9T,KAAK,EAAC,qBAAkB;oBAAArF,QAAA,EACzB;kBAED;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC,eAEThC,OAAA;oBACEyD,OAAO,EAAEA,CAAA,KAAM0Y,YAAY,CAACxU,MAAM,CAACP,EAAE,EAAEO,MAAM,CAACV,KAAK,CAAE;oBACrDzF,KAAK,EAAE;sBACLC,OAAO,EAAE,SAAS;sBAClBS,eAAe,EAAE,SAAS;sBAC1BK,KAAK,EAAE,OAAO;sBACdJ,MAAM,EAAE,MAAM;sBACdC,YAAY,EAAE,KAAK;sBACnBE,QAAQ,EAAE,MAAM;sBAChBqB,MAAM,EAAE,SAAS;sBACjBoX,QAAQ,EAAE;oBACZ,CAAE;oBACF9T,KAAK,EAAC,oBAAiB;oBAAArF,QAAA,EACxB;kBAED;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC;gBAAA,eACT,CACH,EAEA,CAAA8C,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAES,IAAI,MAAK,OAAO,IAAIoC,MAAM,CAACgV,OAAO,MAAK7X,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEsC,EAAE,kBACpDpH,OAAA;kBAAMwB,KAAK,EAAE;oBAAEc,QAAQ,EAAE,MAAM;oBAAEC,KAAK,EAAE,SAAS;oBAAEwR,SAAS,EAAE;kBAAS,CAAE;kBAAAnS,QAAA,EAAC;gBAE1E;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CACP;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACJ,CAAC;UAAA,GA7HE2F,MAAM,CAACP,EAAE;YAAAvF,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OA8Hd,CACL;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAGE,CAAC;AAEV,CAAC;AAAC2Z,IAAA,CA3QID,UAAU;EAAA,QACG7b,OAAO,EACPJ,WAAW;AAAA;AAAA8d,IAAA,GAFxB7B,UAAU;AA6QhB,MAAM8B,SAAS,GAAGA,CAAA,KAAM;EAAAC,IAAA;EACtB,MAAM;IAAE3Y;EAAK,CAAC,GAAGjF,OAAO,CAAC,CAAC;EAC1B,MAAM,CAAC6d,MAAM,EAAEC,SAAS,CAAC,GAAGze,KAAK,CAACC,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACyc,OAAO,EAAEC,UAAU,CAAC,GAAG3c,KAAK,CAACC,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAAC2c,OAAO,EAAEC,UAAU,CAAC,GAAG7c,KAAK,CAACC,QAAQ,CAAC,IAAI,CAAC;EAClD,MAAM,CAACkC,KAAK,EAAE2a,QAAQ,CAAC,GAAG9c,KAAK,CAACC,QAAQ,CAAC,IAAI,CAAC;EAC9C,MAAM,CAACye,cAAc,EAAEC,iBAAiB,CAAC,GAAG3e,KAAK,CAACC,QAAQ,CAAC,KAAK,CAAC;EACjE,MAAM,CAAC2e,QAAQ,EAAEC,WAAW,CAAC,GAAG7e,KAAK,CAACC,QAAQ,CAAC;IAC7C0J,QAAQ,EAAE,EAAE;IACZmV,cAAc,EAAE,EAAE;IAClBC,SAAS,EAAE,EAAE;IACbC,OAAO,EAAE;EACX,CAAC,CAAC;;EAEF;EACAhf,KAAK,CAAC6B,SAAS,CAAC,MAAM;IACpBod,WAAW,CAAC,CAAC;IACblC,YAAY,CAAC,CAAC;EAChB,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMkC,WAAW,GAAG,MAAAA,CAAA,KAAY;IAC9B,IAAI;MACFpC,UAAU,CAAC,IAAI,CAAC;MAChBC,QAAQ,CAAC,IAAI,CAAC;MACd,MAAMhU,QAAQ,GAAG,MAAMC,KAAK,CAAC,aAAa,EAAE;QAC1CC,OAAO,EAAE;UACP,eAAe,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;QAC1D;MACF,CAAC,CAAC;MAEF,IAAIJ,QAAQ,CAACK,EAAE,EAAE;QACf,MAAMC,IAAI,GAAG,MAAMN,QAAQ,CAACO,IAAI,CAAC,CAAC;QAClCoV,SAAS,CAACrV,IAAI,CAACoV,MAAM,IAAI,EAAE,CAAC;MAC9B,CAAC,MAAM;QACL,MAAM,IAAI1U,KAAK,CAAC,2BAA2B,CAAC;MAC9C;IACF,CAAC,CAAC,OAAO3H,KAAK,EAAE;MACduH,OAAO,CAACvH,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;MAC9C2a,QAAQ,CAAC3a,KAAK,CAACR,OAAO,CAAC;IACzB,CAAC,SAAS;MACRkb,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,MAAME,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B,IAAI;MACF,MAAMjU,QAAQ,GAAG,MAAMC,KAAK,CAAC,cAAc,EAAE;QAC3CC,OAAO,EAAE;UACP,eAAe,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;QAC1D;MACF,CAAC,CAAC;MAEF,IAAIJ,QAAQ,CAACK,EAAE,EAAE;QACf,MAAMC,IAAI,GAAG,MAAMN,QAAQ,CAACO,IAAI,CAAC,CAAC;QAClCsT,UAAU,CAACvT,IAAI,CAACsT,OAAO,IAAI,EAAE,CAAC;MAChC;IACF,CAAC,CAAC,OAAOva,KAAK,EAAE;MACduH,OAAO,CAACvH,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;IACjD;EACF,CAAC;EAED,MAAM+c,iBAAiB,GAAG,MAAOnd,CAAC,IAAK;IACrCA,CAAC,CAACC,cAAc,CAAC,CAAC;IAElB,IAAI,CAAC4c,QAAQ,CAACjV,QAAQ,EAAE;MACtBpE,KAAK,CAAC,yBAAyB,CAAC;MAChC;IACF;IAEA,IAAI;MACF,MAAMuD,QAAQ,GAAG,MAAMC,KAAK,CAAC,aAAa,EAAE;QAC1C8B,MAAM,EAAE,MAAM;QACd7B,OAAO,EAAE;UACP,cAAc,EAAE,kBAAkB;UAClC,eAAe,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;QAC1D,CAAC;QACD4B,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UACnBmU,SAAS,EAAEP,QAAQ,CAACjV,QAAQ;UAC5ByV,eAAe,EAAER,QAAQ,CAACE,cAAc,CAACO,KAAK,CAAC,IAAI,CAAC,CAAClZ,MAAM,CAACyQ,CAAC,IAAIA,CAAC,CAAClG,IAAI,CAAC,CAAC,CAAC;UAC1E4O,UAAU,EAAEV,QAAQ,CAACG,SAAS,IAAI,IAAI;UACtCQ,WAAW,EAAEX,QAAQ,CAACI,OAAO,IAAI;QACnC,CAAC;MACH,CAAC,CAAC;MAEF,IAAIlW,QAAQ,CAACK,EAAE,EAAE;QACf,MAAM8V,WAAW,CAAC,CAAC;QACnBN,iBAAiB,CAAC,KAAK,CAAC;QACxBE,WAAW,CAAC;UAAElV,QAAQ,EAAE,EAAE;UAAEmV,cAAc,EAAE,EAAE;UAAEC,SAAS,EAAE,EAAE;UAAEC,OAAO,EAAE;QAAG,CAAC,CAAC;QAC7EzZ,KAAK,CAAC,6BAA6B,CAAC;MACtC,CAAC,MAAM;QACL,MAAMia,SAAS,GAAG,MAAM1W,QAAQ,CAACO,IAAI,CAAC,CAAC;QACvC,MAAM,IAAIS,KAAK,CAAC0V,SAAS,CAACrd,KAAK,IAAI,4BAA4B,CAAC;MAClE;IACF,CAAC,CAAC,OAAOA,KAAK,EAAE;MACduH,OAAO,CAACvH,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;MAC7CoD,KAAK,CAAC,8BAA8B,GAAGpD,KAAK,CAACR,OAAO,CAAC;IACvD;EACF,CAAC;EAED,MAAM8d,kBAAkB,GAAG,MAAAA,CAAOC,OAAO,EAAEC,aAAa,KAAK;IAC3D,MAAMC,SAAS,GAAGD,aAAa,KAAK,QAAQ,GAAG,QAAQ,GAAG,QAAQ;IAClE,MAAME,MAAM,GAAGD,SAAS,KAAK,QAAQ,GAAG,SAAS,GAAG,YAAY;IAChE,MAAME,QAAQ,GAAGF,SAAS,KAAK,QAAQ,GAAG,QAAQ,GAAG,OAAO;IAE5D,IAAI9T,MAAM,CAACC,OAAO,CAAC,kBAAkB8T,MAAM,eAAe,CAAC,EAAE;MAC3D,IAAI;QACF,MAAM/W,QAAQ,GAAG,MAAMC,KAAK,CAAC,eAAe2W,OAAO,IAAII,QAAQ,EAAE,EAAE;UACjEjV,MAAM,EAAE,OAAO;UACf7B,OAAO,EAAE;YACP,eAAe,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;UAC1D;QACF,CAAC,CAAC;QAEF,IAAIJ,QAAQ,CAACK,EAAE,EAAE;UACf,MAAM8V,WAAW,CAAC,CAAC;UACnB1Z,KAAK,CAAC,aAAaqa,SAAS,KAAK,QAAQ,GAAG,SAAS,GAAG,YAAY,EAAE,CAAC;QACzE,CAAC,MAAM;UACL,MAAM,IAAI9V,KAAK,CAAC,yBAAyB,CAAC;QAC5C;MACF,CAAC,CAAC,OAAO3H,KAAK,EAAE;QACduH,OAAO,CAACvH,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;QAC7CoD,KAAK,CAAC,2BAA2B,GAAGpD,KAAK,CAACR,OAAO,CAAC;MACpD;IACF;EACF,CAAC;EAED,MAAMoe,iBAAiB,GAAG,MAAAA,CAAOL,OAAO,EAAEM,SAAS,KAAK;IACtD,IAAIlU,MAAM,CAACC,OAAO,CAAC,gCAAgCiU,SAAS,IAAI,CAAC,EAAE;MACjE,IAAI;QACF,MAAMlX,QAAQ,GAAG,MAAMC,KAAK,CAAC,eAAe2W,OAAO,EAAE,EAAE;UACrD7U,MAAM,EAAE,QAAQ;UAChB7B,OAAO,EAAE;YACP,eAAe,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;UAC1D;QACF,CAAC,CAAC;QAEF,IAAIJ,QAAQ,CAACK,EAAE,EAAE;UACf,MAAM8V,WAAW,CAAC,CAAC;UACnB1Z,KAAK,CAAC,kBAAkB,CAAC;QAC3B,CAAC,MAAM;UACL,MAAM,IAAIuE,KAAK,CAAC,yBAAyB,CAAC;QAC5C;MACF,CAAC,CAAC,OAAO3H,KAAK,EAAE;QACduH,OAAO,CAACvH,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;QAC7CoD,KAAK,CAAC,2BAA2B,GAAGpD,KAAK,CAACR,OAAO,CAAC;MACpD;IACF;EACF,CAAC;EAED,MAAMse,eAAe,GAAIC,IAAI,IAAK;IAChCC,SAAS,CAACC,SAAS,CAACC,SAAS,CAACH,IAAI,CAAC,CAACI,IAAI,CAAC,MAAM;MAC7C/a,KAAK,CAAC,iCAAiC,CAAC;IAC1C,CAAC,CAAC,CAACgb,KAAK,CAAC,MAAM;MACbhb,KAAK,CAAC,kCAAkC,CAAC;IAC3C,CAAC,CAAC;EACJ,CAAC;EAED,MAAM4X,cAAc,GAAIC,MAAM,IAAK;IACjC,OAAOA,MAAM,KAAK,QAAQ,GAAG,SAAS,GAAG,SAAS;EACpD,CAAC;EAED,MAAMC,aAAa,GAAID,MAAM,IAAK;IAChC,OAAOA,MAAM,KAAK,QAAQ,GAAG,SAAS,GAAG,aAAa;EACxD,CAAC;EAED,IAAIR,OAAO,EAAE;IACX,oBAAO9b,OAAA;MAAKwB,KAAK,EAAE;QAAEC,OAAO,EAAE;MAAO,CAAE;MAAAG,QAAA,EAAC;IAAkB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC;EAClE;EAEA,IAAIX,KAAK,EAAE;IACT,oBACErB,OAAA;MAAKwB,KAAK,EAAE;QAAEC,OAAO,EAAE;MAAO,CAAE;MAAAG,QAAA,gBAC9B5B,OAAA;QAAKwB,KAAK,EAAE;UAAEe,KAAK,EAAE,KAAK;UAAEF,YAAY,EAAE;QAAO,CAAE;QAAAT,QAAA,GAAC,SAAO,EAACP,KAAK;MAAA;QAAAQ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eACxEhC,OAAA;QAAQyD,OAAO,EAAE0a,WAAY;QAAC3c,KAAK,EAAE;UAAEC,OAAO,EAAE,UAAU;UAAES,eAAe,EAAE,SAAS;UAAEK,KAAK,EAAE,OAAO;UAAEJ,MAAM,EAAE,MAAM;UAAEC,YAAY,EAAE;QAAM,CAAE;QAAAR,QAAA,EAAC;MAE/I;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC;EAEV;EAEA,oBACEhC,OAAA;IAAKwB,KAAK,EAAE;MAAEC,OAAO,EAAE;IAAO,CAAE;IAAAG,QAAA,gBAC9B5B,OAAA;MAAKwB,KAAK,EAAE;QAAEiE,OAAO,EAAE,MAAM;QAAEC,cAAc,EAAE,eAAe;QAAEC,UAAU,EAAE,QAAQ;QAAEtD,YAAY,EAAE;MAAO,CAAE;MAAAT,QAAA,gBAC3G5B,OAAA;QAAA4B,QAAA,EAAI;MAAmB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC5BhC,OAAA;QAAKwB,KAAK,EAAE;UAAEc,QAAQ,EAAE,MAAM;UAAEC,KAAK,EAAE;QAAU,CAAE;QAAAX,QAAA,EAChD,CAAAkD,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAES,IAAI,MAAK,OAAO,GAAG,0BAA0B,GAAG;MAAuB;QAAA1D,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC3E,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAENhC,OAAA;MAAKwB,KAAK,EAAE;QACVU,eAAe,EAAE,SAAS;QAC1BC,MAAM,EAAE,mBAAmB;QAC3BC,YAAY,EAAE,KAAK;QACnBX,OAAO,EAAE,MAAM;QACfY,YAAY,EAAE;MAChB,CAAE;MAAAT,QAAA,gBACA5B,OAAA;QAAKwB,KAAK,EAAE;UAAEiE,OAAO,EAAE,MAAM;UAAEE,UAAU,EAAE,QAAQ;UAAEtD,YAAY,EAAE;QAAM,CAAE;QAAAT,QAAA,gBACzE5B,OAAA;UAAMwB,KAAK,EAAE;YAAEc,QAAQ,EAAE,MAAM;YAAEuB,WAAW,EAAE;UAAM,CAAE;UAAAjC,QAAA,EAAC;QAAE;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eAChEhC,OAAA;UAAQwB,KAAK,EAAE;YAAEe,KAAK,EAAE;UAAU,CAAE;UAAAX,QAAA,EAAC;QAAkB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC7D,CAAC,eACNhC,OAAA;QAAGwB,KAAK,EAAE;UAAEG,MAAM,EAAE,GAAG;UAAEY,KAAK,EAAE,SAAS;UAAED,QAAQ,EAAE;QAAO,CAAE;QAAAV,QAAA,EAAC;MAG/D;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACD,CAAC,eAENhC,OAAA;MAAKwB,KAAK,EAAE;QAAEiE,OAAO,EAAE,MAAM;QAAEC,cAAc,EAAE,eAAe;QAAEC,UAAU,EAAE,QAAQ;QAAEtD,YAAY,EAAE;MAAO,CAAE;MAAAT,QAAA,gBAC3G5B,OAAA;QAAA4B,QAAA,EAAI;MAAa;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACtBhC,OAAA;QACEyD,OAAO,EAAEA,CAAA,KAAMoa,iBAAiB,CAAC,IAAI,CAAE;QACvCrc,KAAK,EAAE;UACLC,OAAO,EAAE,UAAU;UACnBS,eAAe,EAAE,SAAS;UAC1BK,KAAK,EAAE,OAAO;UACdJ,MAAM,EAAE,MAAM;UACdC,YAAY,EAAE,KAAK;UACnBuB,MAAM,EAAE;QACV,CAAE;QAAA/B,QAAA,EACH;MAED;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,EAEL4b,cAAc,iBACb5d,OAAA;MAAKwB,KAAK,EAAE;QACVU,eAAe,EAAE,SAAS;QAC1BC,MAAM,EAAE,mBAAmB;QAC3BC,YAAY,EAAE,KAAK;QACnBX,OAAO,EAAE,MAAM;QACfY,YAAY,EAAE;MAChB,CAAE;MAAAT,QAAA,gBACA5B,OAAA;QAAA4B,QAAA,EAAI;MAAmB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC5BhC,OAAA;QAAMyC,QAAQ,EAAE2b,iBAAkB;QAAAxc,QAAA,gBAChC5B,OAAA;UAAKwB,KAAK,EAAE;YAAEa,YAAY,EAAE;UAAO,CAAE;UAAAT,QAAA,gBACnC5B,OAAA;YAAOwB,KAAK,EAAE;cAAEiE,OAAO,EAAE,OAAO;cAAEpD,YAAY,EAAE,KAAK;cAAEyD,UAAU,EAAE;YAAO,CAAE;YAAAlE,QAAA,EAAC;UAE7E;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACRhC,OAAA;YACE2C,KAAK,EAAEmb,QAAQ,CAACjV,QAAS;YACzBjG,QAAQ,EAAG3B,CAAC,IAAK8c,WAAW,CAAC;cAAC,GAAGD,QAAQ;cAAEjV,QAAQ,EAAE5H,CAAC,CAAC4B,MAAM,CAACF;YAAK,CAAC,CAAE;YACtEnB,KAAK,EAAE;cAAEwB,KAAK,EAAE,MAAM;cAAEvB,OAAO,EAAE,KAAK;cAAEU,MAAM,EAAE,gBAAgB;cAAEC,YAAY,EAAE;YAAM,CAAE;YACxFW,QAAQ;YAAAnB,QAAA,gBAER5B,OAAA;cAAQ2C,KAAK,EAAC,EAAE;cAAAf,QAAA,EAAC;YAAsB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,EAC/C4Z,OAAO,CAAC5V,GAAG,CAAC2B,MAAM,iBACjB3H,OAAA;cAAwB2C,KAAK,EAAEgF,MAAM,CAACP,EAAG;cAAAxF,QAAA,GACtC+F,MAAM,CAACV,KAAK,EAAC,IAAE,EAACsV,aAAa,CAAC5U,MAAM,CAAC2U,MAAM,CAAC,EAAC,GAChD;YAAA,GAFa3U,MAAM,CAACP,EAAE;cAAAvF,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAEd,CACT,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACI,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC,eAENhC,OAAA;UAAKwB,KAAK,EAAE;YAAEa,YAAY,EAAE;UAAO,CAAE;UAAAT,QAAA,gBACnC5B,OAAA;YAAOwB,KAAK,EAAE;cAAEiE,OAAO,EAAE,OAAO;cAAEpD,YAAY,EAAE,KAAK;cAAEyD,UAAU,EAAE;YAAO,CAAE;YAAAlE,QAAA,EAAC;UAE7E;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACRhC,OAAA;YACE2C,KAAK,EAAEmb,QAAQ,CAACE,cAAe;YAC/Bpb,QAAQ,EAAG3B,CAAC,IAAK8c,WAAW,CAAC;cAAC,GAAGD,QAAQ;cAAEE,cAAc,EAAE/c,CAAC,CAAC4B,MAAM,CAACF;YAAK,CAAC,CAAE;YAC5EQ,WAAW,EAAC,mDAAyD;YACrE3B,KAAK,EAAE;cACLwB,KAAK,EAAE,MAAM;cACbvB,OAAO,EAAE,KAAK;cACdU,MAAM,EAAE,gBAAgB;cACxBC,YAAY,EAAE,KAAK;cACnBuK,SAAS,EAAE,MAAM;cACjBC,MAAM,EAAE;YACV;UAAE;YAAA/K,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eACFhC,OAAA;YAAOwB,KAAK,EAAE;cAAEe,KAAK,EAAE;YAAU,CAAE;YAAAX,QAAA,EAAC;UAEpC;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL,CAAC,eAENhC,OAAA;UAAKwB,KAAK,EAAE;YAAEiE,OAAO,EAAE,MAAM;YAAEG,GAAG,EAAE,MAAM;YAAEvD,YAAY,EAAE;UAAO,CAAE;UAAAT,QAAA,gBACjE5B,OAAA;YAAKwB,KAAK,EAAE;cAAEwL,IAAI,EAAE;YAAE,CAAE;YAAApL,QAAA,gBACtB5B,OAAA;cAAOwB,KAAK,EAAE;gBAAEiE,OAAO,EAAE,OAAO;gBAAEpD,YAAY,EAAE,KAAK;gBAAEyD,UAAU,EAAE;cAAO,CAAE;cAAAlE,QAAA,EAAC;YAE7E;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACRhC,OAAA;cACE0C,IAAI,EAAC,gBAAgB;cACrBC,KAAK,EAAEmb,QAAQ,CAACG,SAAU;cAC1Brb,QAAQ,EAAG3B,CAAC,IAAK8c,WAAW,CAAC;gBAAC,GAAGD,QAAQ;gBAAEG,SAAS,EAAEhd,CAAC,CAAC4B,MAAM,CAACF;cAAK,CAAC,CAAE;cACvEnB,KAAK,EAAE;gBAAEwB,KAAK,EAAE,MAAM;gBAAEvB,OAAO,EAAE,KAAK;gBAAEU,MAAM,EAAE,gBAAgB;gBAAEC,YAAY,EAAE;cAAM;YAAE;cAAAP,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACzF,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eACNhC,OAAA;YAAKwB,KAAK,EAAE;cAAEwL,IAAI,EAAE;YAAE,CAAE;YAAApL,QAAA,gBACtB5B,OAAA;cAAOwB,KAAK,EAAE;gBAAEiE,OAAO,EAAE,OAAO;gBAAEpD,YAAY,EAAE,KAAK;gBAAEyD,UAAU,EAAE;cAAO,CAAE;cAAAlE,QAAA,EAAC;YAE7E;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACRhC,OAAA;cACE0C,IAAI,EAAC,gBAAgB;cACrBC,KAAK,EAAEmb,QAAQ,CAACI,OAAQ;cACxBtb,QAAQ,EAAG3B,CAAC,IAAK8c,WAAW,CAAC;gBAAC,GAAGD,QAAQ;gBAAEI,OAAO,EAAEjd,CAAC,CAAC4B,MAAM,CAACF;cAAK,CAAC,CAAE;cACrEnB,KAAK,EAAE;gBAAEwB,KAAK,EAAE,MAAM;gBAAEvB,OAAO,EAAE,KAAK;gBAAEU,MAAM,EAAE,gBAAgB;gBAAEC,YAAY,EAAE;cAAM;YAAE;cAAAP,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACzF,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAENhC,OAAA;UAAKwB,KAAK,EAAE;YAAEiE,OAAO,EAAE,MAAM;YAAEG,GAAG,EAAE,MAAM;YAAEF,cAAc,EAAE;UAAW,CAAE;UAAA9D,QAAA,gBACvE5B,OAAA;YACE0C,IAAI,EAAC,QAAQ;YACbe,OAAO,EAAEA,CAAA,KAAM;cACboa,iBAAiB,CAAC,KAAK,CAAC;cACxBE,WAAW,CAAC;gBAAElV,QAAQ,EAAE,EAAE;gBAAEmV,cAAc,EAAE,EAAE;gBAAEC,SAAS,EAAE,EAAE;gBAAEC,OAAO,EAAE;cAAG,CAAC,CAAC;YAC/E,CAAE;YACF1c,KAAK,EAAE;cAAEC,OAAO,EAAE,UAAU;cAAES,eAAe,EAAE,SAAS;cAAEK,KAAK,EAAE,OAAO;cAAEJ,MAAM,EAAE,MAAM;cAAEC,YAAY,EAAE;YAAM,CAAE;YAAAR,QAAA,EACjH;UAED;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACThC,OAAA;YACE0C,IAAI,EAAC,QAAQ;YACblB,KAAK,EAAE;cAAEC,OAAO,EAAE,UAAU;cAAES,eAAe,EAAE,SAAS;cAAEK,KAAK,EAAE,OAAO;cAAEJ,MAAM,EAAE,MAAM;cAAEC,YAAY,EAAE;YAAM,CAAE;YAAAR,QAAA,EACjH;UAED;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACF,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACJ,CACN,EAEA0b,MAAM,CAACpa,MAAM,KAAK,CAAC,gBAClBtD,OAAA;MAAKwB,KAAK,EAAE;QAAEyB,SAAS,EAAE,QAAQ;QAAExB,OAAO,EAAE,MAAM;QAAEc,KAAK,EAAE;MAAU,CAAE;MAAAX,QAAA,gBACrE5B,OAAA;QAAA4B,QAAA,EAAG;MAA6B;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC,eACpChC,OAAA;QAAA4B,QAAA,EAAG;MAA0D;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC9D,CAAC,gBAENhC,OAAA;MAAKwB,KAAK,EAAE;QAAEgb,SAAS,EAAE;MAAO,CAAE;MAAA5a,QAAA,eAChC5B,OAAA;QAAOwB,KAAK,EAAE;UAAEwB,KAAK,EAAE,MAAM;UAAEyZ,cAAc,EAAE,UAAU;UAAEjZ,SAAS,EAAE;QAAO,CAAE;QAAA5B,QAAA,gBAC7E5B,OAAA;UAAA4B,QAAA,eACE5B,OAAA;YAAIwB,KAAK,EAAE;cAAEU,eAAe,EAAE;YAAU,CAAE;YAAAN,QAAA,gBACxC5B,OAAA;cAAIwB,KAAK,EAAE;gBAAEC,OAAO,EAAE,MAAM;gBAAEwB,SAAS,EAAE,MAAM;gBAAEd,MAAM,EAAE,mBAAmB;gBAAE2D,UAAU,EAAE;cAAO,CAAE;cAAAlE,QAAA,EAAC;YAAQ;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACjHhC,OAAA;cAAIwB,KAAK,EAAE;gBAAEC,OAAO,EAAE,MAAM;gBAAEwB,SAAS,EAAE,MAAM;gBAAEd,MAAM,EAAE,mBAAmB;gBAAE2D,UAAU,EAAE;cAAO,CAAE;cAAAlE,QAAA,EAAC;YAAQ;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACjHhC,OAAA;cAAIwB,KAAK,EAAE;gBAAEC,OAAO,EAAE,MAAM;gBAAEwB,SAAS,EAAE,MAAM;gBAAEd,MAAM,EAAE,mBAAmB;gBAAE2D,UAAU,EAAE;cAAO,CAAE;cAAAlE,QAAA,EAAC;YAAQ;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACjHhC,OAAA;cAAIwB,KAAK,EAAE;gBAAEC,OAAO,EAAE,MAAM;gBAAEwB,SAAS,EAAE,QAAQ;gBAAEd,MAAM,EAAE,mBAAmB;gBAAE2D,UAAU,EAAE;cAAO,CAAE;cAAAlE,QAAA,EAAC;YAAM;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACjHhC,OAAA;cAAIwB,KAAK,EAAE;gBAAEC,OAAO,EAAE,MAAM;gBAAEwB,SAAS,EAAE,MAAM;gBAAEd,MAAM,EAAE,mBAAmB;gBAAE2D,UAAU,EAAE;cAAO,CAAE;cAAAlE,QAAA,EAAC;YAAQ;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACjHhC,OAAA;cAAIwB,KAAK,EAAE;gBAAEC,OAAO,EAAE,MAAM;gBAAEwB,SAAS,EAAE,MAAM;gBAAEd,MAAM,EAAE,mBAAmB;gBAAE2D,UAAU,EAAE;cAAO,CAAE;cAAAlE,QAAA,EAAC;YAAS;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAClHhC,OAAA;cAAIwB,KAAK,EAAE;gBAAEC,OAAO,EAAE,MAAM;gBAAEwB,SAAS,EAAE,QAAQ;gBAAEd,MAAM,EAAE,mBAAmB;gBAAE2D,UAAU,EAAE;cAAO,CAAE;cAAAlE,QAAA,EAAC;YAAU;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACrHhC,OAAA;cAAIwB,KAAK,EAAE;gBAAEC,OAAO,EAAE,MAAM;gBAAEwB,SAAS,EAAE,QAAQ;gBAAEd,MAAM,EAAE,mBAAmB;gBAAE2D,UAAU,EAAE;cAAO,CAAE;cAAAlE,QAAA,EAAC;YAAI;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC7G;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACA,CAAC,eACRhC,OAAA;UAAA4B,QAAA,EACG8b,MAAM,CAAC1X,GAAG,CAAC0Z,KAAK,iBACf1f,OAAA;YAAmBwB,KAAK,EAAE;cAAEU,eAAe,EAAEwd,KAAK,CAACtY,EAAE,GAAG,CAAC,KAAK,CAAC,GAAG,SAAS,GAAG;YAAQ,CAAE;YAAAxF,QAAA,gBACtF5B,OAAA;cAAIwB,KAAK,EAAE;gBAAEC,OAAO,EAAE,MAAM;gBAAEU,MAAM,EAAE;cAAoB,CAAE;cAAAP,QAAA,eAC1D5B,OAAA;gBAAMwB,KAAK,EAAE;kBACXU,eAAe,EAAE,SAAS;kBAC1BT,OAAO,EAAE,SAAS;kBAClBW,YAAY,EAAE,KAAK;kBACnBE,QAAQ,EAAE;gBACZ,CAAE;gBAAAV,QAAA,EACC8d,KAAK,CAACC;cAAQ;gBAAA9d,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACX;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACL,CAAC,eACLhC,OAAA;cAAIwB,KAAK,EAAE;gBAAEC,OAAO,EAAE,MAAM;gBAAEU,MAAM,EAAE;cAAoB,CAAE;cAAAP,QAAA,gBAC1D5B,OAAA;gBAAKwB,KAAK,EAAE;kBAAEsE,UAAU,EAAE;gBAAO,CAAE;gBAAAlE,QAAA,EAAE8d,KAAK,CAACE;cAAY;gBAAA/d,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eAC9DhC,OAAA;gBAAKwB,KAAK,EAAE;kBAAEc,QAAQ,EAAE,MAAM;kBAAEC,KAAK,EAAE;gBAAU,CAAE;gBAAAX,QAAA,GAAC,MAAI,EAAC8d,KAAK,CAACrB,SAAS;cAAA;gBAAAxc,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC7E,CAAC,eACLhC,OAAA;cAAIwB,KAAK,EAAE;gBAAEC,OAAO,EAAE,MAAM;gBAAEU,MAAM,EAAE;cAAoB,CAAE;cAAAP,QAAA,gBAC1D5B,OAAA;gBAAKwB,KAAK,EAAE;kBAAEsE,UAAU,EAAE;gBAAO,CAAE;gBAAAlE,QAAA,EAAE8d,KAAK,CAAChD;cAAc;gBAAA7a,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,EAC/D,CAAA8C,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAES,IAAI,MAAK,OAAO,IAAIma,KAAK,CAAC/C,OAAO,KAAK7X,IAAI,CAACsC,EAAE,iBAClDpH,OAAA;gBAAKwB,KAAK,EAAE;kBAAEc,QAAQ,EAAE,MAAM;kBAAEC,KAAK,EAAE,SAAS;kBAAEuD,UAAU,EAAE;gBAAO,CAAE;gBAAAlE,QAAA,EAAC;cAAI;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAClF;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CAAC,eACLhC,OAAA;cAAIwB,KAAK,EAAE;gBAAEC,OAAO,EAAE,MAAM;gBAAEU,MAAM,EAAE,mBAAmB;gBAAEc,SAAS,EAAE;cAAS,CAAE;cAAArB,QAAA,eAC/E5B,OAAA;gBAAMwB,KAAK,EAAE;kBACXC,OAAO,EAAE,SAAS;kBAClBW,YAAY,EAAE,MAAM;kBACpBF,eAAe,EAAEma,cAAc,CAACqD,KAAK,CAACpD,MAAM,CAAC;kBAC7C/Z,KAAK,EAAE,OAAO;kBACdD,QAAQ,EAAE,MAAM;kBAChBwD,UAAU,EAAE;gBACd,CAAE;gBAAAlE,QAAA,EACC2a,aAAa,CAACmD,KAAK,CAACpD,MAAM;cAAC;gBAAAza,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACxB;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACL,CAAC,eACLhC,OAAA;cAAIwB,KAAK,EAAE;gBAAEC,OAAO,EAAE,MAAM;gBAAEU,MAAM,EAAE,mBAAmB;gBAAEG,QAAQ,EAAE;cAAO,CAAE;cAAAV,QAAA,GAC3E8d,KAAK,CAAClB,UAAU,iBACfxe,OAAA;gBAAA4B,QAAA,gBACE5B,OAAA;kBAAA4B,QAAA,EAAQ;gBAAG;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,KAAC,EAAC,IAAIwI,IAAI,CAACkV,KAAK,CAAClB,UAAU,CAAC,CAACzB,kBAAkB,CAAC,OAAO,CAAC;cAAA;gBAAAlb,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACzE,CACN,EACA0d,KAAK,CAACG,QAAQ,iBACb7f,OAAA;gBAAA4B,QAAA,gBACE5B,OAAA;kBAAA4B,QAAA,EAAQ;gBAAG;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,KAAC,EAAC,IAAIwI,IAAI,CAACkV,KAAK,CAACG,QAAQ,CAAC,CAAC9C,kBAAkB,CAAC,OAAO,CAAC;cAAA;gBAAAlb,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACvE,CACN,EACA,CAAC0d,KAAK,CAAClB,UAAU,IAAI,CAACkB,KAAK,CAACG,QAAQ,iBACnC7f,OAAA;gBAAMwB,KAAK,EAAE;kBAAEe,KAAK,EAAE,SAAS;kBAAEwR,SAAS,EAAE;gBAAS,CAAE;gBAAAnS,QAAA,EAAC;cAAW;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAC1E;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CAAC,eACLhC,OAAA;cAAIwB,KAAK,EAAE;gBAAEC,OAAO,EAAE,MAAM;gBAAEU,MAAM,EAAE;cAAoB,CAAE;cAAAP,QAAA,gBAC1D5B,OAAA;gBAAKwB,KAAK,EAAE;kBACVU,eAAe,EAAE,SAAS;kBAC1BC,MAAM,EAAE,mBAAmB;kBAC3BC,YAAY,EAAE,KAAK;kBACnBX,OAAO,EAAE,KAAK;kBACda,QAAQ,EAAE,MAAM;kBAChBuD,UAAU,EAAE,WAAW;kBACvBxD,YAAY,EAAE;gBAChB,CAAE;gBAAAT,QAAA,EACC,gBAAgBoJ,MAAM,CAAC8U,QAAQ,CAACC,MAAM,WAAWL,KAAK,CAACC,QAAQ;cAAgB;gBAAA9d,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC7E,CAAC,eACehC,OAAA;gBAAKwB,KAAK,EAAE;kBAAEiE,OAAO,EAAE,MAAM;kBAAEG,GAAG,EAAE;gBAAM,CAAE;gBAAAhE,QAAA,gBAC9D5B,OAAA;kBACEyD,OAAO,EAAEA,CAAA,KAAM0b,eAAe,CAAC,gBAAgBnU,MAAM,CAAC8U,QAAQ,CAACC,MAAM,WAAWL,KAAK,CAACC,QAAQ,gBAAgB,CAAE;kBAChHne,KAAK,EAAE;oBACLC,OAAO,EAAE,SAAS;oBAClBS,eAAe,EAAE,SAAS;oBAC1BK,KAAK,EAAE,OAAO;oBACdJ,MAAM,EAAE,MAAM;oBACdC,YAAY,EAAE,KAAK;oBACnBE,QAAQ,EAAE,MAAM;oBAChBqB,MAAM,EAAE;kBACV,CAAE;kBACFsD,KAAK,EAAC,8BAAwB;kBAAArF,QAAA,EAC/B;gBAED;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eACThC,OAAA;kBACEyD,OAAO,EAAEA,CAAA,KAAMuH,MAAM,CAACgV,IAAI,CAAC,WAAWN,KAAK,CAACC,QAAQ,OAAO,EAAE,QAAQ,CAAE;kBACvEne,KAAK,EAAE;oBACLC,OAAO,EAAE,SAAS;oBAClBS,eAAe,EAAE,SAAS;oBAC1BK,KAAK,EAAE,OAAO;oBACdJ,MAAM,EAAE,MAAM;oBACdC,YAAY,EAAE,KAAK;oBACnBE,QAAQ,EAAE,MAAM;oBAChBqB,MAAM,EAAE;kBACV,CAAE;kBACFsD,KAAK,EAAC,4BAAyB;kBAAArF,QAAA,EAChC;gBAED;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACN,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACL,CAAC,eACLhC,OAAA;cAAIwB,KAAK,EAAE;gBAAEC,OAAO,EAAE,MAAM;gBAAEU,MAAM,EAAE,mBAAmB;gBAAEc,SAAS,EAAE;cAAS,CAAE;cAAArB,QAAA,eAC/E5B,OAAA;gBACEyD,OAAO,EAAEA,CAAA,KAAMuH,MAAM,CAACgV,IAAI,CAAC,eAAeN,KAAK,CAACrB,SAAS,EAAE,EAAE,QAAQ,CAAE;gBACvE7c,KAAK,EAAE;kBACLC,OAAO,EAAE,UAAU;kBACnBS,eAAe,EAAE,SAAS;kBAC1BK,KAAK,EAAE,OAAO;kBACdJ,MAAM,EAAE,MAAM;kBACdC,YAAY,EAAE,KAAK;kBACnBE,QAAQ,EAAE,MAAM;kBAChBqB,MAAM,EAAE,SAAS;kBACjBmC,UAAU,EAAE;gBACd,CAAE;gBACFmB,KAAK,EAAC,kCAA+B;gBAAArF,QAAA,EACtC;cAED;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACP,CAAC,eACLhC,OAAA;cAAIwB,KAAK,EAAE;gBAAEC,OAAO,EAAE,MAAM;gBAAEU,MAAM,EAAE,mBAAmB;gBAAEc,SAAS,EAAE;cAAS,CAAE;cAAArB,QAAA,eAC/E5B,OAAA;gBAAKwB,KAAK,EAAE;kBAAEiE,OAAO,EAAE,MAAM;kBAAEyJ,aAAa,EAAE,QAAQ;kBAAEtJ,GAAG,EAAE,KAAK;kBAAED,UAAU,EAAE;gBAAS,CAAE;gBAAA/D,QAAA,GACxF,CAAC,CAAAkD,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAES,IAAI,MAAK,OAAO,IAAIma,KAAK,CAAC/C,OAAO,MAAK7X,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEsC,EAAE,mBACpDpH,OAAA,CAAAE,SAAA;kBAAA0B,QAAA,gBACE5B,OAAA;oBACEyD,OAAO,EAAEA,CAAA,KAAMkb,kBAAkB,CAACe,KAAK,CAACtY,EAAE,EAAEsY,KAAK,CAACpD,MAAM,CAAE;oBAC1D9a,KAAK,EAAE;sBACLC,OAAO,EAAE,SAAS;sBAClBS,eAAe,EAAEwd,KAAK,CAACpD,MAAM,KAAK,QAAQ,GAAG,SAAS,GAAG,SAAS;sBAClE/Z,KAAK,EAAEmd,KAAK,CAACpD,MAAM,KAAK,QAAQ,GAAG,OAAO,GAAG,OAAO;sBACpDna,MAAM,EAAE,MAAM;sBACdC,YAAY,EAAE,KAAK;sBACnBE,QAAQ,EAAE,MAAM;sBAChBqB,MAAM,EAAE,SAAS;sBACjBoX,QAAQ,EAAE;oBACZ,CAAE;oBACF9T,KAAK,EAAEyY,KAAK,CAACpD,MAAM,KAAK,QAAQ,GAAG,kBAAkB,GAAG,eAAgB;oBAAA1a,QAAA,EAEvE8d,KAAK,CAACpD,MAAM,KAAK,QAAQ,GAAG,YAAY,GAAG;kBAAS;oBAAAza,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAC/C,CAAC,eAEThC,OAAA;oBACEyD,OAAO,EAAEA,CAAA,KAAMwb,iBAAiB,CAACS,KAAK,CAACtY,EAAE,EAAEsY,KAAK,CAACC,QAAQ,CAAE;oBAC3Dne,KAAK,EAAE;sBACLC,OAAO,EAAE,SAAS;sBAClBS,eAAe,EAAE,SAAS;sBAC1BK,KAAK,EAAE,OAAO;sBACdJ,MAAM,EAAE,MAAM;sBACdC,YAAY,EAAE,KAAK;sBACnBE,QAAQ,EAAE,MAAM;sBAChBqB,MAAM,EAAE,SAAS;sBACjBoX,QAAQ,EAAE;oBACZ,CAAE;oBACF9T,KAAK,EAAC,cAAc;oBAAArF,QAAA,EACrB;kBAED;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC;gBAAA,eACT,CACH,EAEA,CAAA8C,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAES,IAAI,MAAK,OAAO,IAAIma,KAAK,CAAC/C,OAAO,MAAK7X,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEsC,EAAE,kBACnDpH,OAAA;kBAAMwB,KAAK,EAAE;oBAAEc,QAAQ,EAAE,MAAM;oBAAEC,KAAK,EAAE,SAAS;oBAAEwR,SAAS,EAAE;kBAAS,CAAE;kBAAAnS,QAAA,EAAC;gBAE1E;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CACP;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACJ,CAAC;UAAA,GA7JE0d,KAAK,CAACtY,EAAE;YAAAvF,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OA8Jb,CACL;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;AAACyb,IAAA,CA7fID,SAAS;EAAA,QACI3d,OAAO;AAAA;AAAAogB,IAAA,GADpBzC,SAAS;AA+ff,MAAM0C,QAAQ,GAAGA,CAAA,KAAM;EAAAC,IAAA;EACrB,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGnhB,KAAK,CAACC,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAAC2c,OAAO,EAAEC,UAAU,CAAC,GAAG7c,KAAK,CAACC,QAAQ,CAAC,IAAI,CAAC;EAClD,MAAM,CAACmhB,WAAW,EAAEC,cAAc,CAAC,GAAGrhB,KAAK,CAACC,QAAQ,CAAC,IAAI,CAAC;EAC1D,MAAM,CAACye,cAAc,EAAEC,iBAAiB,CAAC,GAAG3e,KAAK,CAACC,QAAQ,CAAC,KAAK,CAAC;;EAEjE;EACAD,KAAK,CAAC6B,SAAS,CAAC,MAAM;IACpByf,UAAU,CAAC,CAAC;EACd,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMA,UAAU,GAAG,MAAAA,CAAA,KAAY;IAC7B,IAAI;MACFzE,UAAU,CAAC,IAAI,CAAC;MAChB,MAAM/T,QAAQ,GAAG,MAAMC,KAAK,CAAC,YAAY,EAAE;QACzCC,OAAO,EAAE;UACP,eAAe,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;QAC1D;MACF,CAAC,CAAC;MACF,IAAIJ,QAAQ,CAACK,EAAE,EAAE;QACf,MAAMC,IAAI,GAAG,MAAMN,QAAQ,CAACO,IAAI,CAAC,CAAC;QAClC;QACA8X,QAAQ,CAAC/X,IAAI,CAAC8X,KAAK,IAAI9X,IAAI,CAAC;MAC9B;IACF,CAAC,CAAC,OAAOjH,KAAK,EAAE;MACduH,OAAO,CAACvH,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;IAC/C,CAAC,SAAS;MACR0a,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,MAAMG,UAAU,GAAIpX,IAAI,IAAK;IAC3Byb,cAAc,CAAC;MAAC,GAAGzb,IAAI;MAAE2b,WAAW,EAAE;IAAE,CAAC,CAAC;EAC5C,CAAC;EAED,MAAMC,UAAU,GAAG,MAAAA,CAAA,KAAY;IAC7B,IAAI;MACF,MAAM;QAAEtZ,EAAE;QAAEqZ,WAAW;QAAE,GAAGE;MAAW,CAAC,GAAGL,WAAW;MACtD,IAAIG,WAAW,EAAE;QACfE,UAAU,CAACpc,QAAQ,GAAGkc,WAAW;MACnC;MAEA,MAAMzY,QAAQ,GAAG,MAAMC,KAAK,CAAC,cAAcb,EAAE,EAAE,EAAE;QAC/C2C,MAAM,EAAE,KAAK;QACb7B,OAAO,EAAE;UACP,cAAc,EAAE,kBAAkB;UAClC,eAAe,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;QAC1D,CAAC;QACD4B,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACyW,UAAU;MACjC,CAAC,CAAC;MAEF,IAAI3Y,QAAQ,CAACK,EAAE,EAAE;QACf,MAAMmY,UAAU,CAAC,CAAC;QAClBD,cAAc,CAAC,IAAI,CAAC;QACpB9b,KAAK,CAAC,8BAA8B,CAAC;MACvC,CAAC,MAAM;QACLA,KAAK,CAAC,8BAA8B,CAAC;MACvC;IACF,CAAC,CAAC,OAAOpD,KAAK,EAAE;MACduH,OAAO,CAACvH,KAAK,CAAC,oBAAoB,EAAEA,KAAK,CAAC;MAC1CoD,KAAK,CAAC,8BAA8B,CAAC;IACvC;EACF,CAAC;EAED,MAAM0X,YAAY,GAAG,MAAAA,CAAOyE,MAAM,EAAEvc,QAAQ,KAAK;IAC/C,IAAI2G,MAAM,CAACC,OAAO,CAAC,oCAAoC5G,QAAQ,IAAI,CAAC,EAAE;MACpE,IAAI;QACF,MAAM2D,QAAQ,GAAG,MAAMC,KAAK,CAAC,cAAc2Y,MAAM,EAAE,EAAE;UACnD7W,MAAM,EAAE,QAAQ;UAChB7B,OAAO,EAAE;YACP,eAAe,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;UAC1D;QACF,CAAC,CAAC;QAEF,IAAIJ,QAAQ,CAACK,EAAE,EAAE;UACf,MAAMmY,UAAU,CAAC,CAAC;UAClB/b,KAAK,CAAC,qBAAqB,CAAC;QAC9B,CAAC,MAAM;UACLA,KAAK,CAAC,4BAA4B,CAAC;QACrC;MACF,CAAC,CAAC,OAAOpD,KAAK,EAAE;QACduH,OAAO,CAACvH,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;QAC5CoD,KAAK,CAAC,4BAA4B,CAAC;MACrC;IACF;EACF,CAAC;EAED,MAAMoc,YAAY,GAAG,MAAOC,QAAQ,IAAK;IACvC,IAAI;MACF,MAAM9Y,QAAQ,GAAG,MAAMC,KAAK,CAAC,YAAY,EAAE;QACzC8B,MAAM,EAAE,MAAM;QACd7B,OAAO,EAAE;UACP,cAAc,EAAE,kBAAkB;UAClC,eAAe,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;QAC1D,CAAC;QACD4B,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC4W,QAAQ;MAC/B,CAAC,CAAC;MAEF,IAAI9Y,QAAQ,CAACK,EAAE,EAAE;QACf,MAAMmY,UAAU,CAAC,CAAC;QAClB3C,iBAAiB,CAAC,KAAK,CAAC;QACxBpZ,KAAK,CAAC,uBAAuB,CAAC;MAChC,CAAC,MAAM;QACL,MAAMpD,KAAK,GAAG,MAAM2G,QAAQ,CAACO,IAAI,CAAC,CAAC;QACnC9D,KAAK,CAAC,iCAAiC,GAAGpD,KAAK,CAACA,KAAK,CAAC;MACxD;IACF,CAAC,CAAC,OAAOA,KAAK,EAAE;MACduH,OAAO,CAACvH,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;MAC5CoD,KAAK,CAAC,+BAA+B,CAAC;IACxC;EACF,CAAC;EAED,IAAIqX,OAAO,EAAE;IACX,oBAAO9b,OAAA;MAAKwB,KAAK,EAAE;QAAEC,OAAO,EAAE;MAAO,CAAE;MAAAG,QAAA,EAAC;IAAqB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC;EACrE;EAEA,oBACEhC,OAAA;IAAKwB,KAAK,EAAE;MAAEC,OAAO,EAAE;IAAO,CAAE;IAAAG,QAAA,gBAC9B5B,OAAA;MAAKwB,KAAK,EAAE;QAAEiE,OAAO,EAAE,MAAM;QAAEC,cAAc,EAAE,eAAe;QAAEC,UAAU,EAAE,QAAQ;QAAEtD,YAAY,EAAE;MAAO,CAAE;MAAAT,QAAA,gBAC3G5B,OAAA;QAAA4B,QAAA,EAAI;MAAgB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACzBhC,OAAA;QACEyD,OAAO,EAAEA,CAAA,KAAMoa,iBAAiB,CAAC,IAAI,CAAE;QACvCrc,KAAK,EAAE;UAAEC,OAAO,EAAE,UAAU;UAAES,eAAe,EAAE,SAAS;UAAEK,KAAK,EAAE,OAAO;UAAEJ,MAAM,EAAE,MAAM;UAAEC,YAAY,EAAE;QAAM,CAAE;QAAAR,QAAA,EACjH;MAED;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,EAEL4b,cAAc,iBACb5d,OAAA,CAAC+gB,QAAQ;MACPnT,MAAM,EAAEiT,YAAa;MACrBhT,QAAQ,EAAEA,CAAA,KAAMgQ,iBAAiB,CAAC,KAAK,CAAE;MACzC5W,KAAK,EAAC;IAA2B;MAAApF,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAClC,CACF,EAEAse,WAAW,iBACVtgB,OAAA,CAAC+gB,QAAQ;MACPjc,IAAI,EAAEwb,WAAY;MAClB1S,MAAM,EAAEA,CAAA,KAAM8S,UAAU,CAAC,CAAE;MAC3B7S,QAAQ,EAAEA,CAAA,KAAM0S,cAAc,CAAC,IAAI,CAAE;MACrC3d,QAAQ,EAAE2d,cAAe;MACzBtZ,KAAK,EAAC;IAAmB;MAAApF,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC1B,CACF,eAEDhC,OAAA;MAAOwB,KAAK,EAAE;QAAEwB,KAAK,EAAE,MAAM;QAAEyZ,cAAc,EAAE,UAAU;QAAEjZ,SAAS,EAAE;MAAO,CAAE;MAAA5B,QAAA,gBAC7E5B,OAAA;QAAA4B,QAAA,eACE5B,OAAA;UAAIwB,KAAK,EAAE;YAAEU,eAAe,EAAE;UAAU,CAAE;UAAAN,QAAA,gBACxC5B,OAAA;YAAIwB,KAAK,EAAE;cAAEC,OAAO,EAAE,MAAM;cAAEwB,SAAS,EAAE,MAAM;cAAEd,MAAM,EAAE;YAAoB,CAAE;YAAAP,QAAA,EAAC;UAAiB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACtGhC,OAAA;YAAIwB,KAAK,EAAE;cAAEC,OAAO,EAAE,MAAM;cAAEwB,SAAS,EAAE,MAAM;cAAEd,MAAM,EAAE;YAAoB,CAAE;YAAAP,QAAA,EAAC;UAAK;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAC1FhC,OAAA;YAAIwB,KAAK,EAAE;cAAEC,OAAO,EAAE,MAAM;cAAEwB,SAAS,EAAE,MAAM;cAAEd,MAAM,EAAE;YAAoB,CAAE;YAAAP,QAAA,EAAC;UAAI;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACzFhC,OAAA;YAAIwB,KAAK,EAAE;cAAEC,OAAO,EAAE,MAAM;cAAEwB,SAAS,EAAE,MAAM;cAAEd,MAAM,EAAE;YAAoB,CAAE;YAAAP,QAAA,EAAC;UAAS;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAC9FhC,OAAA;YAAIwB,KAAK,EAAE;cAAEC,OAAO,EAAE,MAAM;cAAEwB,SAAS,EAAE,MAAM;cAAEd,MAAM,EAAE;YAAoB,CAAE;YAAAP,QAAA,EAAC;UAAI;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACvF;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACA,CAAC,eACRhC,OAAA;QAAA4B,QAAA,EACGwe,KAAK,CAACpa,GAAG,CAAClB,IAAI,iBACb9E,OAAA;UAAA4B,QAAA,gBACE5B,OAAA;YAAIwB,KAAK,EAAE;cAAEC,OAAO,EAAE,MAAM;cAAEU,MAAM,EAAE;YAAoB,CAAE;YAAAP,QAAA,EAAEkD,IAAI,CAACT;UAAQ;YAAAxC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eACjFhC,OAAA;YAAIwB,KAAK,EAAE;cAAEC,OAAO,EAAE,MAAM;cAAEU,MAAM,EAAE;YAAoB,CAAE;YAAAP,QAAA,EAAEkD,IAAI,CAAC7C;UAAK;YAAAJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eAC9EhC,OAAA;YAAIwB,KAAK,EAAE;cAAEC,OAAO,EAAE,MAAM;cAAEU,MAAM,EAAE;YAAoB,CAAE;YAAAP,QAAA,eAC1D5B,OAAA;cAAMwB,KAAK,EAAE;gBACXC,OAAO,EAAE,SAAS;gBAClBW,YAAY,EAAE,KAAK;gBACnBF,eAAe,EAAE4C,IAAI,CAACS,IAAI,KAAK,OAAO,GAAG,SAAS,GAAG,SAAS;gBAC9DhD,KAAK,EAAE,OAAO;gBACdD,QAAQ,EAAE;cACZ,CAAE;cAAAV,QAAA,EACCkD,IAAI,CAACS;YAAI;cAAA1D,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACL,CAAC,eACLhC,OAAA;YAAIwB,KAAK,EAAE;cAAEC,OAAO,EAAE,MAAM;cAAEU,MAAM,EAAE;YAAoB,CAAE;YAAAP,QAAA,EACzD,IAAI4I,IAAI,CAAC1F,IAAI,CAACgY,UAAU,CAAC,CAACC,kBAAkB,CAAC,OAAO;UAAC;YAAAlb,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACpD,CAAC,eACLhC,OAAA;YAAIwB,KAAK,EAAE;cAAEC,OAAO,EAAE,MAAM;cAAEU,MAAM,EAAE;YAAoB,CAAE;YAAAP,QAAA,gBAC1D5B,OAAA;cACEyD,OAAO,EAAEA,CAAA,KAAMyY,UAAU,CAACpX,IAAI,CAAE;cAChCtD,KAAK,EAAE;gBAAEC,OAAO,EAAE,SAAS;gBAAEoC,WAAW,EAAE,KAAK;gBAAE3B,eAAe,EAAE,SAAS;gBAAEC,MAAM,EAAE,MAAM;gBAAEC,YAAY,EAAE;cAAM,CAAE;cAAAR,QAAA,EACpH;YAED;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACThC,OAAA;cACEyD,OAAO,EAAEA,CAAA,KAAM0Y,YAAY,CAACrX,IAAI,CAACsC,EAAE,EAAEtC,IAAI,CAACT,QAAQ,CAAE;cACpD7C,KAAK,EAAE;gBAAEC,OAAO,EAAE,SAAS;gBAAES,eAAe,EAAE,SAAS;gBAAEK,KAAK,EAAE,OAAO;gBAAEJ,MAAM,EAAE,MAAM;gBAAEC,YAAY,EAAE;cAAM,CAAE;cAAAR,QAAA,EAChH;YAED;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACP,CAAC;QAAA,GA9BE8C,IAAI,CAACsC,EAAE;UAAAvF,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OA+BZ,CACL;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,EAEPoe,KAAK,CAAC9c,MAAM,KAAK,CAAC,iBACjBtD,OAAA;MAAKwB,KAAK,EAAE;QAAEyB,SAAS,EAAE,QAAQ;QAAExB,OAAO,EAAE,MAAM;QAAEc,KAAK,EAAE;MAAU,CAAE;MAAAX,QAAA,EAAC;IAExE;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;AAACme,IAAA,CAzMID,QAAQ;AAAAc,IAAA,GAARd,QAAQ;AA2Md,MAAMe,SAAS,GAAGA,CAAA,KAAM;EAAAC,IAAA;EACtB,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGliB,KAAK,CAACC,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAAC2c,OAAO,EAAEC,UAAU,CAAC,GAAG7c,KAAK,CAACC,QAAQ,CAAC,IAAI,CAAC;EAClD,MAAM,CAACkiB,OAAO,EAAEC,UAAU,CAAC,GAAGpiB,KAAK,CAACC,QAAQ,CAAC;IAC3CoiB,SAAS,EAAE,EAAE;IACbX,MAAM,EAAE,EAAE;IACVY,QAAQ,EAAE,EAAE;IACZC,MAAM,EAAE,EAAE;IACVC,IAAI,EAAE,CAAC;IACPC,KAAK,EAAE;EACT,CAAC,CAAC;;EAEF;EACAziB,KAAK,CAAC6B,SAAS,CAAC,MAAM;IACpB6gB,SAAS,CAAC,CAAC;EACb,CAAC,EAAE,CAACP,OAAO,CAAC,CAAC;EAEb,MAAMO,SAAS,GAAG,MAAAA,CAAA,KAAY;IAC5B,IAAI;MACF7F,UAAU,CAAC,IAAI,CAAC;MAChB,MAAM8F,WAAW,GAAG,IAAIC,eAAe,CAAC,CAAC;;MAEzC;MACA,IAAIT,OAAO,CAACE,SAAS,EAAEM,WAAW,CAACE,MAAM,CAAC,QAAQ,EAAEV,OAAO,CAACE,SAAS,CAAC;MACtE,IAAIF,OAAO,CAACT,MAAM,EAAEiB,WAAW,CAACE,MAAM,CAAC,SAAS,EAAEV,OAAO,CAACT,MAAM,CAAC;MACjE,IAAIS,OAAO,CAACG,QAAQ,EAAEK,WAAW,CAACE,MAAM,CAAC,WAAW,EAAEV,OAAO,CAACG,QAAQ,GAAG,YAAY,CAAC;MACtF,IAAIH,OAAO,CAACI,MAAM,EAAEI,WAAW,CAACE,MAAM,CAAC,SAAS,EAAEV,OAAO,CAACI,MAAM,GAAG,YAAY,CAAC;MAChF,IAAIJ,OAAO,CAACK,IAAI,EAAEG,WAAW,CAACE,MAAM,CAAC,MAAM,EAAEV,OAAO,CAACK,IAAI,CAAC;MAC1D,IAAIL,OAAO,CAACM,KAAK,EAAEE,WAAW,CAACE,MAAM,CAAC,OAAO,EAAEV,OAAO,CAACM,KAAK,CAAC;MAE7D,MAAM3Z,QAAQ,GAAG,MAAMC,KAAK,CAAC,aAAa4Z,WAAW,EAAE,EAAE;QACvD3Z,OAAO,EAAE;UACP,eAAe,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;QAC1D;MACF,CAAC,CAAC;MAEF,IAAIJ,QAAQ,CAACK,EAAE,EAAE;QACf,MAAMC,IAAI,GAAG,MAAMN,QAAQ,CAACO,IAAI,CAAC,CAAC;QAClC6Y,OAAO,CAAC9Y,IAAI,CAAC6Y,IAAI,IAAI7Y,IAAI,CAAC;MAC5B;IACF,CAAC,CAAC,OAAOjH,KAAK,EAAE;MACduH,OAAO,CAACvH,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;IAC9C,CAAC,SAAS;MACR0a,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,MAAMiG,kBAAkB,GAAGA,CAACC,KAAK,EAAEtf,KAAK,KAAK;IAC3C2e,UAAU,CAAC9Y,IAAI,KAAK;MAAE,GAAGA,IAAI;MAAE,CAACyZ,KAAK,GAAGtf,KAAK;MAAE+e,IAAI,EAAE;IAAE,CAAC,CAAC,CAAC;EAC5D,CAAC;EAED,MAAMQ,iBAAiB,GAAIX,SAAS,IAAK;IACvC,MAAMY,MAAM,GAAG;MACb,OAAO,EAAE,SAAS;MAClB,QAAQ,EAAE,SAAS;MACnB,QAAQ,EAAE,SAAS;MACnB,QAAQ,EAAE,SAAS;MACnB,QAAQ,EAAE,SAAS;MACnB,cAAc,EAAE,SAAS;MACzB,aAAa,EAAE,SAAS;MACxB,cAAc,EAAE,SAAS;MACzB,cAAc,EAAE,SAAS;MACzB,iBAAiB,EAAE;IACrB,CAAC;IACD,OAAOA,MAAM,CAACZ,SAAS,CAAC,IAAI,SAAS;EACvC,CAAC;EAED,MAAMa,sBAAsB,GAAIC,GAAG,IAAK;IACtC,QAAOA,GAAG,CAACtD,MAAM;MACf,KAAK,OAAO;QACV,OAAO,uBAAuB;MAChC,KAAK,QAAQ;QACX,OAAO,sBAAsB;MAC/B,KAAK,QAAQ;QACX,OAAO,YAAYsD,GAAG,CAACC,aAAa,KAAKD,GAAG,CAACE,WAAW,EAAE;MAC5D,KAAK,QAAQ;QACX,OAAO,WAAWF,GAAG,CAACC,aAAa,KAAKD,GAAG,CAACE,WAAW,EAAE;MAC3D,KAAK,QAAQ;QACX,OAAO,UAAUF,GAAG,CAACC,aAAa,KAAKD,GAAG,CAACE,WAAW,EAAE;MAC1D,KAAK,cAAc;QACjB,OAAO,8BAA8BF,GAAG,CAACE,WAAW,EAAE;MACxD,KAAK,aAAa;QAChB,OAAO,qBAAqBF,GAAG,CAACE,WAAW,EAAE;MAC/C,KAAK,cAAc;QACjB,OAAO,kBAAkBF,GAAG,CAACE,WAAW,EAAE;MAC5C,KAAK,cAAc;QACjB,OAAO,iBAAiBF,GAAG,CAACE,WAAW,EAAE;MAC3C,KAAK,iBAAiB;QACpB,OAAO,8BAA8BF,GAAG,CAACE,WAAW,EAAE;MACxD;QACE,OAAOF,GAAG,CAACtD,MAAM;IACrB;EACF,CAAC;EAED,IAAIjD,OAAO,EAAE;IACX,oBAAO9b,OAAA;MAAKwB,KAAK,EAAE;QAAEC,OAAO,EAAE;MAAO,CAAE;MAAAG,QAAA,EAAC;IAAsB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC;EACtE;EAEA,oBACEhC,OAAA;IAAKwB,KAAK,EAAE;MAAEC,OAAO,EAAE;IAAO,CAAE;IAAAG,QAAA,gBAC9B5B,OAAA;MAAA4B,QAAA,EAAI;IAAU;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACnBhC,OAAA;MAAGwB,KAAK,EAAE;QAAEe,KAAK,EAAE,SAAS;QAAEF,YAAY,EAAE;MAAO,CAAE;MAAAT,QAAA,EAAC;IAEtD;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC,eAGJhC,OAAA;MAAKwB,KAAK,EAAE;QACVU,eAAe,EAAE,SAAS;QAC1BT,OAAO,EAAE,MAAM;QACfW,YAAY,EAAE,KAAK;QACnBC,YAAY,EAAE,MAAM;QACpBF,MAAM,EAAE;MACV,CAAE;MAAAP,QAAA,gBACA5B,OAAA;QAAIwB,KAAK,EAAE;UAAEa,YAAY,EAAE;QAAO,CAAE;QAAAT,QAAA,EAAC;MAAM;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAChDhC,OAAA;QAAKwB,KAAK,EAAE;UAAEiE,OAAO,EAAE,MAAM;UAAE+c,mBAAmB,EAAE,sCAAsC;UAAE5c,GAAG,EAAE;QAAO,CAAE;QAAAhE,QAAA,gBACxG5B,OAAA;UAAA4B,QAAA,gBACE5B,OAAA;YAAOwB,KAAK,EAAE;cAAEiE,OAAO,EAAE,OAAO;cAAEpD,YAAY,EAAE,KAAK;cAAEyD,UAAU,EAAE;YAAO,CAAE;YAAAlE,QAAA,EAAC;UAE7E;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACRhC,OAAA;YACE2C,KAAK,EAAE0e,OAAO,CAACE,SAAU;YACzB3e,QAAQ,EAAG3B,CAAC,IAAK+gB,kBAAkB,CAAC,WAAW,EAAE/gB,CAAC,CAAC4B,MAAM,CAACF,KAAK,CAAE;YACjEnB,KAAK,EAAE;cAAEwB,KAAK,EAAE,MAAM;cAAEvB,OAAO,EAAE,KAAK;cAAEU,MAAM,EAAE,mBAAmB;cAAEC,YAAY,EAAE;YAAM,CAAE;YAAAR,QAAA,gBAE3F5B,OAAA;cAAQ2C,KAAK,EAAC,EAAE;cAAAf,QAAA,EAAC;YAAO;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACjChC,OAAA;cAAQ2C,KAAK,EAAC,OAAO;cAAAf,QAAA,EAAC;YAAU;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACzChC,OAAA;cAAQ2C,KAAK,EAAC,QAAQ;cAAAf,QAAA,EAAC;YAAS;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACzChC,OAAA;cAAQ2C,KAAK,EAAC,QAAQ;cAAAf,QAAA,EAAC;YAAS;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACzChC,OAAA;cAAQ2C,KAAK,EAAC,QAAQ;cAAAf,QAAA,EAAC;YAAM;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACtChC,OAAA;cAAQ2C,KAAK,EAAC,QAAQ;cAAAf,QAAA,EAAC;YAAO;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACvChC,OAAA;cAAQ2C,KAAK,EAAC,cAAc;cAAAf,QAAA,EAAC;YAAgB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACtDhC,OAAA;cAAQ2C,KAAK,EAAC,aAAa;cAAAf,QAAA,EAAC;YAAkB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACvDhC,OAAA;cAAQ2C,KAAK,EAAC,cAAc;cAAAf,QAAA,EAAC;YAAe;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACrDhC,OAAA;cAAQ2C,KAAK,EAAC,cAAc;cAAAf,QAAA,EAAC;YAAc;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACpDhC,OAAA;cAAQ2C,KAAK,EAAC,iBAAiB;cAAAf,QAAA,EAAC;YAAe;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAClD,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC,eAENhC,OAAA;UAAA4B,QAAA,gBACE5B,OAAA;YAAOwB,KAAK,EAAE;cAAEiE,OAAO,EAAE,OAAO;cAAEpD,YAAY,EAAE,KAAK;cAAEyD,UAAU,EAAE;YAAO,CAAE;YAAAlE,QAAA,EAAC;UAE7E;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACRhC,OAAA;YACE0C,IAAI,EAAC,MAAM;YACXC,KAAK,EAAE0e,OAAO,CAACG,QAAS;YACxB5e,QAAQ,EAAG3B,CAAC,IAAK+gB,kBAAkB,CAAC,UAAU,EAAE/gB,CAAC,CAAC4B,MAAM,CAACF,KAAK,CAAE;YAChEnB,KAAK,EAAE;cAAEwB,KAAK,EAAE,MAAM;cAAEvB,OAAO,EAAE,KAAK;cAAEU,MAAM,EAAE,mBAAmB;cAAEC,YAAY,EAAE;YAAM;UAAE;YAAAP,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC5F,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eAENhC,OAAA;UAAA4B,QAAA,gBACE5B,OAAA;YAAOwB,KAAK,EAAE;cAAEiE,OAAO,EAAE,OAAO;cAAEpD,YAAY,EAAE,KAAK;cAAEyD,UAAU,EAAE;YAAO,CAAE;YAAAlE,QAAA,EAAC;UAE7E;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACRhC,OAAA;YACE0C,IAAI,EAAC,MAAM;YACXC,KAAK,EAAE0e,OAAO,CAACI,MAAO;YACtB7e,QAAQ,EAAG3B,CAAC,IAAK+gB,kBAAkB,CAAC,QAAQ,EAAE/gB,CAAC,CAAC4B,MAAM,CAACF,KAAK,CAAE;YAC9DnB,KAAK,EAAE;cAAEwB,KAAK,EAAE,MAAM;cAAEvB,OAAO,EAAE,KAAK;cAAEU,MAAM,EAAE,mBAAmB;cAAEC,YAAY,EAAE;YAAM;UAAE;YAAAP,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC5F,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eAENhC,OAAA;UAAA4B,QAAA,gBACE5B,OAAA;YAAOwB,KAAK,EAAE;cAAEiE,OAAO,EAAE,OAAO;cAAEpD,YAAY,EAAE,KAAK;cAAEyD,UAAU,EAAE;YAAO,CAAE;YAAAlE,QAAA,EAAC;UAE7E;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACRhC,OAAA;YACE0C,IAAI,EAAC,MAAM;YACXC,KAAK,EAAE0e,OAAO,CAACT,MAAO;YACtBhe,QAAQ,EAAG3B,CAAC,IAAK+gB,kBAAkB,CAAC,QAAQ,EAAE/gB,CAAC,CAAC4B,MAAM,CAACF,KAAK,CAAE;YAC9DQ,WAAW,EAAC,cAAS;YACrB3B,KAAK,EAAE;cAAEwB,KAAK,EAAE,MAAM;cAAEvB,OAAO,EAAE,KAAK;cAAEU,MAAM,EAAE,mBAAmB;cAAEC,YAAY,EAAE;YAAM;UAAE;YAAAP,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC5F,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAENhC,OAAA;QAAKwB,KAAK,EAAE;UAAEgC,SAAS,EAAE;QAAO,CAAE;QAAA5B,QAAA,eAChC5B,OAAA;UACEyD,OAAO,EAAEA,CAAA,KAAM6d,UAAU,CAAC;YAAEC,SAAS,EAAE,EAAE;YAAEX,MAAM,EAAE,EAAE;YAAEY,QAAQ,EAAE,EAAE;YAAEC,MAAM,EAAE,EAAE;YAAEC,IAAI,EAAE,CAAC;YAAEC,KAAK,EAAE;UAAG,CAAC,CAAE;UACvGngB,KAAK,EAAE;YAAEC,OAAO,EAAE,UAAU;YAAES,eAAe,EAAE,SAAS;YAAEK,KAAK,EAAE,OAAO;YAAEJ,MAAM,EAAE,MAAM;YAAEC,YAAY,EAAE;UAAM,CAAE;UAAAR,QAAA,EACjH;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAGNhC,OAAA;MAAKwB,KAAK,EAAE;QAAEgb,SAAS,EAAE;MAAO,CAAE;MAAA5a,QAAA,eAChC5B,OAAA;QAAOwB,KAAK,EAAE;UAAEwB,KAAK,EAAE,MAAM;UAAEyZ,cAAc,EAAE,UAAU;UAAEna,QAAQ,EAAE;QAAO,CAAE;QAAAV,QAAA,gBAC5E5B,OAAA;UAAA4B,QAAA,eACE5B,OAAA;YAAIwB,KAAK,EAAE;cAAEU,eAAe,EAAE;YAAU,CAAE;YAAAN,QAAA,gBACxC5B,OAAA;cAAIwB,KAAK,EAAE;gBAAEC,OAAO,EAAE,MAAM;gBAAEwB,SAAS,EAAE,MAAM;gBAAEd,MAAM,EAAE,mBAAmB;gBAAE4Y,QAAQ,EAAE;cAAQ,CAAE;cAAAnZ,QAAA,EAAC;YAAW;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACnHhC,OAAA;cAAIwB,KAAK,EAAE;gBAAEC,OAAO,EAAE,MAAM;gBAAEwB,SAAS,EAAE,MAAM;gBAAEd,MAAM,EAAE,mBAAmB;gBAAE4Y,QAAQ,EAAE;cAAO,CAAE;cAAAnZ,QAAA,EAAC;YAAQ;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAC/GhC,OAAA;cAAIwB,KAAK,EAAE;gBAAEC,OAAO,EAAE,MAAM;gBAAEwB,SAAS,EAAE,MAAM;gBAAEd,MAAM,EAAE,mBAAmB;gBAAE4Y,QAAQ,EAAE;cAAQ,CAAE;cAAAnZ,QAAA,EAAC;YAAY;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACpHhC,OAAA;cAAIwB,KAAK,EAAE;gBAAEC,OAAO,EAAE,MAAM;gBAAEwB,SAAS,EAAE,MAAM;gBAAEd,MAAM,EAAE,mBAAmB;gBAAE4Y,QAAQ,EAAE;cAAQ,CAAE;cAAAnZ,QAAA,EAAC;YAAK;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAC7GhC,OAAA;cAAIwB,KAAK,EAAE;gBAAEC,OAAO,EAAE,MAAM;gBAAEwB,SAAS,EAAE,MAAM;gBAAEd,MAAM,EAAE,mBAAmB;gBAAE4Y,QAAQ,EAAE;cAAQ,CAAE;cAAAnZ,QAAA,EAAC;YAAS;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACjHhC,OAAA;cAAIwB,KAAK,EAAE;gBAAEC,OAAO,EAAE,MAAM;gBAAEwB,SAAS,EAAE,MAAM;gBAAEd,MAAM,EAAE,mBAAmB;gBAAE4Y,QAAQ,EAAE;cAAQ,CAAE;cAAAnZ,QAAA,EAAC;YAAU;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAChH;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACA,CAAC,eACRhC,OAAA;UAAA4B,QAAA,EACGuf,IAAI,CAACnb,GAAG,CAACqc,GAAG,iBACXriB,OAAA;YAAiBwB,KAAK,EAAE;cAAEgE,YAAY,EAAE;YAAoB,CAAE;YAAA5D,QAAA,gBAC5D5B,OAAA;cAAIwB,KAAK,EAAE;gBAAEC,OAAO,EAAE,MAAM;gBAAEU,MAAM,EAAE;cAAoB,CAAE;cAAAP,QAAA,EACzD,IAAI4I,IAAI,CAAC6X,GAAG,CAACI,SAAS,CAAC,CAACC,cAAc,CAAC,OAAO;YAAC;cAAA7gB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC9C,CAAC,eACLhC,OAAA;cAAIwB,KAAK,EAAE;gBAAEC,OAAO,EAAE,MAAM;gBAAEU,MAAM,EAAE;cAAoB,CAAE;cAAAP,QAAA,EACzDygB,GAAG,CAAChe,QAAQ,IAAIge,GAAG,CAAC1F,OAAO,IAAI;YAAK;cAAA9a,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACnC,CAAC,eACLhC,OAAA;cAAIwB,KAAK,EAAE;gBAAEC,OAAO,EAAE,MAAM;gBAAEU,MAAM,EAAE;cAAoB,CAAE;cAAAP,QAAA,eAC1D5B,OAAA;gBAAMwB,KAAK,EAAE;kBACXC,OAAO,EAAE,SAAS;kBAClBW,YAAY,EAAE,KAAK;kBACnBF,eAAe,EAAEggB,iBAAiB,CAACG,GAAG,CAACtD,MAAM,CAAC;kBAC9Cxc,KAAK,EAAE,OAAO;kBACdD,QAAQ,EAAE,MAAM;kBAChBwD,UAAU,EAAE;gBACd,CAAE;gBAAAlE,QAAA,EACCygB,GAAG,CAACtD;cAAM;gBAAAld,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACP;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACL,CAAC,eACLhC,OAAA;cAAIwB,KAAK,EAAE;gBAAEC,OAAO,EAAE,MAAM;gBAAEU,MAAM,EAAE;cAAoB,CAAE;cAAAP,QAAA,GACzDwgB,sBAAsB,CAACC,GAAG,CAAC,EAC3BA,GAAG,CAACM,OAAO,iBACV3iB,OAAA;gBAAKwB,KAAK,EAAE;kBAAEc,QAAQ,EAAE,MAAM;kBAAEC,KAAK,EAAE,SAAS;kBAAEiB,SAAS,EAAE;gBAAM,CAAE;gBAAA5B,QAAA,EAClE,OAAOygB,GAAG,CAACM,OAAO,KAAK,QAAQ,GAAGN,GAAG,CAACM,OAAO,GAAG1Y,IAAI,CAACC,SAAS,CAACmY,GAAG,CAACM,OAAO;cAAC;gBAAA9gB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACzE,CACN;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CAAC,eACLhC,OAAA;cAAIwB,KAAK,EAAE;gBAAEC,OAAO,EAAE,MAAM;gBAAEU,MAAM,EAAE,mBAAmB;gBAAE0D,UAAU,EAAE;cAAY,CAAE;cAAAjE,QAAA,EAClFygB,GAAG,CAACO,UAAU,IAAI;YAAK;cAAA/gB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACtB,CAAC,eACLhC,OAAA;cAAIwB,KAAK,EAAE;gBAAEC,OAAO,EAAE,MAAM;gBAAEU,MAAM,EAAE,mBAAmB;gBAAEG,QAAQ,EAAE,MAAM;gBAAEC,KAAK,EAAE;cAAU,CAAE;cAAAX,QAAA,EAC7FygB,GAAG,CAACQ,UAAU,GAAGR,GAAG,CAACQ,UAAU,CAACC,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC,IAAIT,GAAG,CAACQ,UAAU,CAACvf,MAAM,GAAG,EAAE,GAAG,KAAK,GAAG,EAAE,CAAC,GAAG;YAAK;cAAAzB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACnG,CAAC;UAAA,GAhCEqgB,GAAG,CAACjb,EAAE;YAAAvF,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAiCX,CACL;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC,EAELmf,IAAI,CAAC7d,MAAM,KAAK,CAAC,iBAChBtD,OAAA;MAAKwB,KAAK,EAAE;QAAEyB,SAAS,EAAE,QAAQ;QAAExB,OAAO,EAAE,MAAM;QAAEc,KAAK,EAAE;MAAU,CAAE;MAAAX,QAAA,EAAC;IAExE;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CACN,eAGDhC,OAAA;MAAKwB,KAAK,EAAE;QAAEgC,SAAS,EAAE,MAAM;QAAEP,SAAS,EAAE,QAAQ;QAAEV,KAAK,EAAE;MAAU,CAAE;MAAAX,QAAA,GAAC,YAC9D,EAACuf,IAAI,CAAC7d,MAAM,EAAC,kBACzB;IAAA;MAAAzB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAACkf,IAAA,CA5PID,SAAS;AAAA8B,IAAA,GAAT9B,SAAS;AA8Pf,MAAMF,QAAQ,GAAGA,CAAC;EAAEjc,IAAI;EAAE8I,MAAM;EAAEC,QAAQ;EAAEjL,QAAQ;EAAEqE;AAAM,CAAC,KAAK;EAAA+b,IAAA;EAChE,MAAM,CAAC7e,QAAQ,EAAEkL,WAAW,CAAC,GAAGnQ,KAAK,CAACC,QAAQ,CAAC;IAC7CkF,QAAQ,EAAE,CAAAS,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAET,QAAQ,KAAI,EAAE;IAC9BpC,KAAK,EAAE,CAAA6C,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAE7C,KAAK,KAAI,EAAE;IACxBsC,QAAQ,EAAE,EAAE;IACZ0e,eAAe,EAAE,EAAE;IACnB1d,IAAI,EAAE,CAAAT,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAES,IAAI,KAAI;EACtB,CAAC,CAAC;EAEF,MAAMvE,YAAY,GAAIC,CAAC,IAAK;IAC1BA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB,IAAI,CAACiD,QAAQ,CAACE,QAAQ,IAAI,CAACF,QAAQ,CAAClC,KAAK,EAAE;MACzCwC,KAAK,CAAC,wCAAwC,CAAC;MAC/C;IACF;IACA,IAAI,CAACK,IAAI,IAAI,CAACX,QAAQ,CAACI,QAAQ,EAAE;MAC/BE,KAAK,CAAC,uCAAuC,CAAC;MAC9C;IACF;IACA,IAAIN,QAAQ,CAACI,QAAQ,IAAIJ,QAAQ,CAACI,QAAQ,KAAKJ,QAAQ,CAAC8e,eAAe,EAAE;MACvExe,KAAK,CAAC,oBAAoB,CAAC;MAC3B;IACF;IAEA,MAAMye,UAAU,GAAG;MAAE,GAAG/e;IAAS,CAAC;IAClC,IAAIW,IAAI,IAAI,CAACX,QAAQ,CAACI,QAAQ,EAAE;MAC9B,OAAO2e,UAAU,CAAC3e,QAAQ,CAAC,CAAC;IAC9B;IACA,OAAO2e,UAAU,CAACD,eAAe,CAAC,CAAC;;IAEnC,IAAIrgB,QAAQ,EAAE;MACZA,QAAQ,CAAC;QAAE,GAAGkC,IAAI;QAAE,GAAGoe,UAAU;QAAEzC,WAAW,EAAEtc,QAAQ,CAACI;MAAS,CAAC,CAAC;IACtE,CAAC,MAAM;MACLqJ,MAAM,CAACsV,UAAU,CAAC;IACpB;EACF,CAAC;EAED,MAAMC,YAAY,GAAGA,CAAClB,KAAK,EAAEtf,KAAK,KAAK;IACrC,MAAMygB,OAAO,GAAG;MAAE,GAAGjf,QAAQ;MAAE,CAAC8d,KAAK,GAAGtf;IAAM,CAAC;IAC/C0M,WAAW,CAAC+T,OAAO,CAAC;IACpB,IAAIxgB,QAAQ,EAAE;MACZA,QAAQ,CAAC;QAAE,GAAGkC,IAAI;QAAE,GAAGse,OAAO;QAAE3C,WAAW,EAAE2C,OAAO,CAAC7e;MAAS,CAAC,CAAC;IAClE;EACF,CAAC;EAED,oBACEvE,OAAA;IAAKwB,KAAK,EAAE;MACVU,eAAe,EAAE,SAAS;MAC1BT,OAAO,EAAE,MAAM;MACfW,YAAY,EAAE,KAAK;MACnBC,YAAY,EAAE,MAAM;MACpBF,MAAM,EAAE;IACV,CAAE;IAAAP,QAAA,gBACA5B,OAAA;MAAA4B,QAAA,EAAKqF;IAAK;MAAApF,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,eAChBhC,OAAA;MAAMyC,QAAQ,EAAEzB,YAAa;MAAAY,QAAA,gBAC3B5B,OAAA;QAAKwB,KAAK,EAAE;UAAEa,YAAY,EAAE;QAAO,CAAE;QAAAT,QAAA,gBACnC5B,OAAA;UAAOwB,KAAK,EAAE;YAAEiE,OAAO,EAAE,OAAO;YAAEpD,YAAY,EAAE,KAAK;YAAEyD,UAAU,EAAE;UAAO,CAAE;UAAAlE,QAAA,EAAC;QAE7E;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACRhC,OAAA;UACE0C,IAAI,EAAC,MAAM;UACXC,KAAK,EAAEwB,QAAQ,CAACE,QAAS;UACzBzB,QAAQ,EAAG3B,CAAC,IAAKkiB,YAAY,CAAC,UAAU,EAAEliB,CAAC,CAAC4B,MAAM,CAACF,KAAK,CAAE;UAC1DnB,KAAK,EAAE;YAAEwB,KAAK,EAAE,MAAM;YAAEvB,OAAO,EAAE,KAAK;YAAEU,MAAM,EAAE,mBAAmB;YAAEC,YAAY,EAAE;UAAM,CAAE;UAC3FW,QAAQ;QAAA;UAAAlB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACT,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eAENhC,OAAA;QAAKwB,KAAK,EAAE;UAAEa,YAAY,EAAE;QAAO,CAAE;QAAAT,QAAA,gBACnC5B,OAAA;UAAOwB,KAAK,EAAE;YAAEiE,OAAO,EAAE,OAAO;YAAEpD,YAAY,EAAE,KAAK;YAAEyD,UAAU,EAAE;UAAO,CAAE;UAAAlE,QAAA,EAAC;QAE7E;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACRhC,OAAA;UACE0C,IAAI,EAAC,OAAO;UACZC,KAAK,EAAEwB,QAAQ,CAAClC,KAAM;UACtBW,QAAQ,EAAG3B,CAAC,IAAKkiB,YAAY,CAAC,OAAO,EAAEliB,CAAC,CAAC4B,MAAM,CAACF,KAAK,CAAE;UACvDnB,KAAK,EAAE;YAAEwB,KAAK,EAAE,MAAM;YAAEvB,OAAO,EAAE,KAAK;YAAEU,MAAM,EAAE,mBAAmB;YAAEC,YAAY,EAAE;UAAM,CAAE;UAC3FW,QAAQ;QAAA;UAAAlB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACT,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eAENhC,OAAA;QAAKwB,KAAK,EAAE;UAAEa,YAAY,EAAE;QAAO,CAAE;QAAAT,QAAA,gBACnC5B,OAAA;UAAOwB,KAAK,EAAE;YAAEiE,OAAO,EAAE,OAAO;YAAEpD,YAAY,EAAE,KAAK;YAAEyD,UAAU,EAAE;UAAO,CAAE;UAAAlE,QAAA,EACzEkD,IAAI,GAAG,2CAA2C,GAAG;QAAS;UAAAjD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC1D,CAAC,eACRhC,OAAA;UACE0C,IAAI,EAAC,UAAU;UACfC,KAAK,EAAEwB,QAAQ,CAACI,QAAS;UACzB3B,QAAQ,EAAG3B,CAAC,IAAKkiB,YAAY,CAAC,UAAU,EAAEliB,CAAC,CAAC4B,MAAM,CAACF,KAAK,CAAE;UAC1DnB,KAAK,EAAE;YAAEwB,KAAK,EAAE,MAAM;YAAEvB,OAAO,EAAE,KAAK;YAAEU,MAAM,EAAE,mBAAmB;YAAEC,YAAY,EAAE;UAAM,CAAE;UAC3FW,QAAQ,EAAE,CAAC+B;QAAK;UAAAjD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACjB,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eAENhC,OAAA;QAAKwB,KAAK,EAAE;UAAEa,YAAY,EAAE;QAAO,CAAE;QAAAT,QAAA,gBACnC5B,OAAA;UAAOwB,KAAK,EAAE;YAAEiE,OAAO,EAAE,OAAO;YAAEpD,YAAY,EAAE,KAAK;YAAEyD,UAAU,EAAE;UAAO,CAAE;UAAAlE,QAAA,EACzEkD,IAAI,GAAG,wBAAwB,GAAG;QAAmB;UAAAjD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACjD,CAAC,eACRhC,OAAA;UACE0C,IAAI,EAAC,UAAU;UACfC,KAAK,EAAEwB,QAAQ,CAAC8e,eAAgB;UAChCrgB,QAAQ,EAAG3B,CAAC,IAAKkiB,YAAY,CAAC,iBAAiB,EAAEliB,CAAC,CAAC4B,MAAM,CAACF,KAAK,CAAE;UACjEnB,KAAK,EAAE;YAAEwB,KAAK,EAAE,MAAM;YAAEvB,OAAO,EAAE,KAAK;YAAEU,MAAM,EAAE,mBAAmB;YAAEC,YAAY,EAAE;UAAM,CAAE;UAC3FW,QAAQ,EAAE,CAAC+B;QAAK;UAAAjD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACjB,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eAENhC,OAAA;QAAKwB,KAAK,EAAE;UAAEa,YAAY,EAAE;QAAO,CAAE;QAAAT,QAAA,gBACnC5B,OAAA;UAAOwB,KAAK,EAAE;YAAEiE,OAAO,EAAE,OAAO;YAAEpD,YAAY,EAAE,KAAK;YAAEyD,UAAU,EAAE;UAAO,CAAE;UAAAlE,QAAA,EAAC;QAE7E;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACRhC,OAAA;UACE2C,KAAK,EAAEwB,QAAQ,CAACoB,IAAK;UACrB3C,QAAQ,EAAG3B,CAAC,IAAKkiB,YAAY,CAAC,MAAM,EAAEliB,CAAC,CAAC4B,MAAM,CAACF,KAAK,CAAE;UACtDnB,KAAK,EAAE;YAAEwB,KAAK,EAAE,MAAM;YAAEvB,OAAO,EAAE,KAAK;YAAEU,MAAM,EAAE,mBAAmB;YAAEC,YAAY,EAAE;UAAM,CAAE;UAAAR,QAAA,gBAE3F5B,OAAA;YAAQ2C,KAAK,EAAC,MAAM;YAAAf,QAAA,EAAC;UAAI;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eAClChC,OAAA;YAAQ2C,KAAK,EAAC,OAAO;YAAAf,QAAA,EAAC;UAAK;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC9B,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC,eAENhC,OAAA;QAAKwB,KAAK,EAAE;UAAEiE,OAAO,EAAE,MAAM;UAAEG,GAAG,EAAE;QAAO,CAAE;QAAAhE,QAAA,gBAC3C5B,OAAA;UACE0C,IAAI,EAAC,QAAQ;UACblB,KAAK,EAAE;YAAEC,OAAO,EAAE,UAAU;YAAES,eAAe,EAAE,SAAS;YAAEK,KAAK,EAAE,OAAO;YAAEJ,MAAM,EAAE,MAAM;YAAEC,YAAY,EAAE;UAAM,CAAE;UAAAR,QAAA,EAE/GkD,IAAI,GAAG,cAAc,GAAG;QAAoB;UAAAjD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACvC,CAAC,eACThC,OAAA;UACE0C,IAAI,EAAC,QAAQ;UACbe,OAAO,EAAEoK,QAAS;UAClBrM,KAAK,EAAE;YAAEC,OAAO,EAAE,UAAU;YAAES,eAAe,EAAE,SAAS;YAAEK,KAAK,EAAE,OAAO;YAAEJ,MAAM,EAAE,MAAM;YAAEC,YAAY,EAAE;UAAM,CAAE;UAAAR,QAAA,EACjH;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACF,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACJ,CAAC;AAEV,CAAC;AAACghB,IAAA,CA3IIjC,QAAQ;AAAAsC,IAAA,GAARtC,QAAQ;AA6Id,MAAMuC,QAAQ,GAAGA,CAAA,KAAM;EAAAC,IAAA;EACrB,MAAM;IAAEze,IAAI;IAAE0e;EAAc,CAAC,GAAG3jB,OAAO,CAAC,CAAC;EACzC,MAAM,CAACsE,QAAQ,EAAEkL,WAAW,CAAC,GAAGnQ,KAAK,CAACC,QAAQ,CAAC;IAC7CkF,QAAQ,EAAE,CAAAS,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAET,QAAQ,KAAI,EAAE;IAC9BpC,KAAK,EAAE,CAAA6C,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAE7C,KAAK,KAAI,EAAE;IACxBwhB,eAAe,EAAE,EAAE;IACnBhD,WAAW,EAAE,EAAE;IACfwC,eAAe,EAAE;EACnB,CAAC,CAAC;EAEF,MAAMjiB,YAAY,GAAG,MAAOC,CAAC,IAAK;IAChCA,CAAC,CAACC,cAAc,CAAC,CAAC;IAElB,IAAIiD,QAAQ,CAACsc,WAAW,IAAItc,QAAQ,CAACsc,WAAW,KAAKtc,QAAQ,CAAC8e,eAAe,EAAE;MAC7Exe,KAAK,CAAC,2CAA2C,CAAC;MAClD;IACF;IAEA,MAAMkc,UAAU,GAAG;MACjBtc,QAAQ,EAAEF,QAAQ,CAACE,QAAQ;MAC3BpC,KAAK,EAAEkC,QAAQ,CAAClC;IAClB,CAAC;IAED,IAAIkC,QAAQ,CAACsc,WAAW,EAAE;MACxBE,UAAU,CAAC8C,eAAe,GAAGtf,QAAQ,CAACsf,eAAe;MACrD9C,UAAU,CAACF,WAAW,GAAGtc,QAAQ,CAACsc,WAAW;IAC/C;IAEA,MAAMtf,MAAM,GAAG,MAAMqiB,aAAa,CAAC7C,UAAU,CAAC;IAC9C,IAAIxf,MAAM,CAACC,OAAO,EAAE;MAClBqD,KAAK,CAAC,iCAAiC,CAAC;MACxC4K,WAAW,CAAC7G,IAAI,KAAK;QAAE,GAAGA,IAAI;QAAEib,eAAe,EAAE,EAAE;QAAEhD,WAAW,EAAE,EAAE;QAAEwC,eAAe,EAAE;MAAG,CAAC,CAAC,CAAC;IAC/F,CAAC,MAAM;MACLxe,KAAK,CAAC,iCAAiC,GAAGtD,MAAM,CAACE,KAAK,CAAC;IACzD;EACF,CAAC;EAED,oBACErB,OAAA;IAAKwB,KAAK,EAAE;MAAEC,OAAO,EAAE,MAAM;MAAEC,QAAQ,EAAE;IAAQ,CAAE;IAAAE,QAAA,gBACjD5B,OAAA;MAAA4B,QAAA,EAAI;IAAiB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAC1BhC,OAAA;MAAMyC,QAAQ,EAAEzB,YAAa;MAAAY,QAAA,gBAC3B5B,OAAA;QAAKwB,KAAK,EAAE;UAAEa,YAAY,EAAE;QAAO,CAAE;QAAAT,QAAA,gBACnC5B,OAAA;UAAA4B,QAAA,EAAI;QAAkB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAE3BhC,OAAA;UAAKwB,KAAK,EAAE;YAAEa,YAAY,EAAE;UAAO,CAAE;UAAAT,QAAA,gBACnC5B,OAAA;YAAOwB,KAAK,EAAE;cAAEiE,OAAO,EAAE,OAAO;cAAEpD,YAAY,EAAE,KAAK;cAAEyD,UAAU,EAAE;YAAO,CAAE;YAAAlE,QAAA,EAAC;UAE7E;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACRhC,OAAA;YACE0C,IAAI,EAAC,MAAM;YACXC,KAAK,EAAEwB,QAAQ,CAACE,QAAS;YACzBzB,QAAQ,EAAG3B,CAAC,IAAKoO,WAAW,CAAC7G,IAAI,KAAK;cAAE,GAAGA,IAAI;cAAEnE,QAAQ,EAAEpD,CAAC,CAAC4B,MAAM,CAACF;YAAM,CAAC,CAAC,CAAE;YAC9EnB,KAAK,EAAE;cAAEwB,KAAK,EAAE,MAAM;cAAEvB,OAAO,EAAE,KAAK;cAAEU,MAAM,EAAE,mBAAmB;cAAEC,YAAY,EAAE;YAAM,CAAE;YAC3FW,QAAQ;UAAA;YAAAlB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACT,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eAENhC,OAAA;UAAKwB,KAAK,EAAE;YAAEa,YAAY,EAAE;UAAO,CAAE;UAAAT,QAAA,gBACnC5B,OAAA;YAAOwB,KAAK,EAAE;cAAEiE,OAAO,EAAE,OAAO;cAAEpD,YAAY,EAAE,KAAK;cAAEyD,UAAU,EAAE;YAAO,CAAE;YAAAlE,QAAA,EAAC;UAE7E;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACRhC,OAAA;YACE0C,IAAI,EAAC,OAAO;YACZC,KAAK,EAAEwB,QAAQ,CAAClC,KAAM;YACtBW,QAAQ,EAAG3B,CAAC,IAAKoO,WAAW,CAAC7G,IAAI,KAAK;cAAE,GAAGA,IAAI;cAAEvG,KAAK,EAAEhB,CAAC,CAAC4B,MAAM,CAACF;YAAM,CAAC,CAAC,CAAE;YAC3EnB,KAAK,EAAE;cAAEwB,KAAK,EAAE,MAAM;cAAEvB,OAAO,EAAE,KAAK;cAAEU,MAAM,EAAE,mBAAmB;cAAEC,YAAY,EAAE;YAAM,CAAE;YAC3FW,QAAQ;UAAA;YAAAlB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACT,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAENhC,OAAA;QAAKwB,KAAK,EAAE;UAAEa,YAAY,EAAE;QAAO,CAAE;QAAAT,QAAA,gBACnC5B,OAAA;UAAA4B,QAAA,EAAI;QAAW;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACpBhC,OAAA;UAAGwB,KAAK,EAAE;YAAEe,KAAK,EAAE,SAAS;YAAED,QAAQ,EAAE,MAAM;YAAED,YAAY,EAAE;UAAO,CAAE;UAAAT,QAAA,EAAC;QAExE;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eAEJhC,OAAA;UAAKwB,KAAK,EAAE;YAAEa,YAAY,EAAE;UAAO,CAAE;UAAAT,QAAA,gBACnC5B,OAAA;YAAOwB,KAAK,EAAE;cAAEiE,OAAO,EAAE,OAAO;cAAEpD,YAAY,EAAE,KAAK;cAAEyD,UAAU,EAAE;YAAO,CAAE;YAAAlE,QAAA,EAAC;UAE7E;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACRhC,OAAA;YACE0C,IAAI,EAAC,UAAU;YACfC,KAAK,EAAEwB,QAAQ,CAACsf,eAAgB;YAChC7gB,QAAQ,EAAG3B,CAAC,IAAKoO,WAAW,CAAC7G,IAAI,KAAK;cAAE,GAAGA,IAAI;cAAEib,eAAe,EAAExiB,CAAC,CAAC4B,MAAM,CAACF;YAAM,CAAC,CAAC,CAAE;YACrFnB,KAAK,EAAE;cAAEwB,KAAK,EAAE,MAAM;cAAEvB,OAAO,EAAE,KAAK;cAAEU,MAAM,EAAE,mBAAmB;cAAEC,YAAY,EAAE;YAAM;UAAE;YAAAP,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC5F,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eAENhC,OAAA;UAAKwB,KAAK,EAAE;YAAEa,YAAY,EAAE;UAAO,CAAE;UAAAT,QAAA,gBACnC5B,OAAA;YAAOwB,KAAK,EAAE;cAAEiE,OAAO,EAAE,OAAO;cAAEpD,YAAY,EAAE,KAAK;cAAEyD,UAAU,EAAE;YAAO,CAAE;YAAAlE,QAAA,EAAC;UAE7E;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACRhC,OAAA;YACE0C,IAAI,EAAC,UAAU;YACfC,KAAK,EAAEwB,QAAQ,CAACsc,WAAY;YAC5B7d,QAAQ,EAAG3B,CAAC,IAAKoO,WAAW,CAAC7G,IAAI,KAAK;cAAE,GAAGA,IAAI;cAAEiY,WAAW,EAAExf,CAAC,CAAC4B,MAAM,CAACF;YAAM,CAAC,CAAC,CAAE;YACjFnB,KAAK,EAAE;cAAEwB,KAAK,EAAE,MAAM;cAAEvB,OAAO,EAAE,KAAK;cAAEU,MAAM,EAAE,mBAAmB;cAAEC,YAAY,EAAE;YAAM;UAAE;YAAAP,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC5F,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eAENhC,OAAA;UAAKwB,KAAK,EAAE;YAAEa,YAAY,EAAE;UAAO,CAAE;UAAAT,QAAA,gBACnC5B,OAAA;YAAOwB,KAAK,EAAE;cAAEiE,OAAO,EAAE,OAAO;cAAEpD,YAAY,EAAE,KAAK;cAAEyD,UAAU,EAAE;YAAO,CAAE;YAAAlE,QAAA,EAAC;UAE7E;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACRhC,OAAA;YACE0C,IAAI,EAAC,UAAU;YACfC,KAAK,EAAEwB,QAAQ,CAAC8e,eAAgB;YAChCrgB,QAAQ,EAAG3B,CAAC,IAAKoO,WAAW,CAAC7G,IAAI,KAAK;cAAE,GAAGA,IAAI;cAAEya,eAAe,EAAEhiB,CAAC,CAAC4B,MAAM,CAACF;YAAM,CAAC,CAAC,CAAE;YACrFnB,KAAK,EAAE;cAAEwB,KAAK,EAAE,MAAM;cAAEvB,OAAO,EAAE,KAAK;cAAEU,MAAM,EAAE,mBAAmB;cAAEC,YAAY,EAAE;YAAM;UAAE;YAAAP,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC5F,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAENhC,OAAA;QACE0C,IAAI,EAAC,QAAQ;QACblB,KAAK,EAAE;UAAEC,OAAO,EAAE,WAAW;UAAES,eAAe,EAAE,SAAS;UAAEK,KAAK,EAAE,OAAO;UAAEJ,MAAM,EAAE,MAAM;UAAEC,YAAY,EAAE;QAAM,CAAE;QAAAR,QAAA,EAClH;MAED;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACJ,CAAC;AAEV,CAAC;;AAED;AAAAuhB,IAAA,CA7HMD,QAAQ;EAAA,QACoBzjB,OAAO;AAAA;AAAA6jB,IAAA,GADnCJ,QAAQ;AA8Hd,MAAMK,MAAM,GAAGA,CAAC;EAAE/hB;AAAS,CAAC,KAAK;EAC/B,oBACE5B,OAAA;IAAA4B,QAAA,gBACE5B,OAAA,CAAC4E,UAAU;MAAA/C,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,EACbJ,QAAQ;EAAA;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAEN,CAAC;AAEV,CAAC;;AAED;AAAA4hB,IAAA,GAVMD,MAAM;AAWZ,MAAME,cAAc,GAAGA,CAAC;EAAEjiB;AAAS,CAAC,KAAK;EAAAkiB,IAAA;EACvC,MAAM;IAAE5f,eAAe;IAAEzD;EAAU,CAAC,GAAGZ,OAAO,CAAC,CAAC;EAEhD,IAAIY,SAAS,EAAE;IACb,oBAAOT,OAAA;MAAKwB,KAAK,EAAE;QAAEC,OAAO,EAAE;MAAO,CAAE;MAAAG,QAAA,EAAC;IAAW;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC;EAC3D;EAEA,IAAI,CAACkC,eAAe,EAAE;IACpB,oBAAOlE,OAAA,CAACR,QAAQ;MAACukB,EAAE,EAAC,QAAQ;MAACC,OAAO;IAAA;MAAAniB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EACzC;EAEA,oBACEhC,OAAA,CAAC2jB,MAAM;IAAA/hB,QAAA,EACJA;EAAQ;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEb,CAAC;;AAED;AAAA8hB,IAAA,CAlBMD,cAAc;EAAA,QACqBhkB,OAAO;AAAA;AAAAokB,IAAA,GAD1CJ,cAAc;AAmBpB,MAAMK,UAAU,GAAGA,CAAC;EAAEtiB;AAAS,CAAC,KAAK;EAAAuiB,IAAA;EACnC,MAAM;IAAErf;EAAK,CAAC,GAAGjF,OAAO,CAAC,CAAC;EAE1B,IAAI,CAAAiF,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAES,IAAI,MAAK,OAAO,EAAE;IAC1B,oBACEvF,OAAA;MAAKwB,KAAK,EAAE;QAAEC,OAAO,EAAE;MAAO,CAAE;MAAAG,QAAA,gBAC9B5B,OAAA;QAAA4B,QAAA,EAAI;MAAe;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACxBhC,OAAA;QAAA4B,QAAA,EAAG;MAA+C;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACnD,CAAC;EAEV;EAEA,OAAOJ,QAAQ;AACjB,CAAC;;AAED;AAAAuiB,IAAA,CAfMD,UAAU;EAAA,QACGrkB,OAAO;AAAA;AAAAukB,IAAA,GADpBF,UAAU;AAgBhB,MAAMG,UAAU,GAAGA,CAAA,KAAM;EAAAC,IAAA;EACvB,MAAM;IAAExf;EAAK,CAAC,GAAGjF,OAAO,CAAC,CAAC;EAC1B,MAAMigB,QAAQ,GAAGngB,WAAW,CAAC,CAAC;EAC9B,MAAMkJ,QAAQ,GAAGiX,QAAQ,CAACyE,QAAQ,CAAChG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAClD,MAAM,CAACiG,cAAc,EAAEC,iBAAiB,CAAC,GAAGvlB,KAAK,CAACC,QAAQ,CAAC,IAAI,CAAC;EAChE,MAAM,CAAC2c,OAAO,EAAEC,UAAU,CAAC,GAAG7c,KAAK,CAACC,QAAQ,CAAC,IAAI,CAAC;EAClD,MAAM,CAACkC,KAAK,EAAE2a,QAAQ,CAAC,GAAG9c,KAAK,CAACC,QAAQ,CAAC,IAAI,CAAC;EAE9CD,KAAK,CAAC6B,SAAS,CAAC,MAAM;IACpB,IAAI8H,QAAQ,EAAE;MACZ6b,eAAe,CAAC,CAAC;IACnB;EACF,CAAC,EAAE,CAAC7b,QAAQ,CAAC,CAAC;EAEd,MAAM6b,eAAe,GAAG,MAAAA,CAAA,KAAY;IAClC,IAAI;MACF3I,UAAU,CAAC,IAAI,CAAC;MAChBC,QAAQ,CAAC,IAAI,CAAC;MACd,MAAMhU,QAAQ,GAAG,MAAMC,KAAK,CAAC,6BAA6BY,QAAQ,EAAE,EAAE;QACpEX,OAAO,EAAE;UACP,eAAe,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;QAC1D;MACF,CAAC,CAAC;MAEF,IAAIJ,QAAQ,CAACK,EAAE,EAAE;QACf,MAAMC,IAAI,GAAG,MAAMN,QAAQ,CAACO,IAAI,CAAC,CAAC;QAClCkc,iBAAiB,CAACnc,IAAI,CAAC;MACzB,CAAC,MAAM;QACL,MAAM,IAAIU,KAAK,CAAC,8BAA8B,CAAC;MACjD;IACF,CAAC,CAAC,OAAO3H,KAAK,EAAE;MACduH,OAAO,CAACvH,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;MAClD2a,QAAQ,CAAC3a,KAAK,CAACR,OAAO,CAAC;IACzB,CAAC,SAAS;MACRkb,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,MAAM4I,qBAAqB,GAAIC,UAAU,IAAK;IAC5C,MAAMC,WAAW,GAAG,CAAC,YAAY,EAAE,OAAO,EAAE,SAAS,EAAE,KAAK,EAAE,UAAU,CAAC;IACzE,MAAMC,UAAU,GAAG,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC;IAEjD,oBACE9kB,OAAA;MAAKwB,KAAK,EAAE;QAAEa,YAAY,EAAE;MAAO,CAAE;MAAAT,QAAA,gBACnC5B,OAAA;QAAIwB,KAAK,EAAE;UAAEa,YAAY,EAAE;QAAO,CAAE;QAAAT,QAAA,EAAC;MAAe;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACzDhC,OAAA;QAAKwB,KAAK,EAAE;UAAEiE,OAAO,EAAE,MAAM;UAAEC,cAAc,EAAE,cAAc;UAAErD,YAAY,EAAE;QAAO,CAAE;QAAAT,QAAA,EACnFijB,WAAW,CAAC7e,GAAG,CAAC,CAACd,KAAK,EAAEwF,KAAK,KAAK;UACjC,MAAMqa,KAAK,GAAGH,UAAU,CAACI,YAAY,CAAC9f,KAAK,CAAC,IAAI,CAAC;UACjD,MAAM+f,UAAU,GAAGL,UAAU,CAACM,cAAc,GAAG,CAAC,GAAG,CAAEH,KAAK,GAAGH,UAAU,CAACM,cAAc,GAAI,GAAG,EAAEC,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC;UAE7G,oBACEnlB,OAAA;YAAiBwB,KAAK,EAAE;cAAEyB,SAAS,EAAE,QAAQ;cAAE8X,QAAQ,EAAE;YAAO,CAAE;YAAAnZ,QAAA,gBAChE5B,OAAA;cAAKwB,KAAK,EAAE;gBAAEc,QAAQ,EAAE,MAAM;gBAAED,YAAY,EAAE;cAAM,CAAE;cAAAT,QAAA,EAAEkjB,UAAU,CAACpa,KAAK;YAAC;cAAA7I,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eAChFhC,OAAA;cAAKwB,KAAK,EAAE;gBAAEsE,UAAU,EAAE,MAAM;gBAAExD,QAAQ,EAAE;cAAO,CAAE;cAAAV,QAAA,EAAEmjB;YAAK;cAAAljB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eACnEhC,OAAA;cAAKwB,KAAK,EAAE;gBAAEc,QAAQ,EAAE,MAAM;gBAAEC,KAAK,EAAE;cAAO,CAAE;cAAAX,QAAA,GAAEqjB,UAAU,EAAC,GAAC;YAAA;cAAApjB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eACpEhC,OAAA;cAAKwB,KAAK,EAAE;gBAAEc,QAAQ,EAAE,MAAM;gBAAEC,KAAK,EAAE;cAAO,CAAE;cAAAX,QAAA,EAAEsD;YAAK;cAAArD,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA,GAJtDkD,KAAK;YAAArD,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAKV,CAAC;QAEV,CAAC;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eAGNhC,OAAA;QAAKwB,KAAK,EAAE;UAAEgC,SAAS,EAAE;QAAO,CAAE;QAAA5B,QAAA,EAC/BijB,WAAW,CAAC7e,GAAG,CAAC,CAACd,KAAK,EAAEwF,KAAK,KAAK;UACjC,MAAMqa,KAAK,GAAGH,UAAU,CAACI,YAAY,CAAC9f,KAAK,CAAC,IAAI,CAAC;UACjD,MAAM+f,UAAU,GAAGL,UAAU,CAACM,cAAc,GAAG,CAAC,GAAIH,KAAK,GAAGH,UAAU,CAACM,cAAc,GAAI,GAAG,GAAG,CAAC;UAChG,MAAM/C,MAAM,GAAG,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC;UAEtE,oBACEniB,OAAA;YAAiBwB,KAAK,EAAE;cAAEa,YAAY,EAAE;YAAM,CAAE;YAAAT,QAAA,gBAC9C5B,OAAA;cAAKwB,KAAK,EAAE;gBACViE,OAAO,EAAE,MAAM;gBACfE,UAAU,EAAE,QAAQ;gBACpBrD,QAAQ,EAAE,MAAM;gBAChBD,YAAY,EAAE;cAChB,CAAE;cAAAT,QAAA,gBACA5B,OAAA;gBAAMwB,KAAK,EAAE;kBAAEuZ,QAAQ,EAAE;gBAAQ,CAAE;gBAAAnZ,QAAA,GAAEkjB,UAAU,CAACpa,KAAK,CAAC,EAAC,GAAC,EAACxF,KAAK;cAAA;gBAAArD,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eACtEhC,OAAA;gBAAMwB,KAAK,EAAE;kBAAEqP,UAAU,EAAE,MAAM;kBAAE/K,UAAU,EAAE;gBAAO,CAAE;gBAAAlE,QAAA,GAAEmjB,KAAK,EAAC,IAAE,EAACE,UAAU,CAACE,OAAO,CAAC,CAAC,CAAC,EAAC,IAAE;cAAA;gBAAAtjB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC/F,CAAC,eACNhC,OAAA;cAAKwB,KAAK,EAAE;gBACVmR,MAAM,EAAE,KAAK;gBACbzQ,eAAe,EAAE,SAAS;gBAC1BE,YAAY,EAAE,KAAK;gBACnBiO,QAAQ,EAAE;cACZ,CAAE;cAAAzO,QAAA,eACA5B,OAAA;gBAAKwB,KAAK,EAAE;kBACVmR,MAAM,EAAE,MAAM;kBACd3P,KAAK,EAAE,GAAGiiB,UAAU,GAAG;kBACvB/iB,eAAe,EAAEigB,MAAM,CAACzX,KAAK,CAAC;kBAC9BiE,UAAU,EAAE;gBACd;cAAE;gBAAA9M,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC;UAAA,GAtBEkD,KAAK;YAAArD,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAuBV,CAAC;QAEV,CAAC;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAEV,CAAC;EAED,MAAMojB,oBAAoB,GAAIR,UAAU,IAAK;IAC3C,oBACE5kB,OAAA;MAAKwB,KAAK,EAAE;QAAEa,YAAY,EAAE;MAAO,CAAE;MAAAT,QAAA,gBACnC5B,OAAA;QAAIwB,KAAK,EAAE;UAAEa,YAAY,EAAE;QAAO,CAAE;QAAAT,QAAA,EAAC;MAAgB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC1DhC,OAAA;QAAKwB,KAAK,EAAE;UACV4O,SAAS,EAAE,OAAO;UAClB2F,SAAS,EAAE,MAAM;UACjB5T,MAAM,EAAE,gBAAgB;UACxBC,YAAY,EAAE,KAAK;UACnBX,OAAO,EAAE;QACX,CAAE;QAAAG,QAAA,EACCgjB,UAAU,CAACS,aAAa,IAAIT,UAAU,CAACS,aAAa,CAAC/hB,MAAM,GAAG,CAAC,GAC9DshB,UAAU,CAACS,aAAa,CAACrf,GAAG,CAAC,CAACgC,QAAQ,EAAE0C,KAAK,kBAC3C1K,OAAA;UAAiBwB,KAAK,EAAE;YACtBC,OAAO,EAAE,MAAM;YACf+D,YAAY,EAAEkF,KAAK,GAAGka,UAAU,CAACS,aAAa,CAAC/hB,MAAM,GAAG,CAAC,GAAG,gBAAgB,GAAG,MAAM;YACrFhB,QAAQ,EAAE;UACZ,CAAE;UAAAV,QAAA,GAAC,IACA,EAACoG,QAAQ,EAAC,IACb;QAAA,GANU0C,KAAK;UAAA7I,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAMV,CACN,CAAC,gBAEFhC,OAAA;UAAKwB,KAAK,EAAE;YAAEe,KAAK,EAAE,MAAM;YAAEwR,SAAS,EAAE;UAAS,CAAE;UAAAnS,QAAA,EAAC;QAAsB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK;MAChF;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAEV,CAAC;EAED,IAAI8Z,OAAO,EAAE;IACX,oBACE9b,OAAA;MAAKwB,KAAK,EAAE;QAAEC,OAAO,EAAE,MAAM;QAAEwB,SAAS,EAAE;MAAS,CAAE;MAAArB,QAAA,eACnD5B,OAAA;QAAKwB,KAAK,EAAE;UAAEc,QAAQ,EAAE;QAAO,CAAE;QAAAV,QAAA,EAAC;MAAqB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC1D,CAAC;EAEV;EAEA,IAAIX,KAAK,EAAE;IACT,oBACErB,OAAA;MAAKwB,KAAK,EAAE;QAAEC,OAAO,EAAE,MAAM;QAAEwB,SAAS,EAAE;MAAS,CAAE;MAAArB,QAAA,gBACnD5B,OAAA;QAAKwB,KAAK,EAAE;UAAEe,KAAK,EAAE,KAAK;UAAED,QAAQ,EAAE,MAAM;UAAED,YAAY,EAAE;QAAO,CAAE;QAAAT,QAAA,GAAC,SAC7D,EAACP,KAAK;MAAA;QAAAQ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACV,CAAC,eACNhC,OAAA;QACEyD,OAAO,EAAEihB,eAAgB;QACzBljB,KAAK,EAAE;UACLC,OAAO,EAAE,WAAW;UACpBS,eAAe,EAAE,SAAS;UAC1BK,KAAK,EAAE,OAAO;UACdJ,MAAM,EAAE,MAAM;UACdC,YAAY,EAAE;QAChB,CAAE;QAAAR,QAAA,EACH;MAED;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC;EAEV;EAEA,IAAI,CAACwiB,cAAc,EAAE;IACnB,oBACExkB,OAAA;MAAKwB,KAAK,EAAE;QAAEC,OAAO,EAAE,MAAM;QAAEwB,SAAS,EAAE;MAAS,CAAE;MAAArB,QAAA,eACnD5B,OAAA;QAAKwB,KAAK,EAAE;UAAEc,QAAQ,EAAE,MAAM;UAAEC,KAAK,EAAE;QAAO,CAAE;QAAAX,QAAA,EAAC;MAAqB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACzE,CAAC;EAEV;EAEA,oBACEhC,OAAA;IAAKwB,KAAK,EAAE;MAAEC,OAAO,EAAE,MAAM;MAAEC,QAAQ,EAAE,QAAQ;MAAEC,MAAM,EAAE;IAAS,CAAE;IAAAC,QAAA,gBAEpE5B,OAAA;MAAKwB,KAAK,EAAE;QAAEa,YAAY,EAAE;MAAO,CAAE;MAAAT,QAAA,gBACnC5B,OAAA;QAAIwB,KAAK,EAAE;UAAEa,YAAY,EAAE;QAAO,CAAE;QAAAT,QAAA,EAAC;MAAuB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACjEhC,OAAA;QAAIwB,KAAK,EAAE;UAAEe,KAAK,EAAE,MAAM;UAAEuD,UAAU,EAAE,QAAQ;UAAEzD,YAAY,EAAE;QAAO,CAAE;QAAAT,QAAA,EACtE4iB,cAAc,CAAC7c,MAAM,CAACV;MAAK;QAAApF,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC1B,CAAC,eACLhC,OAAA;QAAKwB,KAAK,EAAE;UACVU,eAAe,EAAE,SAAS;UAC1BT,OAAO,EAAE,MAAM;UACfW,YAAY,EAAE,KAAK;UACnBD,MAAM,EAAE;QACV,CAAE;QAAAP,QAAA,gBACA5B,OAAA;UAAKwB,KAAK,EAAE;YAAEc,QAAQ,EAAE,MAAM;YAAEwD,UAAU,EAAE,MAAM;YAAEvD,KAAK,EAAE;UAAU,CAAE;UAAAX,QAAA,GAAC,2BACrD,EAAC4iB,cAAc,CAACc,aAAa;QAAA;UAAAzjB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC3C,CAAC,EACLwiB,cAAc,CAAC7c,MAAM,CAACT,WAAW,iBAChClH,OAAA;UAAKwB,KAAK,EAAE;YAAEgC,SAAS,EAAE,KAAK;YAAEjB,KAAK,EAAE;UAAO,CAAE;UAAAX,QAAA,EAC7C4iB,cAAc,CAAC7c,MAAM,CAACT;QAAW;UAAArF,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC/B,CACN;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAGNhC,OAAA;MAAKwB,KAAK,EAAE;QAAEa,YAAY,EAAE;MAAO,CAAE;MAAAT,QAAA,gBACnC5B,OAAA;QAAIwB,KAAK,EAAE;UAAEa,YAAY,EAAE;QAAO,CAAE;QAAAT,QAAA,EAAC;MAAuB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,EAEhEujB,MAAM,CAACC,IAAI,CAAChB,cAAc,CAACI,UAAU,CAAC,CAACthB,MAAM,KAAK,CAAC,gBAClDtD,OAAA;QAAKwB,KAAK,EAAE;UACVyB,SAAS,EAAE,QAAQ;UACnBxB,OAAO,EAAE,MAAM;UACfS,eAAe,EAAE,SAAS;UAC1BE,YAAY,EAAE,KAAK;UACnBG,KAAK,EAAE;QACT,CAAE;QAAAX,QAAA,gBACA5B,OAAA;UAAKwB,KAAK,EAAE;YAAEc,QAAQ,EAAE,MAAM;YAAED,YAAY,EAAE;UAAO,CAAE;UAAAT,QAAA,EAAC;QAAE;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eAChEhC,OAAA;UAAA4B,QAAA,EAAK;QAA8B;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACtC,CAAC,GAENujB,MAAM,CAACE,OAAO,CAACjB,cAAc,CAACI,UAAU,CAAC,CAAC5e,GAAG,CAAC,CAAC,CAAC8E,MAAM,EAAE8Z,UAAU,CAAC,kBACjE5kB,OAAA;QAAkBwB,KAAK,EAAE;UACvBU,eAAe,EAAE,OAAO;UACxBC,MAAM,EAAE,gBAAgB;UACxBC,YAAY,EAAE,KAAK;UACnBX,OAAO,EAAE,MAAM;UACfY,YAAY,EAAE,MAAM;UACpBqM,SAAS,EAAE;QACb,CAAE;QAAA9M,QAAA,gBACA5B,OAAA;UAAIwB,KAAK,EAAE;YACTa,YAAY,EAAE,MAAM;YACpBE,KAAK,EAAE,MAAM;YACbiD,YAAY,EAAE,mBAAmB;YACjCgP,aAAa,EAAE;UACjB,CAAE;UAAA5S,QAAA,GAAC,YACM,EAACkJ,MAAM,EAAC,IAAE,EAAC8Z,UAAU,CAACliB,IAAI,EAAC,GACpC;QAAA;UAAAb,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,EAEJ4iB,UAAU,CAACliB,IAAI,KAAK,cAAc,IAAIiiB,qBAAqB,CAACC,UAAU,CAAC,EACvEA,UAAU,CAACliB,IAAI,KAAK,MAAM,IAAI0iB,oBAAoB,CAACR,UAAU,CAAC;MAAA,GAlBvD9Z,MAAM;QAAAjJ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAmBX,CACN,CACF;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,eAGNhC,OAAA;MAAKwB,KAAK,EAAE;QAAEa,YAAY,EAAE;MAAO,CAAE;MAAAT,QAAA,gBACnC5B,OAAA;QAAIwB,KAAK,EAAE;UAAEa,YAAY,EAAE;QAAO,CAAE;QAAAT,QAAA,EAAC;MAAmB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,EAE5DwiB,cAAc,CAACkB,mBAAmB,CAACpiB,MAAM,KAAK,CAAC,gBAC9CtD,OAAA;QAAKwB,KAAK,EAAE;UACVyB,SAAS,EAAE,QAAQ;UACnBxB,OAAO,EAAE,MAAM;UACfS,eAAe,EAAE,SAAS;UAC1BE,YAAY,EAAE,KAAK;UACnBG,KAAK,EAAE;QACT,CAAE;QAAAX,QAAA,EAAC;MAEH;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,gBAENhC,OAAA;QAAKwB,KAAK,EAAE;UAAEgb,SAAS,EAAE;QAAO,CAAE;QAAA5a,QAAA,eAChC5B,OAAA;UAAOwB,KAAK,EAAE;YAAEwB,KAAK,EAAE,MAAM;YAAEyZ,cAAc,EAAE,UAAU;YAAEna,QAAQ,EAAE;UAAO,CAAE;UAAAV,QAAA,gBAC5E5B,OAAA;YAAA4B,QAAA,eACE5B,OAAA;cAAIwB,KAAK,EAAE;gBAAEU,eAAe,EAAE;cAAU,CAAE;cAAAN,QAAA,gBACxC5B,OAAA;gBAAIwB,KAAK,EAAE;kBAAEC,OAAO,EAAE,MAAM;kBAAEwB,SAAS,EAAE,MAAM;kBAAEd,MAAM,EAAE;gBAAoB,CAAE;gBAAAP,QAAA,EAAC;cAEhF;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACLhC,OAAA;gBAAIwB,KAAK,EAAE;kBAAEC,OAAO,EAAE,MAAM;kBAAEwB,SAAS,EAAE,MAAM;kBAAEd,MAAM,EAAE;gBAAoB,CAAE;gBAAAP,QAAA,EAAC;cAEhF;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,EAEJujB,MAAM,CAACC,IAAI,CAAChB,cAAc,CAACI,UAAU,CAAC,CAAC5e,GAAG,CAAC8E,MAAM,iBAChD9K,OAAA;gBAAiBwB,KAAK,EAAE;kBAAEC,OAAO,EAAE,MAAM;kBAAEwB,SAAS,EAAE,MAAM;kBAAEd,MAAM,EAAE;gBAAoB,CAAE;gBAAAP,QAAA,GAAC,YACpF,EAACkJ,MAAM;cAAA,GADPA,MAAM;gBAAAjJ,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAEX,CACL,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACA;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACA,CAAC,eACRhC,OAAA;YAAA4B,QAAA,EACG4iB,cAAc,CAACkB,mBAAmB,CAAC1f,GAAG,CAACgC,QAAQ,iBAC9ChI,OAAA;cAAsBwB,KAAK,EAAE;gBAAEgE,YAAY,EAAE;cAAoB,CAAE;cAAA5D,QAAA,gBACjE5B,OAAA;gBAAIwB,KAAK,EAAE;kBAAEC,OAAO,EAAE,MAAM;kBAAEU,MAAM,EAAE;gBAAoB,CAAE;gBAAAP,QAAA,EACzD,IAAI4I,IAAI,CAACxC,QAAQ,CAAC2d,WAAW,CAAC,CAACjD,cAAc,CAAC,OAAO;cAAC;gBAAA7gB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACrD,CAAC,eACLhC,OAAA;gBAAIwB,KAAK,EAAE;kBAAEC,OAAO,EAAE,MAAM;kBAAEU,MAAM,EAAE,mBAAmB;kBAAE0D,UAAU,EAAE;gBAAY,CAAE;gBAAAjE,QAAA,EAClFoG,QAAQ,CAAC4d,SAAS,IAAI;cAAK;gBAAA/jB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC1B,CAAC,EAEJujB,MAAM,CAACC,IAAI,CAAChB,cAAc,CAACI,UAAU,CAAC,CAAC5e,GAAG,CAAC8E,MAAM,iBAChD9K,OAAA;gBAAiBwB,KAAK,EAAE;kBAAEC,OAAO,EAAE,MAAM;kBAAEU,MAAM,EAAE;gBAAoB,CAAE;gBAAAP,QAAA,EACtEoG,QAAQ,CAAC6d,OAAO,CAAC/a,MAAM,CAAC,gBACvB9K,OAAA;kBAAMiH,KAAK,EAAE,QAAQe,QAAQ,CAAC6d,OAAO,CAAC/a,MAAM,CAAC,CAACpI,IAAI,EAAG;kBAAAd,QAAA,EAClDoG,QAAQ,CAAC6d,OAAO,CAAC/a,MAAM,CAAC,CAACnI,KAAK,IAAI;gBAAc;kBAAAd,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC7C,CAAC,gBAEPhC,OAAA;kBAAMwB,KAAK,EAAE;oBAAEe,KAAK,EAAE,MAAM;oBAAEwR,SAAS,EAAE;kBAAS,CAAE;kBAAAnS,QAAA,EAAC;gBAAY;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM;cACxE,GAPM8I,MAAM;gBAAAjJ,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAQX,CACL,CAAC;YAAA,GAlBKgG,QAAQ,CAACZ,EAAE;cAAAvF,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAmBhB,CACL;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL,CACN;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,eAGNhC,OAAA;MAAKwB,KAAK,EAAE;QAAEyB,SAAS,EAAE,QAAQ;QAAEO,SAAS,EAAE;MAAO,CAAE;MAAA5B,QAAA,gBACrD5B,OAAA;QACEyD,OAAO,EAAEA,CAAA,KAAMuH,MAAM,CAAC8a,KAAK,CAAC,CAAE;QAC9BtkB,KAAK,EAAE;UACLC,OAAO,EAAE,WAAW;UACpBS,eAAe,EAAE,SAAS;UAC1BK,KAAK,EAAE,OAAO;UACdJ,MAAM,EAAE,MAAM;UACdC,YAAY,EAAE,KAAK;UACnBE,QAAQ,EAAE,MAAM;UAChBuB,WAAW,EAAE;QACf,CAAE;QAAAjC,QAAA,EACH;MAED;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eACThC,OAAA;QACEyD,OAAO,EAAEihB,eAAgB;QACzBljB,KAAK,EAAE;UACLC,OAAO,EAAE,WAAW;UACpBS,eAAe,EAAE,SAAS;UAC1BK,KAAK,EAAE,OAAO;UACdJ,MAAM,EAAE,MAAM;UACdC,YAAY,EAAE,KAAK;UACnBE,QAAQ,EAAE;QACZ,CAAE;QAAAV,QAAA,EACH;MAED;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;;AAED;AACA;AAAAsiB,IAAA,CA1UMD,UAAU;EAAA,QACGxkB,OAAO,EACPF,WAAW;AAAA;AAAAomB,IAAA,GAFxB1B,UAAU;AA4UhB,SAAS2B,GAAGA,CAAA,EAAG;EACb,oBACEhmB,OAAA,CAACJ,YAAY;IAAAgC,QAAA,gBACX5B,OAAA,CAACF,YAAY;MAAA+B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAChBhC,OAAA,CAACX,MAAM;MAAAuC,QAAA,eACL5B,OAAA;QAAKimB,SAAS,EAAC,KAAK;QAAArkB,QAAA,eAClB5B,OAAA,CAACV,MAAM;UAAAsC,QAAA,gBACL5B,OAAA,CAACT,KAAK;YAAC0F,IAAI,EAAC,QAAQ;YAACihB,OAAO,eAAElmB,OAAA,CAAC+D,KAAK;cAAAlC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAE;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eAC3ChC,OAAA,CAACT,KAAK;YAAC0F,IAAI,EAAC,gBAAgB;YAACihB,OAAO,eAAElmB,OAAA,CAACG,iBAAiB;cAAA0B,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAE;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eAG/DhC,OAAA,CAACT,KAAK;YACJ0F,IAAI,EAAC,YAAY;YACjBihB,OAAO,eACLlmB,OAAA,CAAC6jB,cAAc;cAAAjiB,QAAA,eACb5B,OAAA,CAACkG,SAAS;gBAAArE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC;UACjB;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACF,CAAC,eACFhC,OAAA,CAACT,KAAK;YACJ0F,IAAI,EAAC,iBAAiB;YACtBihB,OAAO,eACLlmB,OAAA,CAAC6jB,cAAc;cAAAjiB,QAAA,eACb5B,OAAA,CAACoG,aAAa;gBAAAvE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH;UACjB;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACF,CAAC,eACFhC,OAAA,CAACT,KAAK;YACJ0F,IAAI,EAAC,gCAAgC;YACrCihB,OAAO,eACLlmB,OAAA,CAAC6jB,cAAc;cAAAjiB,QAAA,eACb5B,OAAA,CAACqb,uBAAuB;gBAAAxZ,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACb;UACjB;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACF,CAAC,eACFhC,OAAA,CAACT,KAAK;YACJ0F,IAAI,EAAC,UAAU;YACfihB,OAAO,eACLlmB,OAAA,CAAC6jB,cAAc;cAAAjiB,QAAA,eACb5B,OAAA,CAAC0b,UAAU;gBAAA7Z,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACA;UACjB;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACF,CAAC,eACFhC,OAAA,CAACT,KAAK;YACJ0F,IAAI,EAAC,iBAAiB;YACtBihB,OAAO,eACLlmB,OAAA,CAAC6jB,cAAc;cAAAjiB,QAAA,eACb5B,OAAA,CAACkkB,UAAU;gBAAAtiB,QAAA,eACT5B,OAAA,CAACwb,oBAAoB;kBAAA3Z,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACd;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC;UACjB;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACF,CAAC,eACFhC,OAAA,CAACT,KAAK;YACJ0F,IAAI,EAAC,SAAS;YACdihB,OAAO,eACLlmB,OAAA,CAAC6jB,cAAc;cAAAjiB,QAAA,eACb5B,OAAA,CAACwd,SAAS;gBAAA3b,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC;UACjB;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACF,CAAC,eACFhC,OAAA,CAACT,KAAK;YACJ0F,IAAI,EAAC,WAAW;YAChBihB,OAAO,eACLlmB,OAAA,CAAC6jB,cAAc;cAAAjiB,QAAA,eACb5B,OAAA,CAACsjB,QAAQ;gBAAAzhB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACE;UACjB;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACF,CAAC,eAGFhC,OAAA,CAACT,KAAK;YACJ0F,IAAI,EAAC,QAAQ;YACbihB,OAAO,eACLlmB,OAAA,CAAC6jB,cAAc;cAAAjiB,QAAA,eACb5B,OAAA,CAACkkB,UAAU;gBAAAtiB,QAAA,eACT5B,OAAA,CAACkgB,QAAQ;kBAAAre,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACF;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC;UACjB;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACF,CAAC,eACFhC,OAAA,CAACT,KAAK;YACJ0F,IAAI,EAAC,OAAO;YACZihB,OAAO,eACLlmB,OAAA,CAAC6jB,cAAc;cAAAjiB,QAAA,eACb5B,OAAA,CAACkkB,UAAU;gBAAAtiB,QAAA,eACT5B,OAAA,CAACihB,SAAS;kBAAApf,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC;UACjB;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACF,CAAC,eACFhC,OAAA,CAACT,KAAK;YACJ0F,IAAI,EAAC,uBAAuB;YAC5BihB,OAAO,eACLlmB,OAAA,CAAC6jB,cAAc;cAAAjiB,QAAA,eACb5B,OAAA,CAACqkB,UAAU;gBAAAxiB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACA;UACjB;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACF,CAAC,eAEFhC,OAAA,CAACT,KAAK;YAAC0F,IAAI,EAAC,GAAG;YAACihB,OAAO,eAAElmB,OAAA,CAACR,QAAQ;cAACukB,EAAE,EAAC,YAAY;cAACC,OAAO;YAAA;cAAAniB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAE;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eACjEhC,OAAA,CAACT,KAAK;YAAC0F,IAAI,EAAC,GAAG;YAACihB,OAAO,eAAElmB,OAAA,CAACR,QAAQ;cAACukB,EAAE,EAAC,YAAY;cAACC,OAAO;YAAA;cAAAniB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAE;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC3D;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACA,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACG,CAAC;AAEnB;AAACmkB,IAAA,GA3GQH,GAAG;AA6GZ,eAAeA,GAAG;AAAC,IAAAliB,EAAA,EAAAa,GAAA,EAAAsB,GAAA,EAAAE,GAAA,EAAA2H,GAAA,EAAAqB,GAAA,EAAA8B,GAAA,EAAAgG,GAAA,EAAAI,GAAA,EAAAuB,GAAA,EAAAyB,GAAA,EAAAe,IAAA,EAAAG,IAAA,EAAAE,IAAA,EAAA8B,IAAA,EAAA0C,IAAA,EAAAe,IAAA,EAAA+B,IAAA,EAAAM,IAAA,EAAAK,IAAA,EAAAE,IAAA,EAAAK,IAAA,EAAAG,IAAA,EAAA2B,IAAA,EAAAI,IAAA;AAAAC,YAAA,CAAAtiB,EAAA;AAAAsiB,YAAA,CAAAzhB,GAAA;AAAAyhB,YAAA,CAAAngB,GAAA;AAAAmgB,YAAA,CAAAjgB,GAAA;AAAAigB,YAAA,CAAAtY,GAAA;AAAAsY,YAAA,CAAAjX,GAAA;AAAAiX,YAAA,CAAAnV,GAAA;AAAAmV,YAAA,CAAAnP,GAAA;AAAAmP,YAAA,CAAA/O,GAAA;AAAA+O,YAAA,CAAAxN,GAAA;AAAAwN,YAAA,CAAA/L,GAAA;AAAA+L,YAAA,CAAAhL,IAAA;AAAAgL,YAAA,CAAA7K,IAAA;AAAA6K,YAAA,CAAA3K,IAAA;AAAA2K,YAAA,CAAA7I,IAAA;AAAA6I,YAAA,CAAAnG,IAAA;AAAAmG,YAAA,CAAApF,IAAA;AAAAoF,YAAA,CAAArD,IAAA;AAAAqD,YAAA,CAAA/C,IAAA;AAAA+C,YAAA,CAAA1C,IAAA;AAAA0C,YAAA,CAAAxC,IAAA;AAAAwC,YAAA,CAAAnC,IAAA;AAAAmC,YAAA,CAAAhC,IAAA;AAAAgC,YAAA,CAAAL,IAAA;AAAAK,YAAA,CAAAD,IAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}