{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\simko\\\\Downloads\\\\ZpRopim4\\\\ZpetnaVazbaFinal\\\\client\\\\src\\\\App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$(),\n  _s5 = $RefreshSig$(),\n  _s6 = $RefreshSig$(),\n  _s8 = $RefreshSig$(),\n  _s9 = $RefreshSig$(),\n  _s0 = $RefreshSig$(),\n  _s1 = $RefreshSig$(),\n  _s10 = $RefreshSig$(),\n  _s11 = $RefreshSig$(),\n  _s12 = $RefreshSig$(),\n  _s13 = $RefreshSig$(),\n  _s14 = $RefreshSig$(),\n  _s15 = $RefreshSig$(),\n  _s16 = $RefreshSig$(),\n  _s17 = $RefreshSig$(),\n  _s18 = $RefreshSig$(),\n  _s19 = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate, useNavigate, useParams, useLocation } from 'react-router-dom';\nimport { AuthProvider, useAuth } from './contexts/AuthContext';\nimport GlobalStyles from './styles/GlobalStyles';\n\n// Email Confirmation Component\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst EmailConfirmation = () => {\n  _s();\n  const {\n    pendingConfirmation,\n    confirmEmail,\n    resendConfirmation,\n    cancelConfirmation,\n    isLoading\n  } = useAuth();\n  const navigate = useNavigate();\n  const [confirmationCode, setConfirmationCode] = React.useState('');\n  const [message, setMessage] = React.useState('');\n  React.useEffect(() => {\n    if (!pendingConfirmation) {\n      navigate('/login');\n    }\n  }, [pendingConfirmation, navigate]);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setMessage('');\n    try {\n      const result = await confirmEmail(confirmationCode);\n      if (result.success) {\n        navigate('/dashboard');\n      } else {\n        setMessage('Chyba: ' + result.error);\n      }\n    } catch (error) {\n      setMessage('Chyba: ' + error.message);\n    }\n  };\n  const handleResend = async () => {\n    setMessage('');\n    try {\n      const result = await resendConfirmation();\n      if (result.success) {\n        setMessage('Potvrzovací email byl znovu odeslán.');\n      } else {\n        setMessage('Chyba: ' + result.error);\n      }\n    } catch (error) {\n      setMessage('Chyba: ' + error.message);\n    }\n  };\n  const handleCancel = () => {\n    cancelConfirmation();\n    navigate('/login');\n  };\n  if (!pendingConfirmation) {\n    return null;\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '20px',\n      maxWidth: '400px',\n      margin: '100px auto'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Potvr\\u010Fte sv\\u016Fj email\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Na v\\xE1\\u0161 email \", /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: pendingConfirmation.email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 22\n      }, this), \" jsme v\\xE1m poslali potvrzovac\\xED k\\xF3d. Zadejte ho n\\xED\\u017Ee pro dokon\\u010Den\\xED p\\u0159ihl\\xE1\\u0161en\\xED.\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundColor: '#fff3cd',\n        border: '1px solid #ffeaa7',\n        borderRadius: '4px',\n        padding: '12px',\n        marginBottom: '15px',\n        fontSize: '14px',\n        color: '#856404'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"\\uD83D\\uDCA1 Tip:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), \" Pokud email nevid\\xEDte, zkontrolujte pros\\xEDm slo\\u017Eku \", /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"spam/nevy\\u017E\\xE1dan\\xE1 po\\u0161ta\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 83\n      }, this), \". Automatick\\xE9 emaily se n\\u011Bkdy dost\\xE1vaj\\xED do t\\xE9to slo\\u017Eky.\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), message && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '10px',\n        marginBottom: '10px',\n        backgroundColor: message.startsWith('Chyba') ? '#f8d7da' : '#d4edda',\n        color: message.startsWith('Chyba') ? '#721c24' : '#155724',\n        border: '1px solid ' + (message.startsWith('Chyba') ? '#f5c6cb' : '#c3e6cb'),\n        borderRadius: '4px'\n      },\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '15px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Potvrzovac\\xED k\\xF3d:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: confirmationCode,\n          onChange: e => setConfirmationCode(e.target.value.toUpperCase()),\n          required: true,\n          style: {\n            width: '100%',\n            padding: '8px',\n            textAlign: 'center',\n            fontSize: '18px',\n            letterSpacing: '2px'\n          },\n          placeholder: \"nap\\u0159. A1B2C3\",\n          maxLength: 6\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: isLoading || confirmationCode.length !== 6,\n        style: {\n          padding: '10px 20px',\n          backgroundColor: 'var(--color-green)',\n          color: 'white',\n          border: 'none',\n          width: '100%',\n          marginBottom: '10px',\n          opacity: isLoading || confirmationCode.length !== 6 ? 0.6 : 1\n        },\n        children: isLoading ? 'Ověřuji...' : 'Potvrdit'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: 'center',\n        marginTop: '15px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleResend,\n        style: {\n          background: 'none',\n          border: 'none',\n          color: '#007bff',\n          cursor: 'pointer',\n          textDecoration: 'underline',\n          marginRight: '15px'\n        },\n        children: \"Odeslat znovu\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleCancel,\n        style: {\n          background: 'none',\n          border: 'none',\n          color: '#6c757d',\n          cursor: 'pointer',\n          textDecoration: 'underline'\n        },\n        children: \"Zp\\u011Bt na p\\u0159ihl\\xE1\\u0161en\\xED\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: '20px',\n        fontSize: '14px',\n        color: '#6c757d'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Tip: Potvrzovac\\xED k\\xF3d je platn\\xFD 15 minut a obsahuje 6 znak\\u016F (p\\xEDsmena a \\u010D\\xEDsla).\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n};\n\n// Simple Login Component\n_s(EmailConfirmation, \"p8mQKPQO3GIxq5exReS8YVCqTvs=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c = EmailConfirmation;\nconst Login = () => {\n  _s2();\n  const {\n    login,\n    isAuthenticated,\n    pendingConfirmation\n  } = useAuth();\n  const navigate = useNavigate();\n\n  // Redirect if already logged in or pending confirmation\n  React.useEffect(() => {\n    if (isAuthenticated) {\n      navigate('/dashboard');\n    } else if (pendingConfirmation) {\n      navigate('/confirm-email');\n    }\n  }, [isAuthenticated, pendingConfirmation, navigate]);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const formData = new FormData(e.target);\n    try {\n      const result = await login({\n        username: formData.get('username'),\n        password: formData.get('password')\n      });\n      if (result.success) {\n        if (result.requiresConfirmation) {\n          navigate('/confirm-email');\n        } else {\n          navigate('/dashboard');\n        }\n      } else {\n        alert('Přihlášení se nezdařilo: ' + result.error);\n      }\n    } catch (error) {\n      alert('Přihlášení se nezdařilo: ' + error.message);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '20px',\n      maxWidth: '400px',\n      margin: '100px auto'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Zp\\u011Btn\\xE1 vazba - P\\u0159ihl\\xE1\\u0161en\\xED\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '10px',\n          marginTop: '20px'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"username\",\n          placeholder: \"U\\u017Eivatelsk\\xE9 jm\\xE9no\",\n          required: true,\n          style: {\n            width: '100%',\n            height: '45px',\n            padding: '8px',\n            borderRadius: '8px',\n            border: '1px solid #ced4da',\n            fontSize: '16px',\n            fontFamily: 'Roboto, sans-serif'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '10px'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          name: \"password\",\n          placeholder: \"Heslo\",\n          required: true,\n          style: {\n            width: '100%',\n            height: '45px',\n            padding: '8px',\n            borderRadius: '8px',\n            border: '1px solid #ced4da',\n            fontSize: '16px',\n            fontFamily: 'Roboto, sans-serif'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button-confirm\",\n        type: \"submit\",\n        style: {\n          height: '45px',\n          borderRadius: '0px'\n        },\n        children: \"P\\u0159ihl\\xE1sit se\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 200,\n    columnNumber: 5\n  }, this);\n};\n\n// Navigation Menu Component\n_s2(Login, \"dnskaTslvtqNqjOigtI+0d0Ppxs=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c2 = Login;\nconst Navigation = () => {\n  _s3();\n  const {\n    user,\n    logout\n  } = useAuth();\n  const navigate = useNavigate();\n  const location = useLocation();\n  const menuItems = [{\n    path: '/dashboard',\n    label: 'Přehled',\n    visibleTo: 'all'\n  }, {\n    path: '/survey-creator',\n    label: 'Tvorba dotazníku',\n    visibleTo: 'all'\n  }, {\n    path: '/surveys',\n    label: 'Seznam dotazníků',\n    visibleTo: 'all'\n  }, {\n    path: '/global-surveys',\n    label: 'Globální dotazníky',\n    visibleTo: 'admin'\n  }, {\n    path: '/tokens',\n    label: 'Tokenizace dotazníků',\n    visibleTo: 'all'\n  }, {\n    path: '/users',\n    label: 'Uživatelé',\n    visibleTo: 'admin'\n  }, {\n    path: '/logs',\n    label: 'Záznamy',\n    visibleTo: 'admin'\n  }, {\n    path: '/settings',\n    label: 'Nastavení',\n    visibleTo: 'all'\n  }];\n  const filteredItems = menuItems.filter(item => item.visibleTo === 'all' || item.visibleTo === 'admin' && (user === null || user === void 0 ? void 0 : user.role) === 'admin');\n  return /*#__PURE__*/_jsxDEV(\"nav\", {\n    style: {\n      backgroundColor: '#f8f9fa',\n      padding: '10px 20px',\n      borderBottom: '1px solid #dee2e6',\n      display: 'flex',\n      justifyContent: 'space-between',\n      alignItems: 'center'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        gap: '20px',\n        alignItems: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          margin: 0,\n          color: '#262626',\n          fontFamily: 'Roboto, sans-serif',\n          fontWeight: 400,\n          fontSize: '24px',\n          lineHeight: '150%',\n          letterSpacing: '3.12%'\n        },\n        children: \"Zp\\u011Btn\\xE1 vazba\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          gap: '15px'\n        },\n        children: filteredItems.map(item => {\n          const isActive = location.pathname === item.path;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            onClick: () => navigate(item.path),\n            style: {\n              background: 'none',\n              border: 'none',\n              borderBottom: isActive ? '3px solid var(--color-green)' : 'none',\n              cursor: 'pointer',\n              padding: '5px 10px 8px 10px',\n              textDecoration: 'none',\n              fontWeight: isActive ? '600' : '400',\n              transition: 'all 0.2s ease',\n              fontFamily: 'Roboto, sans-serif',\n              fontSize: '16px',\n              marginBottom: '-20px'\n            },\n            children: item.label\n          }, item.path, false, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        alignItems: 'center',\n        gap: '10px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\"P\\u0159ihl\\xE1\\u0161en jako: \", user === null || user === void 0 ? void 0 : user.username]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          padding: '4px 8px',\n          borderRadius: '8px',\n          backgroundColor: (user === null || user === void 0 ? void 0 : user.role) === 'admin' ? 'var(--color-tag-bg-red)' : 'var(--color-tag-bg-green)',\n          color: (user === null || user === void 0 ? void 0 : user.role) === 'admin' ? '#B32222' : '#368537',\n          fontSize: '12px'\n        },\n        children: user === null || user === void 0 ? void 0 : user.role\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: logout,\n        style: {\n          padding: '5px 10px',\n          backgroundColor: 'var(--color-red)',\n          color: 'white',\n          border: 'none',\n          borderRadius: '3px'\n        },\n        children: \"Odhl\\xE1sit se\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 267,\n    columnNumber: 5\n  }, this);\n};\n\n// Simple Dashboard Component\n_s3(Navigation, \"aDKCT+4ivmk45hKO1si+JmwN7dU=\", false, function () {\n  return [useAuth, useNavigate, useLocation];\n});\n_c3 = Navigation;\nconst Dashboard = () => {\n  _s4();\n  const {\n    user\n  } = useAuth();\n  const navigate = useNavigate();\n  const dashboardItems = [{\n    title: 'Tvorba dotazníku',\n    desc: 'Vytvářejte nové dotazníky',\n    icon: '📝',\n    path: '/survey-creator',\n    visibleTo: 'all'\n  }, {\n    title: 'Seznam dotazníků',\n    desc: 'Spravujte existující dotazníky',\n    icon: '📋',\n    path: '/surveys',\n    visibleTo: 'all'\n  }, {\n    title: 'Globální dotazníky',\n    desc: 'Správa globálních sekcí (pouze admin)',\n    icon: '🌐',\n    path: '/global-surveys',\n    visibleTo: 'admin'\n  }, {\n    title: 'Tokenizace dotazníků',\n    desc: 'Vytvářejte embedovatelné widgety',\n    icon: '🔗',\n    path: '/tokens',\n    visibleTo: 'all'\n  }, {\n    title: 'Uživatelé',\n    desc: 'Správa uživatelů (pouze admin)',\n    icon: '👥',\n    path: '/users',\n    visibleTo: 'admin'\n  }, {\n    title: 'Záznamy',\n    desc: 'Audit trail (pouze admin)',\n    icon: '📊',\n    path: '/logs',\n    visibleTo: 'admin'\n  }, {\n    title: 'Nastavení',\n    desc: 'Osobní nastavení',\n    icon: '⚙️',\n    path: '/settings',\n    visibleTo: 'all'\n  }];\n  const filteredItems = dashboardItems.filter(item => item.visibleTo === 'all' || item.visibleTo === 'admin' && (user === null || user === void 0 ? void 0 : user.role) === 'admin');\n  const handleCardClick = path => {\n    navigate(path);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"dashboard-title\",\n        children: \"V\\xEDtejte v syst\\xE9mu zp\\u011Btn\\xE9 vazby!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"dashboard-subtitle\",\n        children: \"V\\xE1\\u0161 kompletn\\xED n\\xE1stroj pro vytv\\xE1\\u0159en\\xED a spr\\xE1vu dotazn\\xEDk\\u016F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"dashboard-section-title\",\n        children: \"Z\\xE1kladn\\xED funkcionalita aplikace\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dashboard-grid\",\n        children: filteredItems.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dashboard-card\",\n          onClick: () => handleCardClick(item.path),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard-card-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"dashboard-card-icon\",\n              children: item.icon\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 381,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n              className: \"dashboard-card-title\",\n              children: item.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 382,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 380,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"dashboard-card-description\",\n            children: item.desc\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 15\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 358,\n    columnNumber: 5\n  }, this);\n};\n\n// Placeholder components for menu items\n_s4(Dashboard, \"vxkm3J/bc5vheet9C2DYfcUVRKo=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c4 = Dashboard;\nconst SurveyCreator = ({\n  editingSurveyId = null,\n  globalMode = false\n}) => {\n  _s5();\n  const {\n    user\n  } = useAuth();\n  const navigate = useNavigate();\n  const [currentStep, setCurrentStep] = React.useState(globalMode ? 2 : 1);\n  const [isEditMode, setIsEditMode] = React.useState(!!editingSurveyId);\n  const [originalSurveyId, setOriginalSurveyId] = React.useState(editingSurveyId);\n  const [loadingSurvey, setLoadingSurvey] = React.useState(!!editingSurveyId);\n\n  // Initialize survey structure based on mode\n  const getInitialSurvey = () => {\n    if (globalMode) {\n      return {\n        title: 'Globální sekce',\n        description: 'Úprava globálních sekcí sdílených napříč všemi průzkumy',\n        cards: [{\n          id: 2,\n          title: 'Úvodní sekce',\n          description: 'Systémová úvodní část (pouze admin)',\n          isAdminOnly: true,\n          isEditable: true,\n          steps: []\n        }, {\n          id: 4,\n          title: 'Závěrečná sekce',\n          description: 'Systémová závěrečná část (pouze admin)',\n          isAdminOnly: true,\n          isEditable: true,\n          steps: []\n        }]\n      };\n    } else {\n      return {\n        title: '',\n        description: '',\n        cards: [{\n          id: 0,\n          title: 'Floating Widget',\n          description: 'Floating feedback widget',\n          isAdminOnly: false,\n          isEditable: false,\n          isSystem: true,\n          steps: [{\n            id: 'floating-widget',\n            type: 'floating-widget',\n            question: 'Floating feedback widget',\n            isSystem: true,\n            uneditable: true\n          }]\n        }, {\n          id: 1,\n          title: 'Feedback Modal',\n          description: 'Feedback options',\n          isAdminOnly: false,\n          isEditable: false,\n          isSystem: true,\n          steps: [{\n            id: 'feedback-modal',\n            type: 'feedback-modal',\n            question: 'Feedback options',\n            isSystem: true,\n            uneditable: true\n          }]\n        }, {\n          id: 2,\n          title: 'Úvodní sekce',\n          description: 'Systémová úvodní část (pouze admin)',\n          isAdminOnly: true,\n          isEditable: false,\n          steps: []\n        }, {\n          id: 3,\n          title: 'Hlavní obsah',\n          description: 'Editovatelná část pro uživatele',\n          isAdminOnly: false,\n          isEditable: true,\n          steps: []\n        }, {\n          id: 4,\n          title: 'Závěrečná sekce',\n          description: 'Systémová závěrečná část (pouze admin)',\n          isAdminOnly: true,\n          isEditable: false,\n          steps: []\n        }]\n      };\n    }\n  };\n  const [survey, setSurvey] = React.useState(getInitialSurvey());\n\n  // Load existing survey for editing or global sections\n  React.useEffect(() => {\n    if (globalMode) {\n      loadGlobalSections();\n    } else if (editingSurveyId) {\n      loadSurveyForEditing(editingSurveyId);\n    } else {\n      loadGlobalSectionsForUserSurvey();\n    }\n  }, [editingSurveyId, globalMode]);\n  const loadGlobalSections = async () => {\n    try {\n      setLoadingSurvey(true);\n      const response = await fetch('/api/global-surveys/sections', {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        setSurvey(prev => ({\n          ...prev,\n          cards: prev.cards.map(card => {\n            if (card.id === 2) {\n              // Úvodní sekce\n              return {\n                ...card,\n                steps: data.introSection || []\n              };\n            } else if (card.id === 4) {\n              // Závěrečná sekce\n              return {\n                ...card,\n                steps: data.outroSection || []\n              };\n            }\n            return card;\n          })\n        }));\n      }\n    } catch (error) {\n      console.error('Error loading global sections:', error);\n    } finally {\n      setLoadingSurvey(false);\n    }\n  };\n  const loadGlobalSectionsForUserSurvey = async () => {\n    try {\n      const response = await fetch('/api/global-surveys/sections', {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n\n        // Update the intro and outro sections with global content\n        setSurvey(prev => ({\n          ...prev,\n          cards: prev.cards.map(card => {\n            if (card.id === 2) {\n              // Úvodní sekce\n              return {\n                ...card,\n                steps: data.introSection || []\n              };\n            } else if (card.id === 4) {\n              // Závěrečná sekce\n              return {\n                ...card,\n                steps: data.outroSection || []\n              };\n            }\n            return card;\n          })\n        }));\n      }\n    } catch (error) {\n      console.error('Error loading global sections:', error);\n    }\n  };\n  const loadSurveyForEditing = async surveyId => {\n    try {\n      setLoadingSurvey(true);\n      const response = await fetch(`/api/surveys/${surveyId}`, {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      if (response.ok) {\n        const surveyData = await response.json();\n        setSurvey({\n          title: surveyData.title,\n          description: surveyData.description,\n          cards: surveyData.config.cards || survey.cards // Use existing cards as fallback\n        });\n        setIsEditMode(true);\n        setOriginalSurveyId(surveyId);\n      } else {\n        throw new Error('Chyba při načítání dotazníku');\n      }\n    } catch (error) {\n      console.error('Error loading survey:', error);\n      alert('Chyba při načítání dotazníku: ' + error.message);\n      navigate('/surveys');\n    } finally {\n      setLoadingSurvey(false);\n    }\n  };\n  const [activeCardIndex, setActiveCardIndex] = React.useState(globalMode ? 0 : 2); // Default to first global card in global mode\n\n  const [editingStep, setEditingStep] = React.useState(null);\n  const [showStepEditor, setShowStepEditor] = React.useState(false);\n  const [draggedStep, setDraggedStep] = React.useState(null);\n  const [dragOverIndex, setDragOverIndex] = React.useState(null);\n  const saveSurvey = async () => {\n    try {\n      if (globalMode) {\n        // Save global sections\n        const introCard = survey.cards.find(card => card.id === 2);\n        const outroCard = survey.cards.find(card => card.id === 4);\n        const response = await fetch('/api/global-surveys/sections', {\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${localStorage.getItem('token')}`\n          },\n          body: JSON.stringify({\n            introSection: (introCard === null || introCard === void 0 ? void 0 : introCard.steps) || [],\n            outroSection: (outroCard === null || outroCard === void 0 ? void 0 : outroCard.steps) || []\n          })\n        });\n        if (response.ok) {\n          alert('Globální sekce byly úspěšně uloženy!');\n        } else {\n          throw new Error('Chyba při ukládání globálních sekcí');\n        }\n      } else {\n        // Regular survey save\n        const url = isEditMode ? `/api/surveys/${originalSurveyId}` : '/api/surveys';\n        const method = isEditMode ? 'PUT' : 'POST';\n        const response = await fetch(url, {\n          method: method,\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${localStorage.getItem('token')}`\n          },\n          body: JSON.stringify({\n            title: survey.title,\n            description: survey.description,\n            config: {\n              cards: survey.cards,\n              steps: survey.cards.flatMap(card => card.steps || [])\n            }\n          })\n        });\n        if (response.ok) {\n          if (isEditMode) {\n            alert('Průzkum byl úspěšně aktualizován!');\n            navigate('/surveys');\n          } else {\n            alert('Průzkum byl úspěšně uložen!');\n            // Reset form for new survey\n            setSurvey(getInitialSurvey());\n            setCurrentStep(1);\n          }\n        } else {\n          alert(isEditMode ? 'Chyba při aktualizaci průzkumu' : 'Chyba při ukládání průzkumu');\n        }\n      }\n    } catch (error) {\n      console.error('Error saving survey:', error);\n      alert(globalMode ? 'Chyba při ukládání globálních sekcí' : isEditMode ? 'Chyba při aktualizaci průzkumu' : 'Chyba při ukládání průzkumu');\n    }\n  };\n  const addStep = stepData => {\n    const newStep = {\n      id: Date.now(),\n      ...stepData\n    };\n    setSurvey(prev => ({\n      ...prev,\n      cards: prev.cards.map((card, index) => index === activeCardIndex ? {\n        ...card,\n        steps: [...card.steps, newStep]\n      } : card)\n    }));\n    setShowStepEditor(false);\n    setEditingStep(null);\n  };\n  const updateStep = stepData => {\n    setSurvey(prev => ({\n      ...prev,\n      cards: prev.cards.map((card, index) => index === activeCardIndex ? {\n        ...card,\n        steps: card.steps.map(step => step.id === editingStep.id ? {\n          ...editingStep,\n          ...stepData\n        } : step)\n      } : card)\n    }));\n    setShowStepEditor(false);\n    setEditingStep(null);\n  };\n  const deleteStep = (stepId, cardIndex) => {\n    if (window.confirm('Opravdu chcete smazat tento blok?')) {\n      setSurvey(prev => ({\n        ...prev,\n        cards: prev.cards.map((card, index) => index === cardIndex ? {\n          ...card,\n          steps: card.steps.filter(step => step.id !== stepId)\n        } : card)\n      }));\n    }\n  };\n  const moveStep = (stepId, direction) => {\n    const activeCard = survey.cards[activeCardIndex];\n    if (!activeCard) return;\n    const steps = [...activeCard.steps];\n    const currentIndex = steps.findIndex(step => step.id === stepId);\n    const newIndex = direction === 'up' ? currentIndex - 1 : currentIndex + 1;\n    if (newIndex >= 0 && newIndex < steps.length) {\n      [steps[currentIndex], steps[newIndex]] = [steps[newIndex], steps[currentIndex]];\n      setSurvey(prev => ({\n        ...prev,\n        cards: prev.cards.map((card, index) => index === activeCardIndex ? {\n          ...card,\n          steps\n        } : card)\n      }));\n    }\n  };\n\n  // Drag and Drop handlers\n  const handleDragStart = (e, index) => {\n    setDraggedStep(index);\n    e.dataTransfer.effectAllowed = 'move';\n    e.dataTransfer.setData('text/html', e.target.parentNode);\n    e.dataTransfer.setDragImage(e.target, 0, 0);\n  };\n  const handleDragOver = (e, index) => {\n    e.preventDefault();\n    e.dataTransfer.dropEffect = 'move';\n    setDragOverIndex(index);\n  };\n  const handleDragLeave = e => {\n    // Only clear drag over if we're actually leaving the component\n    if (!e.currentTarget.contains(e.relatedTarget)) {\n      setDragOverIndex(null);\n    }\n  };\n  const handleDrop = (e, dropIndex) => {\n    e.preventDefault();\n    if (draggedStep === null || draggedStep === dropIndex) {\n      setDraggedStep(null);\n      setDragOverIndex(null);\n      return;\n    }\n    const activeCard = survey.cards[activeCardIndex];\n    if (!activeCard) {\n      setDraggedStep(null);\n      setDragOverIndex(null);\n      return;\n    }\n    const newSteps = [...activeCard.steps];\n    const draggedItem = newSteps[draggedStep];\n\n    // Remove dragged item\n    newSteps.splice(draggedStep, 1);\n\n    // Insert at new position\n    const actualDropIndex = draggedStep < dropIndex ? dropIndex - 1 : dropIndex;\n    newSteps.splice(actualDropIndex, 0, draggedItem);\n    setSurvey(prev => ({\n      ...prev,\n      cards: prev.cards.map((card, index) => index === activeCardIndex ? {\n        ...card,\n        steps: newSteps\n      } : card)\n    }));\n    setDraggedStep(null);\n    setDragOverIndex(null);\n  };\n  const handleDragEnd = () => {\n    setDraggedStep(null);\n    setDragOverIndex(null);\n  };\n  if (loadingSurvey) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '20px',\n        maxWidth: '1200px',\n        margin: '0 auto',\n        textAlign: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Tvorba dotazn\\xEDku\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 805,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '50px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: '18px',\n            marginBottom: '20px'\n          },\n          children: \"Na\\u010D\\xEDt\\xE1n\\xED dotazn\\xEDku...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 807,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: '14px',\n            color: '#6c757d'\n          },\n          children: \"Pros\\xEDm po\\u010Dkejte, ne\\u017E se na\\u010Dtou data dotazn\\xEDku\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 808,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 806,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 804,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '20px',\n      maxWidth: '1200px',\n      margin: '0 auto'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: globalMode ? 'Správa globálních sekcí' : isEditMode ? 'Editace dotazníku' : 'Tvorba dotazníku'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 816,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: '#6c757d',\n        marginBottom: '30px'\n      },\n      children: globalMode ? 'Upravte globální sekce \"Úvodní sekce\" a \"Závěrečná sekce\" sdílené napříč všemi průzkumy' : isEditMode ? 'Upravujte existující průzkum a změny budou uloženy jako nová verze' : 'Vytvořte vlastní průzkum pomocí různých stavebních bloků'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 817,\n      columnNumber: 7\n    }, this), isEditMode && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundColor: '#e3f2fd',\n        border: '1px solid #2196f3',\n        borderRadius: '8px',\n        padding: '16px',\n        marginBottom: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          marginBottom: '8px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            fontSize: '20px',\n            marginRight: '8px'\n          },\n          children: \"\\u270F\\uFE0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 833,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n          style: {\n            color: '#1976d2'\n          },\n          children: \"EDITA\\u010CN\\xCD RE\\u017DIM\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 834,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 832,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          margin: '0',\n          color: '#1976d2',\n          fontSize: '14px'\n        },\n        children: [\"Upravujete dotazn\\xEDk: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: [\"\\\"\", survey.title, \"\\\"\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 837,\n          columnNumber: 34\n        }, this), \". Po ulo\\u017Een\\xED bude vytvo\\u0159ena nov\\xE1 aktualizovan\\xE1 verze pr\\u016Fzkumu.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 836,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 825,\n      columnNumber: 9\n    }, this), currentStep === 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundColor: '#f8f9fa',\n        padding: '30px',\n        borderRadius: '8px',\n        marginBottom: '20px',\n        border: '1px solid #dee2e6'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Krok 1: Z\\xE1kladn\\xED informace\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 852,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '20px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            display: 'block',\n            marginBottom: '8px',\n            fontWeight: 'bold'\n          },\n          children: \"N\\xE1zev pr\\u016Fzkumu *\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 855,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: survey.title,\n          onChange: e => setSurvey(prev => ({\n            ...prev,\n            title: e.target.value\n          })),\n          style: {\n            width: '100%',\n            padding: '12px',\n            border: '1px solid #ced4da',\n            borderRadius: '4px',\n            fontSize: '16px'\n          },\n          placeholder: \"Zadejte n\\xE1zev va\\u0161eho pr\\u016Fzkumu\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 858,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 854,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '30px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            display: 'block',\n            marginBottom: '8px',\n            fontWeight: 'bold'\n          },\n          children: \"Popis pr\\u016Fzkumu\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 874,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: survey.description,\n          onChange: e => setSurvey(prev => ({\n            ...prev,\n            description: e.target.value\n          })),\n          style: {\n            width: '100%',\n            padding: '12px',\n            border: '1px solid #ced4da',\n            borderRadius: '4px',\n            fontSize: '16px',\n            minHeight: '100px',\n            resize: 'vertical'\n          },\n          placeholder: \"Popi\\u0161te \\xFA\\u010Del a obsah va\\u0161eho pr\\u016Fzkumu\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 877,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 873,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'space-between'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 894,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setCurrentStep(2),\n          disabled: !survey.title,\n          className: \"button-confirm\",\n          style: {\n            position: 'relative',\n            backgroundColor: survey.title ? 'var(--color-green)' : '#6c757d',\n            cursor: survey.title ? 'pointer' : 'not-allowed'\n          },\n          children: \"Dal\\u0161\\xED krok \\u2192\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 895,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 893,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 845,\n      columnNumber: 9\n    }, this), currentStep === 2 && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          marginBottom: '10px'\n        },\n        children: \"Krok 2: Stavba pr\\u016Fzkumu\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 914,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n        style: {\n          color: '#6c757d',\n          display: 'block',\n          marginBottom: '20px'\n        },\n        children: \"\\uD83D\\uDCA1 Tip: P\\u0159et\\xE1hn\\u011Bte stavebn\\xED bloky z nab\\xEDdky vlevo do oblasti pr\\u016Fzkumu vpravo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 915,\n        columnNumber: 11\n      }, this), globalMode ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          backgroundColor: '#fff3cd',\n          border: '1px solid #ffeaa7',\n          borderRadius: '8px',\n          padding: '16px',\n          marginBottom: '20px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            marginBottom: '8px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              fontSize: '20px',\n              marginRight: '8px'\n            },\n            children: \"\\uD83C\\uDF10\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 929,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n            style: {\n              color: '#856404'\n            },\n            children: \"SPR\\xC1VA GLOB\\xC1LN\\xCDCH SEKC\\xCD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 930,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 928,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            margin: '0',\n            color: '#856404',\n            fontSize: '14px'\n          },\n          children: [\"Upravujete \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"glob\\xE1ln\\xED sekce\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 933,\n            columnNumber: 28\n          }, this), \" sd\\xEDlen\\xE9 nap\\u0159\\xED\\u010D v\\u0161emi pr\\u016Fzkumy. Zm\\u011Bny zde ovlivn\\xED \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"v\\u0161echny existuj\\xEDc\\xED dotazn\\xEDky\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 934,\n            columnNumber: 35\n          }, this), \" v syst\\xE9mu. Pouze jedna verze glob\\xE1ln\\xEDch sekc\\xED existuje a je automaticky zahrnuta do v\\u0161ech surveys.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 932,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 921,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          backgroundColor: '#e3f2fd',\n          border: '1px solid #2196f3',\n          borderRadius: '8px',\n          padding: '16px',\n          marginBottom: '20px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            marginBottom: '8px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              fontSize: '20px',\n              marginRight: '8px'\n            },\n            children: \"\\uD83C\\uDF10\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 947,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n            style: {\n              color: '#1976d2'\n            },\n            children: \"GLOB\\xC1LN\\xCD SEKCE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 948,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 946,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            margin: '0',\n            color: '#1976d2',\n            fontSize: '14px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"\\\"\\xDAvodn\\xED sekce\\\"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 951,\n            columnNumber: 17\n          }, this), \" a \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"\\\"Z\\xE1v\\u011Bre\\u010Dn\\xE1 sekce\\\"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 951,\n            columnNumber: 51\n          }, this), \" jsou \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"glob\\xE1ln\\xED nap\\u0159\\xED\\u010D v\\u0161emi pr\\u016Fzkumy\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 951,\n            columnNumber: 91\n          }, this), \".\", (user === null || user === void 0 ? void 0 : user.role) === 'admin' ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [\"Pro spr\\xE1vu t\\u011Bchto sekc\\xED doporu\\u010Dujeme pou\\u017E\\xEDt dedikovanou str\\xE1nku\", ' ', /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"/global-surveys\",\n              style: {\n                color: '#1976d2',\n                fontWeight: 'bold',\n                textDecoration: 'underline'\n              },\n              onClick: e => {\n                e.preventDefault();\n                navigate('/global-surveys');\n              },\n              children: \"Global Surveys\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 955,\n              columnNumber: 21\n            }, this), ' ', \"kde m\\xE1te lep\\u0161\\xED p\\u0159ehled a kontrolu nad glob\\xE1ln\\xEDmi sekcemi.\"]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: \"Tyto sekce spravuje administr\\xE1tor a jsou automaticky zahrnuty do v\\u0161ech dotazn\\xEDk\\u016F.\"\n          }, void 0, false)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 950,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 939,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          gap: '20px',\n          minHeight: '500px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: '300px',\n            backgroundColor: '#f8f9fa',\n            border: '1px solid #dee2e6',\n            borderRadius: '8px',\n            padding: '20px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            style: {\n              margin: '0 0 15px 0',\n              color: '#495057'\n            },\n            children: \"\\uD83D\\uDCE6 Stavebn\\xED bloky\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 985,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(BuildingBlocksPalette, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 988,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 978,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            flex: 1,\n            backgroundColor: 'white',\n            border: '2px solid #dee2e6',\n            borderRadius: '8px',\n            minHeight: '500px',\n            position: 'relative'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              padding: '20px',\n              borderBottom: '1px solid #dee2e6',\n              backgroundColor: '#f8f9fa'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              style: {\n                margin: 0,\n                color: '#495057'\n              },\n              children: \"\\uD83C\\uDFAF Oblast pr\\u016Fzkumu\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1005,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              style: {\n                color: '#6c757d'\n              },\n              children: \"P\\u0159et\\xE1hn\\u011Bte bloky sem a uspo\\u0159\\xE1dejte je v po\\u017Eadovan\\xE9m po\\u0159ad\\xED\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1008,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1000,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(SurveyCardManager, {\n            survey: survey,\n            activeCardIndex: activeCardIndex,\n            onActiveCardChange: setActiveCardIndex,\n            onSurveyChange: setSurvey,\n            onEditStep: step => {\n              setEditingStep(step);\n              setShowStepEditor(true);\n            },\n            onDeleteStep: deleteStep,\n            user: user,\n            globalMode: globalMode\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1013,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 992,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 976,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: globalMode ? 'center' : 'space-between',\n          marginTop: '30px',\n          padding: '20px 0',\n          borderTop: '1px solid #dee2e6'\n        },\n        children: [!globalMode && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setCurrentStep(1),\n          style: {\n            position: 'relative',\n            padding: '12px 24px',\n            backgroundColor: '#6c757d',\n            color: 'white',\n            border: 'none',\n            borderRadius: '4px',\n            fontSize: '16px',\n            cursor: 'pointer'\n          },\n          children: \"\\u2190 Zp\\u011Bt\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1038,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: saveSurvey,\n          style: {\n            position: 'relative',\n            padding: '12px 24px',\n            backgroundColor: 'var(--color-green)',\n            color: 'white',\n            border: 'none',\n            borderRadius: '4px',\n            fontSize: '16px',\n            cursor: 'pointer'\n          },\n          children: \"\\uD83D\\uDCBE Ulo\\u017Eit glob\\xE1ln\\xED sekce\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1054,\n          columnNumber: 15\n        }, this), \") : (\", /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setCurrentStep(3),\n          disabled: survey.cards.every(card => card.steps.length === 0),\n          style: {\n            position: 'relative',\n            padding: '12px 24px',\n            backgroundColor: survey.cards.some(card => card.steps.length > 0) ? 'rgb(0, 123, 255)' : '#6c757d',\n            color: 'white',\n            border: 'none',\n            borderRadius: '4px',\n            fontSize: '16px',\n            cursor: survey.cards.some(card => card.steps.length > 0) ? 'pointer' : 'not-allowed'\n          },\n          children: \"N\\xE1hled \\u2192\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1070,\n          columnNumber: 15\n        }, this), \")}\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1030,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 913,\n      columnNumber: 9\n    }, this), currentStep === 3 && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Krok 3: N\\xE1hled a ulo\\u017Een\\xED\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1094,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'center',\n          marginBottom: '30px'\n        },\n        children: /*#__PURE__*/_jsxDEV(SurveyPreview, {\n          survey: survey,\n          onClose: () => setCurrentStep(2)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1097,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1096,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'space-between',\n          marginTop: '30px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setCurrentStep(2),\n          style: {\n            position: 'relative',\n            padding: '12px 24px',\n            backgroundColor: '#6c757d',\n            color: 'white',\n            border: 'none',\n            borderRadius: '4px',\n            fontSize: '16px',\n            cursor: 'pointer'\n          },\n          children: \"\\u2190 Upravit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1104,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: saveSurvey,\n          style: {\n            position: 'relative',\n            padding: '12px 24px',\n            backgroundColor: 'var(--color-green)',\n            color: 'white',\n            border: 'none',\n            borderRadius: '4px',\n            fontSize: '16px',\n            cursor: 'pointer'\n          },\n          children: isEditMode ? 'Aktualizovat novou verzi' : 'Uložit průzkum'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1119,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1103,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1093,\n      columnNumber: 9\n    }, this), showStepEditor && /*#__PURE__*/_jsxDEV(SurveyStepEditor, {\n      step: editingStep,\n      onSave: editingStep ? updateStep : addStep,\n      onCancel: () => {\n        setShowStepEditor(false);\n        setEditingStep(null);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1140,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 815,\n    columnNumber: 5\n  }, this);\n};\n\n// Survey Builder Supporting Components\n_s5(SurveyCreator, \"kk6Q0B6JK8p7j5Iadj43CkfxxI8=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c5 = SurveyCreator;\nconst SurveyStepCard = ({\n  step,\n  index,\n  onEdit,\n  onDelete,\n  onDragStart,\n  isDragging,\n  isInCanvas = false,\n  canEdit = true\n}) => {\n  const getStepIcon = type => {\n    switch (type) {\n      case 'smiley':\n        return '😊';\n      case 'single-choice':\n        return '📝';\n      case 'dropdown-multiselect':\n        return '☑️';\n      case 'text':\n        return '📄';\n      case 'section-header':\n        return '📋';\n      case 'floating-widget':\n        return '🔧';\n      case 'feedback-modal':\n        return '💬';\n      default:\n        return '❓';\n    }\n  };\n  const getStepTypeName = type => {\n    switch (type) {\n      case 'smiley':\n        return '5-bodové hodnocení smajlíky';\n      case 'single-choice':\n        return 'Jednoduché výběr';\n      case 'dropdown-multiselect':\n        return 'Vícenásobný výběr (dropdown)';\n      case 'text':\n        return 'Textové pole';\n      case 'section-header':\n        return 'Nadpis sekce';\n      case 'floating-widget':\n        return 'Plovoucí widget';\n      case 'feedback-modal':\n        return 'Feedback modal';\n      default:\n        return 'Neznámý typ';\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    draggable: isInCanvas && canEdit,\n    onDragStart: isInCanvas && canEdit ? e => onDragStart(e, index) : undefined,\n    style: {\n      border: step.type === 'section-header' ? '2px solid #ffeaa7' : '2px solid #dee2e6',\n      borderRadius: '8px',\n      padding: step.type === 'section-header' ? '15px 20px' : '20px',\n      marginBottom: '15px',\n      backgroundColor: isDragging ? '#f0f7ff' : step.type === 'section-header' ? '#fff8e1' : 'white',\n      boxShadow: isDragging ? '0 6px 12px rgba(0,0,0,0.15)' : '0 2px 4px rgba(0,0,0,0.1)',\n      opacity: isDragging ? 0.8 : canEdit ? 1 : 0.7,\n      cursor: isInCanvas && canEdit ? 'move' : 'default',\n      transition: 'all 0.2s ease',\n      transform: isDragging ? 'rotate(2deg) scale(1.02)' : 'rotate(0deg) scale(1)'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center'\n      },\n      children: [isInCanvas && canEdit && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          marginRight: '15px'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            cursor: isDragging ? 'grabbing' : 'grab',\n            fontSize: '20px',\n            color: isDragging ? '#007bff' : '#6c757d',\n            marginRight: '10px',\n            userSelect: 'none',\n            padding: '4px',\n            borderRadius: '4px',\n            backgroundColor: isDragging ? '#e3f2fd' : 'transparent',\n            transition: 'all 0.2s ease'\n          },\n          title: \"P\\u0159et\\xE1hnout pro zm\\u011Bnu po\\u0159ad\\xED\",\n          children: \"\\u22EE\\u22EE\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1209,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1208,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          flex: 1\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            marginBottom: '10px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              fontSize: '20px',\n              marginRight: '10px'\n            },\n            children: getStepIcon(step.type)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1229,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: step.type === 'section-header' ? /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                style: {\n                  margin: '0',\n                  color: '#f57c00',\n                  fontSize: '18px',\n                  fontWeight: 'bold'\n                },\n                children: [\"\\uD83D\\uDCCB \", step.question || 'Název sekce']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1235,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                style: {\n                  color: '#e65100',\n                  fontFamily: 'Roboto, sans-serif',\n                  fontWeight: 400,\n                  fontSize: '14px',\n                  lineHeight: '150%',\n                  letterSpacing: '1.25%'\n                },\n                children: getStepTypeName(step.type)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1243,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1234,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                style: {\n                  margin: '0',\n                  color: '#262626',\n                  fontFamily: 'Roboto, sans-serif',\n                  fontWeight: 400,\n                  fontSize: '18px',\n                  lineHeight: '150%',\n                  letterSpacing: '1.25%'\n                },\n                children: [\"Blok \", index + 1, \": \", step.question || 'Bez názvu']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1256,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                style: {\n                  color: '#6c757d',\n                  fontFamily: 'Roboto, sans-serif',\n                  fontWeight: 400,\n                  fontSize: '14px',\n                  lineHeight: '150%',\n                  letterSpacing: '1.25%'\n                },\n                children: getStepTypeName(step.type)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1267,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1255,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1232,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1228,\n          columnNumber: 11\n        }, this), step.options && step.options.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: '10px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"small\", {\n            style: {\n              color: '#6c757d',\n              fontFamily: 'Roboto, sans-serif',\n              fontWeight: 400,\n              fontSize: '14px',\n              lineHeight: '150%',\n              letterSpacing: '1.25%'\n            },\n            children: \"Mo\\u017Enosti:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1284,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: '5px'\n            },\n            children: [step.options.slice(0, 3).map((option, i) => /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                display: 'inline-block',\n                backgroundColor: '#e9ecef',\n                padding: '2px 6px',\n                borderRadius: '3px',\n                fontSize: '12px',\n                marginRight: '5px'\n              },\n              children: option\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1294,\n              columnNumber: 19\n            }, this)), step.options.length > 3 && /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                color: '#6c757d',\n                fontSize: '12px'\n              },\n              children: [\"... a \", step.options.length - 3, \" dal\\u0161\\xEDch\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1306,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1292,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1283,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1227,\n        columnNumber: 9\n      }, this), canEdit && !step.isSystem && !step.uneditable && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          gap: '8px',\n          alignItems: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onEdit,\n          style: {\n            padding: '6px 12px',\n            backgroundColor: '#007bff',\n            color: 'white',\n            border: 'none',\n            borderRadius: '4px',\n            fontSize: '12px'\n          },\n          children: \"\\u270F\\uFE0F Upravit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1317,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onDelete,\n          style: {\n            padding: '6px 12px',\n            backgroundColor: 'var(--color-red)',\n            color: 'white',\n            border: 'none',\n            borderRadius: '4px',\n            fontSize: '12px'\n          },\n          children: \"\\uD83D\\uDDD1\\uFE0F Smazat\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1330,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1316,\n        columnNumber: 11\n      }, this), (!canEdit || step.isSystem || step.uneditable) && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          color: 'var(--color-red)',\n          fontSize: '16px',\n          flexDirection: 'column',\n          gap: '4px'\n        },\n        children: step.isSystem || step.uneditable ? /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            backgroundColor: 'var(--color-red)',\n            color: 'white',\n            borderRadius: '4px',\n            padding: '2px 6px',\n            fontSize: '10px',\n            fontWeight: 'bold'\n          },\n          children: \"SYSTEM\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1355,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"\\uD83D\\uDD12\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1366,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1346,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1206,\n      columnNumber: 15\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1191,\n    columnNumber: 5\n  }, this);\n};\n_c6 = SurveyStepCard;\nconst SurveyStepEditor = ({\n  step,\n  onSave,\n  onCancel\n}) => {\n  _s6();\n  const [formData, setFormData] = React.useState({\n    type: (step === null || step === void 0 ? void 0 : step.type) || 'smiley',\n    question: (step === null || step === void 0 ? void 0 : step.question) || '',\n    options: (step === null || step === void 0 ? void 0 : step.options) || [],\n    required: (step === null || step === void 0 ? void 0 : step.required) || true,\n    conditionalTriggers: (step === null || step === void 0 ? void 0 : step.conditionalTriggers) || [],\n    hasTextbox: (step === null || step === void 0 ? void 0 : step.hasTextbox) || false,\n    textboxPlaceholder: (step === null || step === void 0 ? void 0 : step.textboxPlaceholder) || ''\n  });\n  const [newOption, setNewOption] = React.useState('');\n  const addOption = () => {\n    if (newOption.trim()) {\n      setFormData(prev => ({\n        ...prev,\n        options: [...prev.options, newOption.trim()]\n      }));\n      setNewOption('');\n    }\n  };\n  const removeOption = index => {\n    setFormData(prev => ({\n      ...prev,\n      options: prev.options.filter((_, i) => i !== index)\n    }));\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (!formData.question.trim()) {\n      alert('Zadejte prosím otázku');\n      return;\n    }\n    if ((formData.type === 'single-choice' || formData.type === 'multi-select' || formData.type === 'rating-scale') && formData.type !== 'section-header' && formData.options.length === 0) {\n      alert('Přidejte prosím alespoň jednu možnost');\n      return;\n    }\n    onSave(formData);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      backgroundColor: 'rgba(0,0,0,0.5)',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      zIndex: 1000\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundColor: 'white',\n        borderRadius: '8px',\n        padding: '30px',\n        maxWidth: '600px',\n        width: '90%',\n        maxHeight: '80vh',\n        overflow: 'auto'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: step ? 'Upravit blok' : 'Přidat nový blok'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1440,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '20px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'block',\n              marginBottom: '8px',\n              fontWeight: 'bold'\n            },\n            children: \"Typ ot\\xE1zky *\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1444,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: formData.type,\n            onChange: e => setFormData(prev => ({\n              ...prev,\n              type: e.target.value\n            })),\n            style: {\n              width: '100%',\n              padding: '10px',\n              border: '1px solid #ced4da',\n              borderRadius: '4px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"smiley\",\n              children: \"5-bodov\\xE9 hodnocen\\xED smajl\\xEDky\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1457,\n              columnNumber: 16\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"single-choice\",\n              children: \"Jednoduch\\xE9 v\\xFDb\\u011Br\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1458,\n              columnNumber: 16\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"dropdown-multiselect\",\n              children: \"V\\xEDcen\\xE1sobn\\xFD v\\xFDb\\u011Br (dropdown)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1459,\n              columnNumber: 16\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"text\",\n              children: \"Textov\\xE9 pole\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1460,\n              columnNumber: 16\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"section-header\",\n              children: \"Nadpis sekce\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1461,\n              columnNumber: 16\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1447,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1443,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '20px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'block',\n              marginBottom: '8px',\n              fontWeight: 'bold'\n            },\n            children: formData.type === 'section-header' ? 'Název sekce *' : 'Otázka *'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1466,\n            columnNumber: 14\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: formData.question,\n            onChange: e => setFormData(prev => ({\n              ...prev,\n              question: e.target.value\n            })),\n            style: {\n              width: '100%',\n              padding: '10px',\n              border: '1px solid #ced4da',\n              borderRadius: '4px'\n            },\n            placeholder: formData.type === 'section-header' ? 'Zadejte název sekce' : 'Zadejte text otázky'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1469,\n            columnNumber: 14\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1465,\n          columnNumber: 22\n        }, this), (formData.type === 'single-choice' || formData.type === 'dropdown-multiselect') && formData.type !== 'section-header' && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '20px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'block',\n              marginBottom: '8px',\n              fontWeight: 'bold'\n            },\n            children: \"Mo\\u017Enosti odpov\\u011Bd\\xED\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1485,\n            columnNumber: 15\n          }, this), formData.options.map((option, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              marginBottom: '8px',\n              alignItems: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: option,\n              onChange: e => {\n                const newOptions = [...formData.options];\n                newOptions[index] = e.target.value;\n                setFormData(prev => ({\n                  ...prev,\n                  options: newOptions\n                }));\n              },\n              style: {\n                flex: 1,\n                padding: '8px',\n                border: '1px solid #ced4da',\n                borderRadius: '4px',\n                marginRight: '8px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1491,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => removeOption(index),\n              style: {\n                padding: '8px 12px',\n                backgroundColor: 'var(--color-red)',\n                color: 'white',\n                border: 'none',\n                borderRadius: '4px'\n              },\n              children: \"\\xD7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1507,\n              columnNumber: 19\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1490,\n            columnNumber: 17\n          }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              marginTop: '10px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: newOption,\n              onChange: e => setNewOption(e.target.value),\n              onKeyPress: e => e.key === 'Enter' && (e.preventDefault(), addOption()),\n              style: {\n                flex: 1,\n                padding: '8px',\n                border: '1px solid #ced4da',\n                borderRadius: '4px',\n                marginRight: '8px'\n              },\n              placeholder: \"Nov\\xE1 mo\\u017Enost...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1524,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: addOption,\n              style: {\n                padding: '8px 16px',\n                backgroundColor: 'var(--color-green)',\n                color: 'white',\n                border: 'none',\n                borderRadius: '4px'\n              },\n              children: \"P\\u0159idat\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1538,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1523,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1484,\n          columnNumber: 13\n        }, this), formData.type !== 'section-header' && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '20px'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'flex',\n              alignItems: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              checked: formData.required,\n              onChange: e => setFormData(prev => ({\n                ...prev,\n                required: e.target.checked\n              })),\n              style: {\n                marginRight: '8px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1558,\n              columnNumber: 18\n            }, this), \"Povinn\\xE1 ot\\xE1zka\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1557,\n            columnNumber: 16\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1556,\n          columnNumber: 14\n        }, this), (formData.type === 'single-choice' || formData.type === 'dropdown-multiselect') && formData.options.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '20px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'block',\n              marginBottom: '12px',\n              fontWeight: 'bold',\n              color: '#495057'\n            },\n            children: [\"\\uD83D\\uDCA1 Podm\\xEDn\\u011Bn\\xE9 textov\\xE9 pole\", /*#__PURE__*/_jsxDEV(\"small\", {\n              style: {\n                display: 'block',\n                fontWeight: 'normal',\n                color: '#6c757d',\n                fontSize: '14px',\n                marginTop: '4px'\n              },\n              children: \"P\\u0159idejte textov\\xE9 pole, kter\\xE9 se zobraz\\xED p\\u0159i v\\xFDb\\u011Bru konkr\\xE9tn\\xED mo\\u017Enosti\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1574,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1572,\n            columnNumber: 15\n          }, this), formData.options.map((option, optionIndex) => {\n            const trigger = formData.conditionalTriggers.find(t => t.optionIndex === optionIndex);\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginBottom: '12px',\n                padding: '12px',\n                border: '1px solid #e9ecef',\n                borderRadius: '6px',\n                backgroundColor: trigger ? '#f8f9fa' : 'transparent'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  alignItems: 'center',\n                  marginBottom: trigger ? '8px' : '0'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    flex: 1,\n                    fontWeight: '500',\n                    fontSize: '14px'\n                  },\n                  children: [\"\\\"\", option, \"\\\"\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1591,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  style: {\n                    display: 'flex',\n                    alignItems: 'center',\n                    marginLeft: '12px'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"checkbox\",\n                    checked: !!trigger,\n                    onChange: e => {\n                      if (e.target.checked) {\n                        // Add trigger\n                        setFormData(prev => ({\n                          ...prev,\n                          conditionalTriggers: [...prev.conditionalTriggers, {\n                            optionIndex: optionIndex,\n                            optionText: option,\n                            textboxPlaceholder: 'Prosím, okomentujte',\n                            textboxLabel: 'Nepovinné pole'\n                          }]\n                        }));\n                      } else {\n                        // Remove trigger\n                        setFormData(prev => ({\n                          ...prev,\n                          conditionalTriggers: prev.conditionalTriggers.filter(t => t.optionIndex !== optionIndex)\n                        }));\n                      }\n                    },\n                    style: {\n                      marginRight: '6px'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1599,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      fontSize: '13px',\n                      color: '#6c757d'\n                    },\n                    children: \"Textov\\xE9 pole\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1627,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1598,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1590,\n                columnNumber: 21\n              }, this), trigger && /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginTop: '8px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: trigger.textboxPlaceholder,\n                  onChange: e => {\n                    setFormData(prev => ({\n                      ...prev,\n                      conditionalTriggers: prev.conditionalTriggers.map(t => t.optionIndex === optionIndex ? {\n                        ...t,\n                        textboxPlaceholder: e.target.value\n                      } : t)\n                    }));\n                  },\n                  style: {\n                    width: '100%',\n                    padding: '6px 8px',\n                    border: '1px solid #ced4da',\n                    borderRadius: '4px',\n                    fontSize: '13px'\n                  },\n                  placeholder: \"Text v textov\\xE9m poli (nap\\u0159: 'Pros\\xEDm, okomentujte')\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1635,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                  style: {\n                    color: '#6c757d',\n                    fontSize: '12px'\n                  },\n                  children: \"Tento text se zobraz\\xED jako n\\xE1pov\\u011Bda v textov\\xE9m poli\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1657,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1634,\n                columnNumber: 23\n              }, this)]\n            }, optionIndex, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1583,\n              columnNumber: 19\n            }, this);\n          }), formData.conditionalTriggers.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: '8px',\n              padding: '8px 12px',\n              backgroundColor: '#d4edda',\n              border: '1px solid #c3e6cb',\n              borderRadius: '4px',\n              fontSize: '13px',\n              color: '#155724'\n            },\n            children: [\"\\u2705 \", formData.conditionalTriggers.length, \" podm\\xEDn\\u011Bn\", formData.conditionalTriggers.length === 1 ? 'é' : 'ých', \" textov\", formData.conditionalTriggers.length === 1 ? 'é pole' : 'á pole', \" nastaveno\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1667,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1571,\n          columnNumber: 13\n        }, this), formData.type === 'smiley' && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '20px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              marginBottom: '10px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              id: `textbox-${(step === null || step === void 0 ? void 0 : step.id) || 'new'}`,\n              checked: formData.hasTextbox || false,\n              onChange: e => setFormData(prev => ({\n                ...prev,\n                hasTextbox: e.target.checked\n              })),\n              style: {\n                marginRight: '8px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1686,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: `textbox-${(step === null || step === void 0 ? void 0 : step.id) || 'new'}`,\n              style: {\n                fontFamily: 'Roboto',\n                fontWeight: 400,\n                fontSize: '14px',\n                lineHeight: '150%',\n                letterSpacing: '1.25%',\n                color: '#262626'\n              },\n              children: \"P\\u0159idat pole pro koment\\xE1\\u0159\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1693,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1685,\n            columnNumber: 15\n          }, this), formData.hasTextbox && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginLeft: '26px'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Placeholder text pro koment\\xE1\\u0159\",\n              value: formData.textboxPlaceholder || '',\n              onChange: e => setFormData(prev => ({\n                ...prev,\n                textboxPlaceholder: e.target.value\n              })),\n              style: {\n                width: '100%',\n                padding: '8px',\n                border: '1px solid #ced4da',\n                borderRadius: '4px',\n                fontFamily: 'Roboto',\n                fontWeight: 400,\n                fontSize: '14px',\n                lineHeight: '150%',\n                letterSpacing: '1.25%'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1709,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1708,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1684,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            marginTop: '30px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: onCancel,\n            style: {\n              padding: '10px 20px',\n              backgroundColor: '#6c757d',\n              color: 'white',\n              border: 'none',\n              borderRadius: '4px'\n            },\n            children: \"Zru\\u0161it\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1732,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            style: {\n              padding: '10px 20px',\n              backgroundColor: 'var(--color-green)',\n              color: 'white',\n              border: 'none',\n              borderRadius: '4px'\n            },\n            children: step ? 'Uložit změny' : 'Přidat blok'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1745,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1731,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1442,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1431,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1419,\n    columnNumber: 5\n  }, this);\n};\n_s6(SurveyStepEditor, \"HttUxEeMmI2+Yaunjwu7ex6hWjs=\");\n_c7 = SurveyStepEditor;\nconst SurveyPreview = ({\n  survey,\n  onClose\n}) => {\n  _s8();\n  var _s7 = $RefreshSig$();\n  const [currentCardIndex, setCurrentCardIndex] = React.useState(0);\n  const [previewAnswers, setPreviewAnswers] = React.useState({});\n  const [dropdownStates, setDropdownStates] = React.useState({});\n  const [showScreenshotForm, setShowScreenshotForm] = React.useState(false);\n  const [showSuccessScreen, setShowSuccessScreen] = React.useState(false);\n  const [showScreenshotSuccess, setShowScreenshotSuccess] = React.useState(false);\n  const SmileyIcon = ({\n    iconName,\n    state = 'default',\n    size = 48,\n    style = {}\n  }) => {\n    _s7();\n    const [currentState, setCurrentState] = React.useState(state);\n    const getIconPath = () => {\n      const stateFolder = currentState === 'active' ? 'activeState' : currentState === 'hover' ? 'hoverState' : 'defaultState';\n      return `/icons/${stateFolder}/${iconName}.svg`;\n    };\n    return /*#__PURE__*/_jsxDEV(\"img\", {\n      src: getIconPath(),\n      alt: iconName,\n      width: size,\n      height: size,\n      style: {\n        cursor: 'pointer',\n        transition: 'all 0.2s ease',\n        ...style\n      },\n      onMouseEnter: () => setCurrentState('hover'),\n      onMouseLeave: () => setCurrentState(state),\n      onClick: () => setCurrentState('active')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1782,\n      columnNumber: 7\n    }, this);\n  };\n\n  // Get cards with non-empty steps\n  _s7(SmileyIcon, \"UgM8lFi9MeuX9NdmfZdxvwd07O4=\");\n  const getAllCardsWithSteps = () => {\n    if (!survey.cards) return [];\n    return survey.cards.filter(card => card.steps && card.steps.length > 0);\n  };\n  const getNonSystemCardsWithSteps = () => {\n    if (!survey.cards) return [];\n    return survey.cards.filter(card => card.steps && card.steps.length > 0 && !card.isSystem);\n  };\n  const allCardsWithSteps = getAllCardsWithSteps();\n  const nonSystemCards = getNonSystemCardsWithSteps();\n  const totalCards = nonSystemCards.length; // Only count non-system cards\n  const currentCard = allCardsWithSteps[currentCardIndex]; // Use all cards for display\n  const currentBlocks = currentCard ? currentCard.steps : [];\n  const isSystemCard = currentCard ? currentCard.isSystem : false;\n  const renderSmileyRating = step => {\n    // Reversed order: start from best (nejlepší) to worst\n    const smileyIcons = ['emoji-laughing', 'emoji-smile', 'emoji-neutral', 'emoji-frown', 'emoji-angry'];\n    const stepKey = `step-${step.id || Math.random()}`;\n    const selectedRating = previewAnswers[stepKey];\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: 'center',\n        marginBottom: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'space-around',\n          marginBottom: '20px'\n        },\n        children: smileyIcons.map((iconName, index) => {\n          const isSelected = selectedRating === index;\n          const iconState = isSelected ? 'active' : 'default';\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              textAlign: 'center',\n              cursor: 'pointer',\n              opacity: isSelected ? 1 : 0.7,\n              transform: isSelected ? 'scale(1.1)' : 'scale(1)',\n              transition: 'all 0.2s ease'\n            },\n            onClick: () => {\n              setPreviewAnswers(prev => ({\n                ...prev,\n                [stepKey]: index\n              }));\n            },\n            onMouseEnter: e => {\n              if (!isSelected) {\n                e.currentTarget.style.opacity = '0.9';\n              }\n            },\n            onMouseLeave: e => {\n              if (!isSelected) {\n                e.currentTarget.style.opacity = '0.7';\n              }\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(SmileyIcon, {\n                iconName: iconName,\n                state: iconState,\n                size: 34\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1858,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1857,\n              columnNumber: 17\n            }, this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1831,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1825,\n        columnNumber: 9\n      }, this), step.hasTextbox && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '16px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: '372px',\n            minHeight: '48px',\n            padding: '12px 16px',\n            gap: '8px',\n            borderRadius: '4px',\n            border: '1px solid #4F4F4F',\n            backgroundColor: 'white'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: step.textboxPlaceholder || 'Prosím, okomentujte vaše hodnocení',\n            value: previewAnswers[`${stepKey}-textbox`] || '',\n            onChange: e => setPreviewAnswers(prev => ({\n              ...prev,\n              [`${stepKey}-textbox`]: e.target.value\n            })),\n            style: {\n              width: '100%',\n              border: 'none',\n              outline: 'none',\n              fontFamily: 'Roboto',\n              fontWeight: 400,\n              fontSize: '16px',\n              lineHeight: '150%',\n              letterSpacing: '1.25%',\n              color: '#262626',\n              backgroundColor: 'transparent'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1877,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1868,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: '8px',\n            fontFamily: 'Roboto',\n            fontWeight: 400,\n            fontSize: '14px',\n            lineHeight: '150%',\n            letterSpacing: '1.25%',\n            color: '#6c757d',\n            fontStyle: 'italic',\n            textAlign: 'left'\n          },\n          children: \"Nepovinn\\xE9 pole\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1899,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1867,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1824,\n      columnNumber: 7\n    }, this);\n  };\n  const renderSingleChoice = step => {\n    const stepKey = `step-${step.id || Math.random()}`;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: '20px',\n        marginTop: '16px'\n      },\n      children: step.options.map((option, index) => {\n        var _step$conditionalTrig;\n        const trigger = (_step$conditionalTrig = step.conditionalTriggers) === null || _step$conditionalTrig === void 0 ? void 0 : _step$conditionalTrig.find(t => t.optionIndex === index);\n        const isSelected = previewAnswers[stepKey] === index;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              paddingLeft: '10px',\n              display: 'block',\n              marginBottom: '12px',\n              cursor: 'pointer',\n              fontFamily: 'Roboto, sans-serif',\n              fontWeight: 400,\n              fontSize: '16px',\n              lineHeight: '150%',\n              letterSpacing: '1.25%',\n              color: '#262626'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                position: 'relative',\n                display: 'inline-block',\n                marginRight: '8px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                name: stepKey,\n                value: index,\n                checked: isSelected,\n                onChange: e => setPreviewAnswers(prev => ({\n                  ...prev,\n                  [stepKey]: parseInt(e.target.value)\n                })),\n                style: {\n                  width: '20px',\n                  height: '20px',\n                  borderRadius: '20px',\n                  border: '2px solid ' + (isSelected ? '#609352' : '#ced4da'),\n                  backgroundColor: '#FFFFFF',\n                  appearance: 'none',\n                  cursor: 'pointer',\n                  position: 'relative'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1945,\n                columnNumber: 19\n              }, this), isSelected && /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  position: 'absolute',\n                  top: '5px',\n                  left: '5px',\n                  width: '10px',\n                  height: '10px',\n                  borderRadius: '50%',\n                  backgroundColor: '#609352',\n                  pointerEvents: 'none'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1966,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1940,\n              columnNumber: 17\n            }, this), option]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1928,\n            columnNumber: 15\n          }, this), trigger && isSelected && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginLeft: '0px',\n              marginTop: '16px',\n              marginBottom: '16px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                width: '372px',\n                minHeight: '48px',\n                gap: '8px',\n                paddingTop: '12px',\n                paddingRight: '8px',\n                paddingBottom: '12px',\n                paddingLeft: '8px',\n                borderRadius: '4px',\n                border: '1px solid #4F4F4F'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                style: {\n                  width: '100%',\n                  height: '24px',\n                  border: 'none',\n                  outline: 'none',\n                  fontFamily: 'Roboto, sans-serif',\n                  fontWeight: 400,\n                  fontSize: '16px',\n                  lineHeight: '150%',\n                  letterSpacing: '1.25%',\n                  backgroundColor: 'transparent'\n                },\n                placeholder: trigger.textboxPlaceholder || 'Prosím, okomentujte'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1995,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1984,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: '8px'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"small\", {\n                style: {\n                  fontFamily: 'Roboto, sans-serif',\n                  fontWeight: 400,\n                  fontStyle: 'italic',\n                  fontSize: '14px',\n                  lineHeight: '150%',\n                  letterSpacing: '1.25%',\n                  color: '#262626',\n                  textAlign: 'left'\n                },\n                children: trigger.textboxLabel || 'Nepovinné pole'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2015,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2012,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1983,\n            columnNumber: 17\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1927,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1921,\n      columnNumber: 7\n    }, this);\n  };\n  const renderMultiSelect = step => {\n    const stepKey = `step-${step.id || Math.random()}`;\n    const selectedOptions = previewAnswers[stepKey] || [];\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: '20px',\n        marginTop: '16px'\n      },\n      children: step.options.map((option, index) => {\n        var _step$conditionalTrig2;\n        const trigger = (_step$conditionalTrig2 = step.conditionalTriggers) === null || _step$conditionalTrig2 === void 0 ? void 0 : _step$conditionalTrig2.find(t => t.optionIndex === index);\n        const isSelected = selectedOptions.includes(index);\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              paddingLeft: '10px',\n              display: 'block',\n              marginBottom: '12px',\n              cursor: 'pointer',\n              fontFamily: 'Roboto, sans-serif',\n              fontWeight: 400,\n              fontSize: '16px',\n              lineHeight: '150%',\n              letterSpacing: '1.25%',\n              color: '#262626'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                position: 'relative',\n                display: 'inline-block',\n                marginRight: '8px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                checked: isSelected,\n                onChange: e => {\n                  setPreviewAnswers(prev => {\n                    const currentSelected = prev[stepKey] || [];\n                    if (e.target.checked) {\n                      return {\n                        ...prev,\n                        [stepKey]: [...currentSelected, index]\n                      };\n                    } else {\n                      return {\n                        ...prev,\n                        [stepKey]: currentSelected.filter(i => i !== index)\n                      };\n                    }\n                  });\n                },\n                style: {\n                  width: '20px',\n                  height: '20px',\n                  borderRadius: '4px',\n                  border: '2px solid ' + (isSelected ? '#609352' : '#ced4da'),\n                  backgroundColor: isSelected ? '#609352' : '#FFFFFF',\n                  appearance: 'none',\n                  cursor: 'pointer',\n                  position: 'relative'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2066,\n                columnNumber: 19\n              }, this), isSelected && /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  position: 'absolute',\n                  top: '2px',\n                  left: '4px',\n                  width: '12px',\n                  height: '8px',\n                  borderLeft: '2px solid #FFFFFF',\n                  borderBottom: '2px solid #FFFFFF',\n                  transform: 'rotate(-45deg)',\n                  pointerEvents: 'none'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2091,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2061,\n              columnNumber: 17\n            }, this), option]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2049,\n            columnNumber: 15\n          }, this), trigger && isSelected && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginLeft: '0px',\n              marginTop: '16px',\n              marginBottom: '16px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                width: '372px',\n                minHeight: '48px',\n                gap: '8px',\n                paddingTop: '12px',\n                paddingRight: '8px',\n                paddingBottom: '12px',\n                paddingLeft: '8px',\n                borderRadius: '4px',\n                border: '1px solid #4F4F4F'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                style: {\n                  width: '100%',\n                  height: '24px',\n                  border: 'none',\n                  outline: 'none',\n                  fontFamily: 'Roboto, sans-serif',\n                  fontWeight: 400,\n                  fontSize: '16px',\n                  lineHeight: '150%',\n                  letterSpacing: '1.25%',\n                  backgroundColor: 'transparent'\n                },\n                placeholder: trigger.textboxPlaceholder || 'Prosím, okomentujte'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2121,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2110,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: '8px'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"small\", {\n                style: {\n                  fontFamily: 'Roboto, sans-serif',\n                  fontWeight: 400,\n                  fontStyle: 'italic',\n                  fontSize: '14px',\n                  lineHeight: '150%',\n                  letterSpacing: '1.25%',\n                  color: '#262626',\n                  textAlign: 'left'\n                },\n                children: trigger.textboxLabel || 'Nepovinné pole'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2141,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2138,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2109,\n            columnNumber: 17\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2048,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2042,\n      columnNumber: 7\n    }, this);\n  };\n  const renderTextInput = step => /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      marginBottom: '20px'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n      disabled: true,\n      style: {\n        width: '100%',\n        minHeight: '100px',\n        padding: '12px',\n        border: '1px solid #ced4da',\n        borderRadius: '4px',\n        resize: 'vertical',\n        fontFamily: 'Roboto, sans-serif',\n        fontWeight: 400,\n        fontSize: '16px',\n        lineHeight: '150%',\n        letterSpacing: '1.25%'\n      },\n      placeholder: \"Text odpov\\u011Bdi...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2165,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 2164,\n    columnNumber: 5\n  }, this);\n  const renderRatingScale = step => /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      marginBottom: '20px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        marginBottom: '20px'\n      },\n      children: step.options.map((rating, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: 'center',\n          cursor: 'pointer'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: '40px',\n            height: '40px',\n            border: '2px solid #dee2e6',\n            borderRadius: '50%',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            fontSize: '16px',\n            fontWeight: 'bold',\n            color: '#262626',\n            fontFamily: 'Roboto, sans-serif'\n          },\n          children: rating\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2190,\n          columnNumber: 13\n        }, this)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2189,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2187,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        fontFamily: 'Roboto, sans-serif',\n        fontWeight: 400,\n        fontSize: '14px',\n        lineHeight: '150%',\n        letterSpacing: '1.25%',\n        color: '#262626'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Nejni\\u017E\\u0161\\xED\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2218,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Nejvy\\u0161\\u0161\\xED\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2219,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2208,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 2186,\n    columnNumber: 5\n  }, this);\n  const renderSectionHeader = step => /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      marginBottom: '20px'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"h3\", {\n      style: {\n        margin: 0,\n        color: '#262626',\n        fontFamily: 'Roboto, sans-serif',\n        fontWeight: 400,\n        fontSize: '18px',\n        lineHeight: '150%',\n        letterSpacing: '1.25%'\n      },\n      children: step.question\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2228,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 2225,\n    columnNumber: 5\n  }, this);\n  const renderDropdownMultiSelect = step => {\n    const stepKey = `step-${step.id || Math.random()}`;\n    const selectedOptions = previewAnswers[stepKey] || [];\n    const isOpen = dropdownStates[stepKey] || false;\n    const toggleDropdown = () => {\n      setDropdownStates(prev => ({\n        ...prev,\n        [stepKey]: !prev[stepKey]\n      }));\n    };\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: '20px',\n        position: 'relative'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: toggleDropdown,\n        style: {\n          position: 'relative',\n          width: '372px',\n          height: '40px',\n          paddingTop: '5px',\n          paddingBottom: '5px',\n          paddingLeft: '12px',\n          paddingRight: '40px',\n          borderRadius: '8px',\n          borderWidth: '1px',\n          borderStyle: 'solid',\n          borderColor: '#ced4da',\n          backgroundColor: 'white',\n          cursor: 'pointer',\n          display: 'flex',\n          alignItems: 'center',\n          fontFamily: 'Roboto',\n          fontWeight: 400,\n          fontSize: '16px',\n          lineHeight: '150%',\n          letterSpacing: '1.25%',\n          color: '#262626'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            flex: 1\n          },\n          children: selectedOptions.length === 0 ? 'Vyberte možnosti...' : selectedOptions.length === 1 ? `${selectedOptions.length} možnost vybrána` : selectedOptions.length <= 4 ? `${selectedOptions.length} možnosti vybrány` : `${selectedOptions.length} možností vybráno`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2282,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: 'absolute',\n            right: '12px',\n            transform: 'translateY(-50%)',\n            width: '16px',\n            height: '9px'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            width: \"16\",\n            height: \"9\",\n            viewBox: \"0 0 16 9\",\n            fill: \"none\",\n            xmlns: \"http://www.w3.org/2000/svg\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              fillRule: \"evenodd\",\n              clipRule: \"evenodd\",\n              d: \"M0.180242 0.180242C0.420565 -0.0600807 0.810205 -0.0600807 1.05053 0.180242L8 7.12971L14.9495 0.180242C15.1898 -0.0600807 15.5794 -0.0600807 15.8198 0.180242C16.0601 0.420565 16.0601 0.810205 15.8198 1.05053L8.43514 8.43514C8.19482 8.67546 7.80518 8.67546 7.56486 8.43514L0.180242 1.05053C-0.0600807 0.810205 -0.0600807 0.420565 0.180242 0.180242Z\",\n              fill: \"#609352\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2298,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2297,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2290,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2257,\n        columnNumber: 9\n      }, this), isOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'absolute',\n          top: '42px',\n          left: 0,\n          width: '372px',\n          zIndex: 1000,\n          backgroundColor: 'white',\n          border: '1px solid #ced4da',\n          borderRadius: '4px',\n          maxHeight: '200px',\n          overflowY: 'auto',\n          boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\n        },\n        children: (step.options || []).map((option, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: () => {\n            if (!selectedOptions.includes(option)) {\n              setPreviewAnswers(prev => ({\n                ...prev,\n                [stepKey]: [...selectedOptions, option]\n              }));\n            }\n            setDropdownStates(prev => ({\n              ...prev,\n              [stepKey]: false\n            }));\n          },\n          style: {\n            padding: '8px 12px',\n            cursor: selectedOptions.includes(option) ? 'not-allowed' : 'pointer',\n            fontFamily: 'Roboto',\n            fontWeight: 400,\n            fontSize: '16px',\n            lineHeight: '150%',\n            letterSpacing: '1.25%',\n            color: selectedOptions.includes(option) ? '#6c757d' : '#262626',\n            backgroundColor: selectedOptions.includes(option) ? '#f8f9fa' : 'white',\n            borderBottom: index < (step.options || []).length - 1 ? '1px solid #e9ecef' : 'none'\n          },\n          onMouseEnter: e => {\n            if (!selectedOptions.includes(option)) {\n              e.target.style.backgroundColor = '#f8f9fa';\n            }\n          },\n          onMouseLeave: e => {\n            if (!selectedOptions.includes(option)) {\n              e.target.style.backgroundColor = 'white';\n            }\n          },\n          children: [selectedOptions.includes(option) ? '✓ ' : '', option]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2319,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2305,\n        columnNumber: 11\n      }, this), selectedOptions.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '8px',\n          display: 'flex',\n          flexWrap: 'wrap',\n          gap: '8px',\n          maxWidth: '320px'\n        },\n        children: selectedOptions.map((option, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            width: '121px',\n            maxWidth: '320px',\n            height: '28px',\n            paddingLeft: '8px',\n            paddingRight: '8px',\n            borderRadius: '4px',\n            borderWidth: '1px',\n            borderStyle: 'solid',\n            borderColor: '#ced4da',\n            backgroundColor: '#f8f9fa',\n            fontFamily: 'Roboto',\n            fontWeight: 400,\n            fontSize: '14px',\n            lineHeight: '150%',\n            letterSpacing: '1.25%',\n            color: '#262626'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              flex: 1,\n              overflow: 'hidden',\n              textOverflow: 'ellipsis',\n              whiteSpace: 'nowrap'\n            },\n            children: option\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2392,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setPreviewAnswers(prev => ({\n                ...prev,\n                [stepKey]: selectedOptions.filter(opt => opt !== option)\n              }));\n            },\n            style: {\n              background: 'none',\n              border: 'none',\n              cursor: 'pointer',\n              padding: '0',\n              marginLeft: '4px',\n              width: '12px',\n              height: '12px',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              flexShrink: 0\n            },\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              width: \"12\",\n              height: \"12\",\n              viewBox: \"0 0 12 12\",\n              fill: \"none\",\n              xmlns: \"http://www.w3.org/2000/svg\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M0.878303 1.49725C0.837626 1.45658 0.805359 1.40829 0.783345 1.35514C0.761331 1.30199 0.75 1.24503 0.75 1.1875C0.75 1.12998 0.761331 1.07301 0.783345 1.01987C0.805359 0.966721 0.837626 0.91843 0.878303 0.877753C0.918979 0.837076 0.96727 0.80481 1.02042 0.782795C1.07356 0.760781 1.13053 0.749451 1.18805 0.749451C1.24558 0.749451 1.30254 0.760781 1.35569 0.782795C1.40884 0.80481 1.45713 0.837076 1.4978 0.877753L6.00055 5.38138L10.5033 0.877753C10.544 0.837076 10.5923 0.80481 10.6454 0.782795C10.6986 0.760781 10.7555 0.749451 10.8131 0.749451C10.8706 0.749451 10.9275 0.760781 10.9807 0.782795C11.0338 0.80481 11.0821 0.837076 11.1228 0.877753C11.1635 0.91843 11.1957 0.966721 11.2178 1.01987C11.2398 1.07301 11.2511 1.12998 11.2511 1.1875C11.2511 1.24503 11.2398 1.30199 11.2178 1.35514C11.1957 1.40829 11.1635 1.45658 11.1228 1.49725L6.61918 6L11.1228 10.5028C11.1635 10.5434 11.1957 10.5917 11.2178 10.6449C11.2398 10.698 11.2511 10.755 11.2511 10.8125C11.2511 10.87 11.2398 10.927 11.2178 10.9801C11.1957 11.0333 11.1635 11.0816 11.1228 11.1223C11.0821 11.1629 11.0338 11.1952 10.9807 11.2172C10.9275 11.2392 10.8706 11.2506 10.8131 11.2506C10.7555 11.2506 10.6986 11.2392 10.6454 11.2172C10.5923 11.1952 10.544 11.1629 10.5033 11.1223L6.00055 6.61863L1.4978 11.1223C1.45713 11.1629 1.40884 11.1952 1.35569 11.2172C1.30254 11.2392 1.24558 11.2506 1.18805 11.2506C1.13053 11.2506 1.07356 11.2392 1.02042 11.2172C0.96727 11.1952 0.918979 11.1629 0.878303 11.1223C0.837626 11.0816 0.805359 11.0333 0.783345 10.9801C0.761331 10.927 0.75 10.87 0.75 10.8125C0.75 10.755 0.761331 10.698 0.783345 10.6449C0.805359 10.5917 0.837626 10.5434 0.878303 10.5028L5.38193 6L0.878303 1.49725Z\",\n                fill: \"#609352\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2422,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2421,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2400,\n            columnNumber: 17\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2372,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2364,\n        columnNumber: 11\n      }, this), (step.conditionalTriggers || []).map((trigger, triggerIndex) => {\n        const isTriggered = selectedOptions.includes(trigger.optionText);\n        return isTriggered ? /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: '16px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: '372px',\n              minHeight: '48px',\n              gap: '8px',\n              paddingTop: '12px',\n              paddingRight: '8px',\n              paddingBottom: '12px',\n              paddingLeft: '8px',\n              borderRadius: '4px',\n              border: '1px solid #4F4F4F',\n              backgroundColor: 'white'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: trigger.textboxPlaceholder || 'Prosím, okomentujte',\n              style: {\n                width: '100%',\n                height: '24px',\n                border: 'none',\n                outline: 'none',\n                backgroundColor: 'transparent',\n                fontFamily: 'Roboto, sans-serif',\n                fontWeight: 400,\n                fontSize: '16px',\n                lineHeight: '150%',\n                letterSpacing: '1.25%',\n                color: '#262626'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2448,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2436,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: '8px'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"small\", {\n              style: {\n                fontFamily: 'Roboto, sans-serif',\n                fontWeight: 400,\n                fontStyle: 'italic',\n                fontSize: '14px',\n                lineHeight: '150%',\n                letterSpacing: '1.25%',\n                color: '#262626',\n                textAlign: 'left'\n              },\n              children: trigger.textboxLabel || 'Nepovinné pole'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2467,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2466,\n            columnNumber: 15\n          }, this)]\n        }, triggerIndex, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2435,\n          columnNumber: 13\n        }, this) : null;\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2255,\n      columnNumber: 7\n    }, this);\n  };\n  const renderFloatingWidget = step => /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: 'relative',\n      height: '120px',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      margin: '20px auto'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'relative'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: () => {\n          // Navigate to Step 0b (Feedback Modal)\n          const feedbackModalIndex = allCardsWithSteps.findIndex(card => card.steps && card.steps.some(step => step.type === 'feedback-modal'));\n          if (feedbackModalIndex !== -1) {\n            setCurrentCardIndex(feedbackModalIndex);\n          }\n        },\n        style: {\n          width: '82px',\n          height: '82px',\n          backgroundColor: '#FFFFFF',\n          borderRadius: '50%',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          boxShadow: '0 4px 12px rgba(0, 0, 0, 0.15)',\n          cursor: 'pointer',\n          position: 'relative'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"/floating.svg\",\n          alt: \"Feedback\",\n          style: {\n            width: '48px',\n            height: '48px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2522,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2499,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: () => {\n          // Close the floating widget - go to next non-system card\n          const nextNonSystemIndex = allCardsWithSteps.findIndex((card, index) => index > currentCardIndex && !card.isSystem);\n          if (nextNonSystemIndex !== -1) {\n            setCurrentCardIndex(nextNonSystemIndex);\n          }\n        },\n        style: {\n          position: 'absolute',\n          width: '39px',\n          height: '39px',\n          top: '-29px',\n          right: '-120px',\n          backgroundColor: '#FFFFFF',\n          borderRadius: '50%',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          boxShadow: '0 2px 8px rgba(0, 0, 0, 0.15)',\n          cursor: 'pointer'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"/close.svg\",\n          alt: \"Close\",\n          style: {\n            width: '23.25px',\n            height: '23.25px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2558,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2533,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2497,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 2488,\n    columnNumber: 3\n  }, this);\n  const renderFeedbackModal = step => /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      marginBottom: '20px'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        flexDirection: 'column',\n        gap: '24px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontFamily: 'Roboto',\n          fontWeight: 400,\n          fontSize: '18px',\n          lineHeight: '150%',\n          letterSpacing: '1.25%',\n          color: '#262626',\n          textAlign: 'left'\n        },\n        children: \"Hodnocen\\xED, \\xFA\\u010Del n\\xE1v\\u0161t\\u011Bvy, dojmy\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2582,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          // Navigate to step 1 (first non-system card)\n          const firstNonSystemIndex = allCardsWithSteps.findIndex(card => !card.isSystem);\n          if (firstNonSystemIndex !== -1) {\n            setCurrentCardIndex(firstNonSystemIndex);\n          }\n        },\n        style: {\n          width: '241px',\n          height: '56px',\n          gap: '20px',\n          paddingTop: '12px',\n          paddingRight: '20px',\n          paddingBottom: '13px',\n          paddingLeft: '20px',\n          borderRadius: '8px',\n          backgroundColor: '#609352',\n          border: 'none',\n          cursor: 'pointer',\n          fontFamily: 'Roboto',\n          fontWeight: 700,\n          fontSize: '20px',\n          lineHeight: '150%',\n          letterSpacing: '3%',\n          color: '#FFFFFF'\n        },\n        children: \"Zp\\u011Btn\\xE1 vazba na web\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2595,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontFamily: 'Roboto',\n          fontWeight: 400,\n          fontSize: '18px',\n          lineHeight: '150%',\n          letterSpacing: '1.25%',\n          color: '#262626',\n          textAlign: 'left'\n        },\n        children: \"Mo\\u017Enost p\\u0159ipojit screenshot + koment\\xE1\\u0159\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2626,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          setShowScreenshotForm(true);\n        },\n        style: {\n          width: '183px',\n          height: '56px',\n          gap: '20px',\n          paddingTop: '12px',\n          paddingRight: '20px',\n          paddingBottom: '13px',\n          paddingLeft: '20px',\n          borderRadius: '8px',\n          backgroundColor: '#609352',\n          border: 'none',\n          cursor: 'pointer',\n          fontFamily: 'Roboto',\n          fontWeight: 700,\n          fontSize: '20px',\n          lineHeight: '150%',\n          letterSpacing: '3%',\n          color: '#FFFFFF'\n        },\n        children: \"M\\xE1te probl\\xE9m?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2639,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2576,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 2572,\n    columnNumber: 3\n  }, this);\n\n  // Screenshot Form Component\n  const renderScreenshotForm = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      width: '450px',\n      height: '603px',\n      borderRadius: '16px',\n      backgroundColor: '#FFFFFF',\n      padding: '24px',\n      gap: '24px',\n      display: 'flex',\n      flexDirection: 'column',\n      position: 'relative'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        marginBottom: '24px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        style: {\n          margin: 0,\n          fontFamily: 'Roboto',\n          fontWeight: 400,\n          fontSize: '24px',\n          lineHeight: '150%',\n          letterSpacing: '3.12%',\n          color: '#262626'\n        },\n        children: \"P\\u0159ilo\\u017Eit sn\\xEDmek obrazovky\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2688,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onClose,\n        style: {\n          background: 'none',\n          border: 'none',\n          cursor: 'pointer',\n          padding: '4px',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"/close.svg\",\n          alt: \"Close\",\n          width: \"24\",\n          height: \"24\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2711,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2699,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2682,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        flex: 1,\n        display: 'flex',\n        flexDirection: 'column',\n        gap: '24px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontFamily: 'Roboto',\n          fontWeight: 400,\n          fontSize: '18px',\n          lineHeight: '150%',\n          letterSpacing: '1.25%',\n          color: '#262626'\n        },\n        children: \"Chcete p\\u0159ilo\\u017Eit screenshot?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2718,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        style: {\n          width: '160px',\n          height: '40px',\n          gap: '12px',\n          paddingTop: '8px',\n          paddingRight: '12px',\n          paddingBottom: '9px',\n          paddingLeft: '12px',\n          borderRadius: '8px',\n          border: '1px solid #609352',\n          backgroundColor: 'transparent',\n          cursor: 'pointer',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n          width: \"20\",\n          height: \"20\",\n          viewBox: \"0 0 20 20\",\n          fill: \"none\",\n          xmlns: \"http://www.w3.org/2000/svg\",\n          style: {\n            marginRight: '8px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M0.625 12.375C0.970178 12.375 1.25 12.6549 1.25 13V16.125C1.25 16.8154 1.80964 17.375 2.5 17.375H17.5C18.1904 17.375 18.75 16.8154 18.75 16.125V13C18.75 12.6549 19.0298 12.375 19.375 12.375C19.7202 12.375 20 12.6549 20 13V16.125C20 17.5057 18.8807 18.625 17.5 18.625H2.5C1.11929 18.625 0 17.5057 0 16.125V13C0 12.6549 0.279822 12.375 0.625 12.375Z\",\n            fill: \"#609352\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2748,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M9.55806 1.43306C9.80214 1.18898 10.1979 1.18898 10.4419 1.43306L14.1919 5.18306C14.436 5.42714 14.436 5.82286 14.1919 6.06694C13.9479 6.31102 13.5521 6.31102 13.3081 6.06694L10.625 3.38388V14.375C10.625 14.7202 10.3452 15 10 15C9.65482 15 9.375 14.7202 9.375 14.375V3.38388L6.69194 6.06694C6.44786 6.31102 6.05214 6.31102 5.80806 6.06694C5.56398 5.82286 5.56398 5.42714 5.80806 5.18306L9.55806 1.43306Z\",\n            fill: \"#609352\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2749,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2747,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            fontFamily: 'Roboto',\n            fontWeight: 700,\n            fontSize: '14px',\n            lineHeight: '150%',\n            letterSpacing: '1.25%',\n            color: 'var(--color-green)'\n          },\n          children: \"Nahrajte soubor\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2751,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2730,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontFamily: 'Roboto',\n          fontWeight: 400,\n          fontSize: '14px',\n          lineHeight: '150%',\n          letterSpacing: '1.25%',\n          color: '#262626',\n          textAlign: 'center'\n        },\n        children: \"Podporovan\\xE9 form\\xE1ty JPEG, PNG, PDF\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2764,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontFamily: 'Roboto',\n          fontWeight: 400,\n          fontSize: '18px',\n          lineHeight: '150%',\n          letterSpacing: '1.25%',\n          color: '#262626',\n          marginTop: '24px'\n        },\n        children: \"Popi\\u0161te probl\\xE9m nebo pot\\xED\\u017Ee\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2777,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        placeholder: \"Pros\\xEDm, uv\\u011B\\u010Fte\",\n        style: {\n          width: '372px',\n          minHeight: '120px',\n          padding: '12px 8px',\n          borderRadius: '4px',\n          border: '1px solid #4F4F4F',\n          fontFamily: 'Roboto',\n          fontWeight: 400,\n          fontSize: '16px',\n          lineHeight: '150%',\n          letterSpacing: '1.25%',\n          color: '#6D6D6D',\n          backgroundColor: '#FFFFFF',\n          resize: 'vertical',\n          outline: 'none'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2790,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n          marginTop: 'auto',\n          paddingTop: '20px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setShowScreenshotForm(false);\n          },\n          style: {\n            width: '83px',\n            height: '56px',\n            gap: '20px',\n            paddingTop: '12px',\n            paddingRight: '20px',\n            paddingBottom: '13px',\n            paddingLeft: '20px',\n            borderRadius: '8px',\n            border: '1px solid #609352',\n            backgroundColor: 'transparent',\n            cursor: 'pointer',\n            fontFamily: 'Roboto',\n            fontWeight: 700,\n            fontSize: '20px',\n            lineHeight: '150%',\n            letterSpacing: '3%',\n            color: '#368537'\n          },\n          children: \"Zp\\u011Bt\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2819,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setShowScreenshotForm(false);\n            setShowScreenshotSuccess(true);\n          },\n          style: {\n            width: '113px',\n            height: '56px',\n            gap: '20px',\n            paddingTop: '12px',\n            paddingRight: '20px',\n            paddingBottom: '13px',\n            paddingLeft: '20px',\n            borderRadius: '8px',\n            backgroundColor: '#609352',\n            border: 'none',\n            cursor: 'pointer',\n            fontFamily: 'Roboto',\n            fontWeight: 700,\n            fontSize: '20px',\n            lineHeight: '150%',\n            letterSpacing: '3%',\n            color: '#FFFFFF'\n          },\n          children: \"Odeslat\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2846,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2811,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2716,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 2670,\n    columnNumber: 3\n  }, this);\n\n  // Success Screen Component\n  const renderSuccessScreen = message => /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      width: '450px',\n      height: '603px',\n      borderRadius: '16px',\n      backgroundColor: '#FFFFFF',\n      padding: '24px',\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'center',\n      alignItems: 'center',\n      textAlign: 'center'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        margin: 0,\n        fontFamily: 'Roboto',\n        fontWeight: 400,\n        fontSize: '24px',\n        lineHeight: '150%',\n        letterSpacing: '3.12%',\n        color: '#262626'\n      },\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2891,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 2879,\n    columnNumber: 3\n  }, this);\n  const renderStepContent = step => {\n    switch (step.type) {\n      case 'smiley':\n        return renderSmileyRating(step);\n      case 'single-choice':\n        return renderSingleChoice(step);\n      case 'dropdown-multiselect':\n        return renderDropdownMultiSelect(step);\n      case 'text':\n        return renderTextInput(step);\n      case 'section-header':\n        return renderSectionHeader(step);\n      case 'floating-widget':\n        return renderFloatingWidget(step);\n      case 'feedback-modal':\n        return renderFeedbackModal(step);\n      default:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Nezn\\xE1m\\xFD typ ot\\xE1zky\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2914,\n          columnNumber: 21\n        }, this);\n    }\n  };\n\n  // Handle special screens\n  if (showScreenshotForm) {\n    return renderScreenshotForm();\n  }\n  if (showScreenshotSuccess) {\n    return renderSuccessScreen('Odesláno');\n  }\n  if (showSuccessScreen) {\n    return renderSuccessScreen('Zpětná vazba odeslána');\n  }\n  if (totalCards === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: '450px',\n        height: '603px',\n        borderRadius: '16px',\n        backgroundColor: '#FFFFFF',\n        padding: '24px',\n        gap: '24px',\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'center',\n        alignItems: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: '#6c757d'\n        },\n        children: \"\\u017D\\xE1dn\\xE9 kroky pro n\\xE1hled\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2945,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2933,\n      columnNumber: 5\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      width: '450px',\n      height: '603px',\n      borderRadius: '16px',\n      backgroundColor: '#FFFFFF',\n      padding: '24px',\n      gap: '24px',\n      display: 'flex',\n      flexDirection: 'column',\n      position: 'relative'\n    },\n    children: [!isSystemCard && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        marginBottom: '24px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        style: {\n          margin: 0,\n          fontFamily: 'Roboto, sans-serif',\n          fontWeight: 400,\n          fontSize: '24px',\n          lineHeight: '150%',\n          letterSpacing: '3.12%',\n          color: '#262626'\n        },\n        children: survey.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2970,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onClose,\n        style: {\n          background: 'none',\n          border: 'none',\n          cursor: 'pointer',\n          padding: '4px',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"/close.svg\",\n          alt: \"Close\",\n          width: \"24\",\n          height: \"24\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2993,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2981,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2964,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        flex: 1,\n        overflow: 'auto'\n      },\n      children: currentBlocks.map((block, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: index < currentBlocks.length - 1 ? '32px' : '0'\n        },\n        children: [block.type !== 'section-header' && !isSystemCard && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '16px'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              margin: 0,\n              fontFamily: 'Roboto, sans-serif',\n              fontWeight: 400,\n              fontSize: '18px',\n              lineHeight: '150%',\n              letterSpacing: '1.25%',\n              color: '#262626'\n            },\n            children: block.question || `Blok ${index + 1}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3005,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3004,\n          columnNumber: 13\n        }, this), renderStepContent(block)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 3001,\n        columnNumber: 9\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2999,\n      columnNumber: 5\n    }, this), !isSystemCard && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: '371px',\n        height: '85px',\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        paddingTop: '20px',\n        paddingBottom: '20px',\n        marginTop: 'auto'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: '78px',\n          height: '24px',\n          fontFamily: 'Roboto, sans-serif',\n          fontWeight: 400,\n          fontSize: '16px',\n          lineHeight: '150%',\n          letterSpacing: '0%',\n          color: '#262626'\n        },\n        children: [(() => {\n          const nonSystemCardsBeforeCurrent = allCardsWithSteps.slice(0, currentCardIndex).filter(card => !card.isSystem).length;\n          return nonSystemCardsBeforeCurrent + 1;\n        })(), \" z \", totalCards, \" krok\\u016F\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 3039,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          // Check if this is the last step\n          const nonSystemCardsBeforeCurrent = allCardsWithSteps.slice(0, currentCardIndex).filter(card => !card.isSystem).length;\n          if (nonSystemCardsBeforeCurrent >= totalCards - 1) {\n            // Last step - show success screen\n            setShowSuccessScreen(true);\n          } else {\n            // Find next non-system card\n            const nextNonSystemIndex = allCardsWithSteps.findIndex((card, index) => index > currentCardIndex && !card.isSystem);\n            if (nextNonSystemIndex !== -1) {\n              setCurrentCardIndex(nextNonSystemIndex);\n            }\n          }\n        },\n        disabled: false,\n        style: {\n          width: (() => {\n            const nonSystemCardsBeforeCurrent = allCardsWithSteps.slice(0, currentCardIndex).filter(card => !card.isSystem).length;\n            return nonSystemCardsBeforeCurrent >= totalCards - 1 ? '201px' : '147px';\n          })(),\n          height: '56px',\n          gap: '20px',\n          paddingTop: '12px',\n          paddingRight: '20px',\n          paddingBottom: '13px',\n          paddingLeft: '20px',\n          borderRadius: '8px',\n          background: 'var(--color-green)',\n          border: 'none',\n          color: 'white',\n          cursor: 'pointer',\n          fontFamily: 'Roboto, sans-serif',\n          fontWeight: 700,\n          fontSize: '20px',\n          lineHeight: '150%',\n          letterSpacing: '3%'\n        },\n        children: (() => {\n          const nonSystemCardsBeforeCurrent = allCardsWithSteps.slice(0, currentCardIndex).filter(card => !card.isSystem).length;\n          return nonSystemCardsBeforeCurrent >= totalCards - 1 ? 'Odeslat dotazník' : 'Pokračovat';\n        })()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3058,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 3029,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 2951,\n    columnNumber: 3\n  }, this);\n};\n\n// Building Blocks Palette Component\n_s8(SurveyPreview, \"axjY1f1zzkqj0SM7jPRhF7Tv3xU=\");\n_c8 = SurveyPreview;\nconst BuildingBlocksPalette = () => {\n  const buildingBlocks = [{\n    id: 'smiley',\n    name: '5-bodové hodnocení',\n    icon: '😊',\n    description: 'Hodnocení pomocí smajlíků (1-5)',\n    color: '#ffd54f'\n  }, {\n    id: 'single-choice',\n    name: 'Jednoduché výběr',\n    icon: '📝',\n    description: 'Výběr jedné možnosti ze seznamu',\n    color: '#81c784'\n  }, {\n    id: 'dropdown-multiselect',\n    name: 'Vícenásobný výběr',\n    icon: '☑️',\n    description: 'Výběr více možností (dropdown)',\n    color: '#64b5f6'\n  }, {\n    id: 'text',\n    name: 'Textové pole',\n    icon: '📄',\n    description: 'Volný text nebo komentář',\n    color: '#a1887f'\n  }, {\n    id: 'section-header',\n    name: 'Nadpis sekce',\n    icon: '📋',\n    description: 'Název sekce nebo popisný text',\n    color: '#ffb74d'\n  }];\n  const handleDragStart = (e, blockType) => {\n    e.dataTransfer.setData('application/json', JSON.stringify({\n      type: 'building-block',\n      blockType: blockType\n    }));\n    e.dataTransfer.effectAllowed = 'copy';\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: buildingBlocks.map(block => /*#__PURE__*/_jsxDEV(\"div\", {\n      draggable: true,\n      onDragStart: e => handleDragStart(e, block.id),\n      style: {\n        backgroundColor: 'white',\n        border: '2px solid #dee2e6',\n        borderRadius: '8px',\n        padding: '15px',\n        marginBottom: '12px',\n        cursor: 'grab',\n        transition: 'all 0.2s ease',\n        boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\n      },\n      onMouseEnter: e => {\n        e.target.style.transform = 'translateY(-2px)';\n        e.target.style.boxShadow = '0 4px 8px rgba(0,0,0,0.15)';\n        e.target.style.borderColor = block.color;\n      },\n      onMouseLeave: e => {\n        e.target.style.transform = 'translateY(0)';\n        e.target.style.boxShadow = '0 2px 4px rgba(0,0,0,0.1)';\n        e.target.style.borderColor = '#dee2e6';\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          marginBottom: '8px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            fontSize: '24px',\n            marginRight: '12px',\n            backgroundColor: block.color + '20',\n            padding: '8px',\n            borderRadius: '6px'\n          },\n          children: block.icon\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3194,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            flex: 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            style: {\n              margin: '0 0 4px 0',\n              color: '#495057',\n              fontSize: '14px'\n            },\n            children: block.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3206,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n            style: {\n              color: '#6c757d',\n              fontSize: '12px'\n            },\n            children: block.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3209,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3205,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 3193,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: '11px',\n          color: '#6c757d',\n          fontStyle: 'italic',\n          textAlign: 'center',\n          borderTop: '1px solid #f0f0f0',\n          paddingTop: '8px',\n          marginTop: '8px'\n        },\n        children: \"\\uD83D\\uDDB1\\uFE0F P\\u0159et\\xE1hnout do pr\\u016Fzkumu\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3214,\n        columnNumber: 11\n      }, this)]\n    }, block.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 3168,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 3166,\n    columnNumber: 5\n  }, this);\n};\n\n// Survey Canvas Component\n_c9 = BuildingBlocksPalette;\nconst SurveyCanvas = ({\n  steps,\n  onStepsChange,\n  onEditStep,\n  onDeleteStep,\n  cardInfo,\n  canEdit,\n  isAdmin\n}) => {\n  _s9();\n  const [dragOverIndex, setDragOverIndex] = React.useState(null);\n  const [draggedStepIndex, setDraggedStepIndex] = React.useState(null);\n  const handleDragOver = (e, index) => {\n    e.preventDefault();\n    e.dataTransfer.dropEffect = 'copy';\n    setDragOverIndex(index);\n  };\n  const handleDrop = (e, dropIndex) => {\n    e.preventDefault();\n\n    // Check if editing is allowed\n    if (!canEdit) {\n      alert(cardInfo !== null && cardInfo !== void 0 && cardInfo.isAdminOnly ? 'Tato sekce může být upravována pouze administrátorem' : 'Tato sekce není editovatelná');\n      setDragOverIndex(null);\n      setDraggedStepIndex(null);\n      return;\n    }\n    const data = e.dataTransfer.getData('application/json');\n    try {\n      const dragData = JSON.parse(data);\n      if (dragData.type === 'building-block') {\n        // Adding new block from palette\n        const newStep = {\n          id: Date.now(),\n          type: dragData.blockType,\n          question: getDefaultQuestion(dragData.blockType),\n          options: getDefaultOptions(dragData.blockType),\n          required: true,\n          conditional: false\n        };\n        const newSteps = [...steps];\n        newSteps.splice(dropIndex, 0, newStep);\n        onStepsChange(newSteps);\n      } else if (dragData.type === 'existing-step') {\n        // Reordering existing steps\n        const dragIndex = dragData.index;\n        if (dragIndex !== dropIndex) {\n          const newSteps = [...steps];\n          const draggedItem = newSteps[dragIndex];\n          newSteps.splice(dragIndex, 1);\n          const actualDropIndex = dragIndex < dropIndex ? dropIndex - 1 : dropIndex;\n          newSteps.splice(actualDropIndex, 0, draggedItem);\n          onStepsChange(newSteps);\n        }\n      }\n    } catch (error) {\n      console.error('Error parsing drag data:', error);\n    }\n    setDragOverIndex(null);\n    setDraggedStepIndex(null);\n  };\n  const handleStepDragStart = (e, index) => {\n    e.dataTransfer.setData('application/json', JSON.stringify({\n      type: 'existing-step',\n      index: index\n    }));\n    e.dataTransfer.effectAllowed = 'move';\n    setDraggedStepIndex(index);\n  };\n  const getDefaultQuestion = blockType => {\n    switch (blockType) {\n      case 'smiley':\n        return 'Jak hodnotíte naši službu?';\n      case 'single-choice':\n        return 'Vyberte jednu možnost:';\n      case 'dropdown-multiselect':\n        return 'Vyberte všechny vhodné možnosti:';\n      case 'text':\n        return 'Váš komentář nebo připomínka:';\n      case 'section-header':\n        return 'Název sekce';\n      default:\n        return 'Nová otázka';\n    }\n  };\n  const getDefaultOptions = blockType => {\n    switch (blockType) {\n      case 'single-choice':\n        return ['Možnost 1', 'Možnost 2', 'Možnost 3'];\n      case 'dropdown-multiselect':\n        return ['Možnost A', 'Možnost B', 'Možnost C'];\n      default:\n        return [];\n    }\n  };\n\n  // Create drop zones between steps and at the end\n  const dropZones = [];\n  for (let i = 0; i <= steps.length; i++) {\n    dropZones.push(/*#__PURE__*/_jsxDEV(\"div\", {\n      onDragOver: e => handleDragOver(e, i),\n      onDrop: e => handleDrop(e, i),\n      onDragLeave: () => setDragOverIndex(null),\n      style: {\n        height: dragOverIndex === i ? '40px' : '20px',\n        backgroundColor: dragOverIndex === i ? '#e3f2fd' : 'transparent',\n        border: dragOverIndex === i ? '2px dashed #2196f3' : '2px dashed transparent',\n        borderRadius: '8px',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        transition: 'all 0.2s ease',\n        margin: '5px 0'\n      },\n      children: dragOverIndex === i && /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          color: '#2196f3',\n          fontSize: '12px',\n          fontWeight: 'bold'\n        },\n        children: \"\\u2B07\\uFE0F Upustit zde\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3342,\n        columnNumber: 11\n      }, this)\n    }, `drop-${i}`, false, {\n      fileName: _jsxFileName,\n      lineNumber: 3324,\n      columnNumber: 7\n    }, this));\n\n    // Add step card after each drop zone (except the last one)\n    if (i < steps.length) {\n      dropZones.push(/*#__PURE__*/_jsxDEV(SurveyStepCard, {\n        step: steps[i],\n        index: i,\n        onEdit: canEdit ? () => onEditStep(steps[i]) : undefined,\n        onDelete: canEdit ? () => onDeleteStep(steps[i].id) : undefined,\n        onDragStart: canEdit ? handleStepDragStart : undefined,\n        isDragging: draggedStepIndex === i,\n        isInCanvas: true,\n        canEdit: canEdit\n      }, steps[i].id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3352,\n        columnNumber: 9\n      }, this));\n    }\n  }\n  const getEmptyStateContent = () => {\n    if (!canEdit) {\n      return {\n        icon: '🔒',\n        title: cardInfo !== null && cardInfo !== void 0 && cardInfo.isAdminOnly ? 'Sekce pouze pro administrátory' : 'Sekce jen pro čtení',\n        message: cardInfo !== null && cardInfo !== void 0 && cardInfo.isAdminOnly ? 'Tato sekce může být upravována pouze administrátorem' : 'Tato sekce není editovatelná, ale můžete si prohlédnout její obsah'\n      };\n    }\n    if (dragOverIndex === 0) {\n      return {\n        icon: '⬇️',\n        title: 'Upustit zde!',\n        message: 'Vytvořte svůj první blok v tomto kroku'\n      };\n    }\n    return {\n      icon: '📋',\n      title: 'Prázdný krok',\n      message: 'Přetáhněte stavební bloky sem pro vytvoření obsahu tohoto kroku'\n    };\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '20px',\n      minHeight: '400px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: '20px',\n        padding: '15px',\n        backgroundColor: cardInfo !== null && cardInfo !== void 0 && cardInfo.isAdminOnly ? '#fff3cd' : '#e7f3ff',\n        border: `1px solid ${cardInfo !== null && cardInfo !== void 0 && cardInfo.isAdminOnly ? '#ffeaa7' : '#b3d7ff'}`,\n        borderRadius: '6px'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            style: {\n              margin: '0 0 4px 0',\n              color: '#495057'\n            },\n            children: [cardInfo === null || cardInfo === void 0 ? void 0 : cardInfo.title, \" - Krok pr\\u016Fzkumu\", (cardInfo === null || cardInfo === void 0 ? void 0 : cardInfo.isAdminOnly) && /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                marginLeft: '8px',\n                fontSize: '11px',\n                backgroundColor: 'var(--color-red)',\n                color: 'white',\n                padding: '2px 6px',\n                borderRadius: '3px'\n              },\n              children: \"ADMIN ONLY\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3408,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3405,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n            style: {\n              color: '#6c757d'\n            },\n            children: cardInfo === null || cardInfo === void 0 ? void 0 : cardInfo.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3420,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3404,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            gap: '10px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              backgroundColor: '#6c757d',\n              color: 'white',\n              padding: '4px 8px',\n              borderRadius: '12px',\n              fontSize: '12px',\n              fontWeight: 'bold'\n            },\n            children: [steps.length, \" \", steps.length === 1 ? 'blok' : steps.length < 5 ? 'bloky' : 'bloků']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3427,\n            columnNumber: 26\n          }, this), !canEdit && /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              fontSize: '20px'\n            },\n            children: \"\\uD83D\\uDD12\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3437,\n            columnNumber: 26\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3422,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 3403,\n        columnNumber: 18\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 3396,\n      columnNumber: 7\n    }, this), steps.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      onDragOver: canEdit ? e => handleDragOver(e, 0) : undefined,\n      onDrop: canEdit ? e => handleDrop(e, 0) : undefined,\n      onDragLeave: canEdit ? () => setDragOverIndex(null) : undefined,\n      style: {\n        textAlign: 'center',\n        padding: '80px 20px',\n        border: `3px dashed ${canEdit && dragOverIndex === 0 ? '#2196f3' : '#dee2e6'}`,\n        borderRadius: '12px',\n        backgroundColor: canEdit && dragOverIndex === 0 ? '#e3f2fd' : '#f8f9fa',\n        color: '#6c757d',\n        transition: 'all 0.3s ease',\n        opacity: canEdit ? 1 : 0.7\n      },\n      children: (() => {\n        const content = getEmptyStateContent();\n        return /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '48px',\n              marginBottom: '20px'\n            },\n            children: content.icon\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3462,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            style: {\n              margin: '0 0 10px 0'\n            },\n            children: content.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3465,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              margin: 0\n            },\n            children: content.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3468,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true);\n      })()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 3443,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        opacity: canEdit ? 1 : 0.8\n      },\n      children: dropZones\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 3476,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 3394,\n    columnNumber: 5\n  }, this);\n};\n\n// Survey Card Manager Component\n_s9(SurveyCanvas, \"2EZOqrssXAxHmndA5Rf3w3aQEwE=\");\n_c0 = SurveyCanvas;\nconst SurveyCardManager = ({\n  survey,\n  activeCardIndex,\n  onActiveCardChange,\n  onSurveyChange,\n  onEditStep,\n  onDeleteStep,\n  user,\n  globalMode = false\n}) => {\n  _s0();\n  const navigate = useNavigate();\n  const isAdmin = (user === null || user === void 0 ? void 0 : user.role) === 'admin';\n  const handleStepsChange = (cardIndex, newSteps) => {\n    onSurveyChange(prev => ({\n      ...prev,\n      cards: prev.cards.map((card, index) => index === cardIndex ? {\n        ...card,\n        steps: newSteps\n      } : card)\n    }));\n  };\n  const canEditCard = card => {\n    if (card.isGlobal && !globalMode) {\n      return false; // Global cards are not editable in regular survey creator\n    }\n    if (card.isAdminOnly) {\n      return isAdmin;\n    }\n    return card.isEditable;\n  };\n  const handleCardClick = cardIndex => {\n    const card = survey.cards[cardIndex];\n\n    // Show warning for global sections in regular mode\n    if (!globalMode && (card.id === 2 || card.id === 4)) {\n      if (isAdmin) {\n        const shouldRedirect = window.confirm(`Pokoušíte se editovat globální sekci \"${card.title}\".\\n\\n` + `Pro lepší správu globálních sekcí doporučujeme použít dedikovanou stránku \"Global Surveys\".\\n\\n` + `Chcete přejít na Global Surveys nyní?`);\n        if (shouldRedirect) {\n          navigate('/global-surveys');\n          return;\n        }\n      } else {\n        alert(`Sekce \"${card.title}\" je globální a spravuje ji administrátor.\\n\\n` + `Tato sekce je automaticky zahrnuta do všech dotazníků a nelze ji zde upravovat.`);\n        return;\n      }\n    }\n    onActiveCardChange(cardIndex);\n  };\n  const canDeleteCard = (card, cardIndex) => {\n    // Cannot delete system cards or admin cards\n    // Cannot delete if it's the only user card\n    const userCards = survey.cards.filter(c => !c.isAdminOnly && !c.isSystem);\n    return !card.isAdminOnly && !card.isSystem && userCards.length > 1;\n  };\n  const addNewCard = () => {\n    const userCards = survey.cards.filter(c => !c.isAdminOnly && !c.isSystem);\n    const newCardNumber = userCards.length + 1;\n    const lastAdminCardIndex = survey.cards.length - 1; // Last card is always admin \"Závěrečná sekce\"\n\n    const newCard = {\n      id: Date.now(),\n      title: `Krok ${newCardNumber}`,\n      description: `Uživatelská sekce ${newCardNumber}`,\n      isAdminOnly: false,\n      isEditable: true,\n      steps: []\n    };\n    onSurveyChange(prev => {\n      const newCards = [...prev.cards];\n      // Insert before the last admin card\n      newCards.splice(lastAdminCardIndex, 0, newCard);\n      return {\n        ...prev,\n        cards: newCards\n      };\n    });\n  };\n  const deleteCard = cardIndex => {\n    const card = survey.cards[cardIndex];\n    if (!canDeleteCard(card, cardIndex)) return;\n    if (window.confirm(`Opravdu chcete smazat \"${card.title}\"? Všechny bloky v této sekci budou ztraceny.`)) {\n      onSurveyChange(prev => ({\n        ...prev,\n        cards: prev.cards.filter((_, index) => index !== cardIndex)\n      }));\n\n      // Adjust active card index if needed\n      if (activeCardIndex === cardIndex) {\n        // Move to the previous card or first editable card\n        const newActiveIndex = cardIndex > 0 ? cardIndex - 1 : 0;\n        onActiveCardChange(newActiveIndex);\n      } else if (activeCardIndex > cardIndex) {\n        onActiveCardChange(activeCardIndex - 1);\n      }\n    }\n  };\n  const renameCard = (cardIndex, newTitle) => {\n    onSurveyChange(prev => ({\n      ...prev,\n      cards: prev.cards.map((card, index) => index === cardIndex ? {\n        ...card,\n        title: newTitle\n      } : card)\n    }));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'column',\n      height: '100%'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundColor: '#f8f9fa',\n        padding: '12px 20px',\n        borderBottom: '2px solid #dee2e6',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        gap: '15px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          gap: '10px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            fontWeight: 'bold',\n            color: '#495057',\n            fontSize: '14px'\n          },\n          children: \"\\uD83D\\uDCCB Spr\\xE1va krok\\u016F:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3611,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: addNewCard,\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            gap: '5px',\n            padding: '8px 12px',\n            backgroundColor: 'var(--color-green)',\n            color: 'white',\n            border: 'none',\n            borderRadius: '4px',\n            fontSize: '13px',\n            fontWeight: 'bold',\n            cursor: 'pointer',\n            transition: 'all 0.2s ease'\n          },\n          onMouseEnter: e => e.target.style.backgroundColor = '#218838',\n          onMouseLeave: e => e.target.style.backgroundColor = 'var(--color-green)',\n          title: \"P\\u0159idat nov\\xFD krok mezi u\\u017Eivatelsk\\xE9 sekce\",\n          children: \"\\u2795 P\\u0159idat krok\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3619,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 3610,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          gap: '15px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"small\", {\n          style: {\n            color: '#6c757d',\n            fontSize: '12px'\n          },\n          children: \"\\uD83D\\uDCA1 Tip: Kliknut\\xEDm na krok ho aktivujete, syst\\xE9mov\\xE9 kroky \\uD83D\\uDD12 m\\u016F\\u017Ee editovat pouze admin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3644,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            backgroundColor: '#e9ecef',\n            padding: '4px 8px',\n            borderRadius: '4px',\n            fontSize: '12px',\n            fontWeight: 'bold',\n            color: '#495057'\n          },\n          children: [survey.cards.filter(card => !card.isSystem).length, \" \", survey.cards.filter(card => !card.isSystem).length === 1 ? 'krok' : survey.cards.filter(card => !card.isSystem).length < 5 ? 'kroky' : 'kroků']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3648,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 3643,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 3601,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        borderBottom: '1px solid #dee2e6',\n        backgroundColor: '#f8f9fa',\n        borderRadius: '0'\n      },\n      children: survey.cards.filter(card => !card.isSystem) // Hide system cards from the interface\n      .map((card, filteredIndex) => {\n        // Find the original index in the unfiltered array\n        const originalIndex = survey.cards.findIndex(c => c.id === card.id);\n        return /*#__PURE__*/_jsxDEV(CardTab, {\n          card: card,\n          index: originalIndex,\n          isActive: activeCardIndex === originalIndex,\n          canEdit: canEditCard(card),\n          canDelete: canDeleteCard(card, originalIndex),\n          isAdmin: isAdmin,\n          onClick: () => handleCardClick(originalIndex),\n          onDelete: () => deleteCard(originalIndex),\n          onRename: newTitle => renameCard(originalIndex, newTitle)\n        }, card.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3674,\n          columnNumber: 15\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 3662,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        flex: 1,\n        backgroundColor: 'white'\n      },\n      children: survey.cards[activeCardIndex] && /*#__PURE__*/_jsxDEV(SurveyCanvas, {\n        steps: survey.cards[activeCardIndex].steps,\n        onStepsChange: newSteps => handleStepsChange(activeCardIndex, newSteps),\n        onEditStep: onEditStep,\n        onDeleteStep: stepId => onDeleteStep(stepId, activeCardIndex),\n        cardInfo: survey.cards[activeCardIndex],\n        canEdit: canEditCard(survey.cards[activeCardIndex]),\n        isAdmin: isAdmin\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3693,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 3691,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 3599,\n    columnNumber: 5\n  }, this);\n};\n\n// New CardTab component for individual card management\n_s0(SurveyCardManager, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});\n_c1 = SurveyCardManager;\nconst CardTab = ({\n  card,\n  index,\n  isActive,\n  canEdit,\n  canDelete,\n  isAdmin,\n  onClick,\n  onDelete,\n  onRename\n}) => {\n  _s1();\n  const [isEditing, setIsEditing] = React.useState(false);\n  const [editTitle, setEditTitle] = React.useState(card.title);\n  const handleDoubleClick = () => {\n    if (canEdit && !card.isAdminOnly) {\n      setIsEditing(true);\n      setEditTitle(card.title);\n    }\n  };\n  const handleKeyPress = e => {\n    if (e.key === 'Enter') {\n      handleSaveEdit();\n    } else if (e.key === 'Escape') {\n      setIsEditing(false);\n      setEditTitle(card.title);\n    }\n  };\n  const handleSaveEdit = () => {\n    if (editTitle.trim() && editTitle !== card.title) {\n      onRename(editTitle.trim());\n    }\n    setIsEditing(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    onClick: !isEditing ? onClick : undefined,\n    onDoubleClick: handleDoubleClick,\n    style: {\n      flex: 1,\n      padding: '15px 20px',\n      cursor: isEditing ? 'default' : 'pointer',\n      backgroundColor: isActive ? '#007bff' : 'transparent',\n      color: isActive ? 'white' : card.isAdminOnly && !isAdmin ? '#999' : '#495057',\n      borderBottom: isActive ? '3px solid #0056b3' : '3px solid transparent',\n      transition: 'all 0.2s ease',\n      opacity: card.isAdminOnly && !isAdmin ? 0.6 : 1,\n      position: 'relative',\n      minWidth: '180px'\n    },\n    onMouseEnter: e => {\n      if (!isActive && (canEdit || !card.isAdminOnly) && !isEditing) {\n        e.target.style.backgroundColor = '#e9ecef';\n      }\n    },\n    onMouseLeave: e => {\n      if (!isActive && !isEditing) {\n        e.target.style.backgroundColor = 'transparent';\n      }\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          flex: 1\n        },\n        children: [isEditing ? /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: editTitle,\n          onChange: e => setEditTitle(e.target.value),\n          onBlur: handleSaveEdit,\n          onKeyDown: handleKeyPress,\n          style: {\n            backgroundColor: 'white',\n            color: '#000',\n            border: '2px solid #007bff',\n            borderRadius: '3px',\n            padding: '4px 8px',\n            fontSize: '14px',\n            fontWeight: 'bold',\n            width: '100%',\n            outline: 'none'\n          },\n          autoFocus: true,\n          onClick: e => e.stopPropagation()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3766,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"h5\", {\n          style: {\n            margin: '0 0 4px 0',\n            fontSize: '14px',\n            fontWeight: 'bold'\n          },\n          children: [card.title, card.isAdminOnly && /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              marginLeft: '8px',\n              fontSize: '12px',\n              backgroundColor: 'var(--color-red)',\n              color: 'white',\n              padding: '2px 6px',\n              borderRadius: '3px'\n            },\n            children: \"Admin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3790,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3787,\n          columnNumber: 13\n        }, this), !isEditing && /*#__PURE__*/_jsxDEV(\"small\", {\n          style: {\n            opacity: 0.8,\n            fontSize: '11px',\n            display: 'block'\n          },\n          children: card.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3805,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 3764,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'flex-end',\n          gap: '2px',\n          marginLeft: '10px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            backgroundColor: isActive ? 'rgba(255,255,255,0.2)' : '#6c757d',\n            color: 'white',\n            borderRadius: '12px',\n            padding: '2px 8px',\n            fontSize: '11px',\n            fontWeight: 'bold'\n          },\n          children: [\"Krok \", index + 1]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3816,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            backgroundColor: isActive ? 'rgba(255,255,255,0.1)' : 'var(--color-green)',\n            color: 'white',\n            borderRadius: '8px',\n            padding: '1px 6px',\n            fontSize: '10px',\n            fontWeight: 'bold'\n          },\n          children: [card.steps.length, \" \", card.steps.length === 1 ? 'blok' : card.steps.length < 5 ? 'bloky' : 'bloků']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3827,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 3815,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 3763,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        top: '4px',\n        right: '4px',\n        display: 'flex',\n        gap: '4px',\n        opacity: isActive ? 1 : 0.7\n      },\n      children: [!canEdit && /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          fontSize: '16px'\n        },\n        children: \"\\uD83D\\uDD12\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3850,\n        columnNumber: 11\n      }, this), canDelete && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: e => {\n          e.stopPropagation();\n          onDelete();\n        },\n        style: {\n          background: 'none',\n          border: 'none',\n          fontSize: '14px',\n          cursor: 'pointer',\n          padding: '2px',\n          borderRadius: '2px',\n          color: isActive ? 'rgba(255,255,255,0.8)' : 'var(--color-red)'\n        },\n        title: \"Smazat tento krok\",\n        onMouseEnter: e => e.target.style.backgroundColor = 'rgba(220, 53, 69, 0.1)',\n        onMouseLeave: e => e.target.style.backgroundColor = 'transparent',\n        children: \"\\u274C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3854,\n        columnNumber: 11\n      }, this), canEdit && !card.isAdminOnly && !isEditing && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: e => {\n          e.stopPropagation();\n          handleDoubleClick();\n        },\n        style: {\n          background: 'none',\n          border: 'none',\n          fontSize: '12px',\n          cursor: 'pointer',\n          padding: '2px',\n          borderRadius: '2px',\n          color: isActive ? 'rgba(255,255,255,0.8)' : '#6c757d'\n        },\n        title: \"P\\u0159ejmenovat krok (nebo dvojklik)\",\n        onMouseEnter: e => e.target.style.backgroundColor = 'rgba(108, 117, 125, 0.1)',\n        onMouseLeave: e => e.target.style.backgroundColor = 'transparent',\n        children: \"\\u270F\\uFE0F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3877,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 3841,\n      columnNumber: 7\n    }, this), !isEditing && canEdit && !card.isAdminOnly && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        bottom: '2px',\n        left: '50%',\n        transform: 'translateX(-50%)',\n        fontSize: '9px',\n        opacity: 0.6,\n        color: isActive ? 'rgba(255,255,255,0.6)' : '#6c757d'\n      },\n      children: \"Dvojklik = p\\u0159ejmenovat\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 3901,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 3737,\n    columnNumber: 5\n  }, this);\n};\n\n// Wrapper component to handle URL parameters\n_s1(CardTab, \"7bqWmh2AMxZz67jXf2FSUs0EuDs=\");\n_c10 = CardTab;\nconst SurveyCreatorWithParams = () => {\n  _s10();\n  const {\n    surveyId\n  } = useParams();\n  return /*#__PURE__*/_jsxDEV(SurveyCreator, {\n    editingSurveyId: surveyId\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 3920,\n    columnNumber: 10\n  }, this);\n};\n\n// Wrapper component for Global Surveys mode\n_s10(SurveyCreatorWithParams, \"MdB8Sr1WnEWzxZzD0EGOcNwQx4g=\", false, function () {\n  return [useParams];\n});\n_c11 = SurveyCreatorWithParams;\nconst GlobalSurveysCreator = () => {\n  return /*#__PURE__*/_jsxDEV(SurveyCreator, {\n    globalMode: true\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 3925,\n    columnNumber: 10\n  }, this);\n};\n_c12 = GlobalSurveysCreator;\nconst SurveyList = () => {\n  _s11();\n  const {\n    user\n  } = useAuth();\n  const navigate = useNavigate();\n  const [surveys, setSurveys] = React.useState([]);\n  const [loading, setLoading] = React.useState(true);\n  const [error, setError] = React.useState(null);\n\n  // Fetch surveys\n  React.useEffect(() => {\n    fetchSurveys();\n  }, []);\n  const fetchSurveys = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const response = await fetch('/api/surveys', {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        setSurveys(data.surveys || []);\n      } else {\n        throw new Error('Chyba při načítání dotazníků');\n      }\n    } catch (error) {\n      console.error('Error fetching surveys:', error);\n      setError(error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleEdit = survey => {\n    navigate(`/survey-creator/edit/${survey.id}`);\n  };\n  const handleDelete = async (surveyId, surveyTitle) => {\n    if (window.confirm(`Opravdu chcete smazat dotazník \"${surveyTitle}\"?`)) {\n      try {\n        const response = await fetch(`/api/surveys/${surveyId}`, {\n          method: 'DELETE',\n          headers: {\n            'Authorization': `Bearer ${localStorage.getItem('token')}`\n          }\n        });\n        if (response.ok) {\n          await fetchSurveys();\n          alert('Dotazník byl smazán');\n        } else {\n          throw new Error('Chyba při mazání dotazníku');\n        }\n      } catch (error) {\n        console.error('Error deleting survey:', error);\n        alert('Chyba při mazání dotazníku: ' + error.message);\n      }\n    }\n  };\n  const getStatusColor = status => {\n    switch (status) {\n      case 'active':\n        return 'var(--color-tag-bg-green)';\n      case 'draft':\n        return 'var(--color-tag-bg-yellow)';\n      case 'paused':\n        return 'var(--color-tag-bg-red)';\n      case 'completed':\n        return 'var(--color-tag-bg-blue)';\n      default:\n        return 'var(--color-tag-bg-gray)';\n    }\n  };\n  const getStatusTextColor = status => {\n    switch (status) {\n      case 'active':\n        return 'var(--color-tag-text-green)';\n      case 'draft':\n        return 'var(--color-tag-text-yellow)';\n      case 'paused':\n        return 'var(--color-tag-text-red)';\n      case 'completed':\n        return 'var(--color-tag-text-blue)';\n      default:\n        return 'var(--color-tag-text-gray)';\n    }\n  };\n  const getStatusText = status => {\n    switch (status) {\n      case 'active':\n        return 'Aktivní';\n      case 'draft':\n        return 'Koncept';\n      case 'paused':\n        return 'Pozastaveno';\n      case 'completed':\n        return 'Dokončeno';\n      default:\n        return status;\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '20px'\n      },\n      children: \"Na\\u010D\\xEDt\\xE1n\\xED dotazn\\xEDk\\u016F...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 4025,\n      columnNumber: 12\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: 'red',\n          marginBottom: '10px'\n        },\n        children: [\"Chyba: \", error]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 4031,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: fetchSurveys,\n        style: {\n          padding: '8px 16px',\n          backgroundColor: '#007bff',\n          color: 'white',\n          border: 'none',\n          borderRadius: '4px'\n        },\n        children: \"Zkusit znovu\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 4032,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 4030,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '20px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        marginBottom: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Seznam dotazn\\xEDk\\u016F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 4042,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: '14px',\n          color: '#6c757d'\n        },\n        children: (user === null || user === void 0 ? void 0 : user.role) === 'admin' ? 'Zobrazeny všechny dotazníky' : 'Zobrazeny vaše dotazníky'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 4043,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 4041,\n      columnNumber: 7\n    }, this), surveys.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: 'center',\n        padding: '40px',\n        color: '#6c757d'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u017D\\xE1dn\\xE9 dotazn\\xEDky nebyly nalezeny.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 4050,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Za\\u010Dn\\u011Bte vytvo\\u0159en\\xEDm nov\\xE9ho dotazn\\xEDku v Tvorba dotazn\\xEDku.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 4051,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 4049,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        overflowX: 'auto',\n        borderRadius: '8px'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        style: {\n          width: '100%',\n          borderCollapse: 'collapse',\n          fontSize: '14px',\n          border: '1.5px solid rgb(50, 70, 90)',\n          borderRadius: '8px',\n          overflow: 'hidden'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            style: {\n              backgroundColor: '#f8f9fa',\n              border: '1px solid #dee2e6'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                padding: '12px',\n                textAlign: 'left',\n                minWidth: '150px',\n                border: '1px solid #dee2e6'\n              },\n              children: \"Datum a \\u010Das\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4067,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                padding: '12px',\n                textAlign: 'left',\n                border: '1px solid #dee2e6',\n                fontWeight: 'bold'\n              },\n              children: \"N\\xE1zev\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4068,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                padding: '12px',\n                textAlign: 'left',\n                border: '1px solid #dee2e6',\n                fontWeight: 'bold'\n              },\n              children: \"Vlastn\\xEDk\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4069,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                padding: '12px',\n                textAlign: 'left',\n                border: '1px solid #dee2e6',\n                fontWeight: 'bold'\n              },\n              children: \"Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4070,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                padding: '12px',\n                textAlign: 'center',\n                border: '1px solid #dee2e6',\n                fontWeight: 'bold'\n              },\n              children: \"Aktivn\\xED tokeny\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4071,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                padding: '12px',\n                textAlign: 'left',\n                border: '1px solid #dee2e6',\n                fontWeight: 'bold'\n              },\n              children: \"Vytvo\\u0159eno\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4072,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                padding: '12px',\n                textAlign: 'left',\n                border: '1px solid #dee2e6',\n                fontWeight: 'bold'\n              },\n              children: \"Upraveno\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4073,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                padding: '12px',\n                textAlign: 'center',\n                border: '1px solid #dee2e6',\n                fontWeight: 'bold'\n              },\n              children: \"Akce\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4074,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 4066,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 4065,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: surveys.map((survey, idx) => /*#__PURE__*/_jsxDEV(\"tr\", {\n            style: {\n              backgroundColor: survey.id % 2 === 0 ? '#f9f9f9' : 'white'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                padding: '12px',\n                borderBottom: idx === surveys.length - 1 ? 'none' : '1px solid #dee2e6'\n              },\n              children: [new Date(survey.created_at).toLocaleString('cs-CZ'), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '11px',\n                  color: '#6c757d'\n                },\n                children: new Date(survey.created_at).toLocaleTimeString('cs-CZ', {\n                  hour: '2-digit',\n                  minute: '2-digit'\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4082,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 4080,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                padding: '12px',\n                borderBottom: idx === surveys.length - 1 ? 'none' : '1px solid #dee2e6'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontWeight: 'bold',\n                  marginBottom: '4px'\n                },\n                children: survey.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4090,\n                columnNumber: 21\n              }, this), survey.description && /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '12px',\n                  color: '#6c757d',\n                  maxWidth: '200px',\n                  overflow: 'hidden',\n                  textOverflow: 'ellipsis'\n                },\n                children: survey.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4092,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 4089,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                padding: '12px',\n                borderBottom: idx === surveys.length - 1 ? 'none' : '1px solid #dee2e6'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontWeight: 'bold'\n                },\n                children: survey.owner_username\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4098,\n                columnNumber: 21\n              }, this), (user === null || user === void 0 ? void 0 : user.role) === 'admin' && survey.user_id !== user.id && /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '11px',\n                  color: 'var(--color-red)',\n                  fontWeight: 'bold'\n                },\n                children: \"CIZ\\xCD\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4100,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 4097,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                padding: '12px',\n                borderBottom: idx === surveys.length - 1 ? 'none' : '1px solid #dee2e6'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  padding: '4px 8px',\n                  borderRadius: '8px',\n                  backgroundColor: getStatusColor(survey.status),\n                  color: getStatusTextColor(survey.status),\n                  fontSize: '12px',\n                  fontWeight: 'bold'\n                },\n                children: getStatusText(survey.status)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4104,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4103,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                padding: '12px',\n                borderBottom: idx === surveys.length - 1 ? 'none' : '1px solid #dee2e6',\n                textAlign: 'center'\n              },\n              children: [survey.is_active ? /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  padding: '4px 8px',\n                  borderRadius: '8px',\n                  backgroundColor: 'var(--color-tag-bg-green)',\n                  color: 'var(--color-tag-text-green)',\n                  fontSize: '12px',\n                  fontWeight: 'bold'\n                },\n                children: \"AKTIVN\\xCD\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4117,\n                columnNumber: 23\n              }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  padding: '4px 8px',\n                  borderRadius: '8px',\n                  backgroundColor: 'var(--color-tag-bg-gray)',\n                  color: 'var(--color-tag-text-gray)',\n                  fontSize: '12px',\n                  fontWeight: 'bold'\n                },\n                children: \"NEAKTIVN\\xCD\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4128,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '11px',\n                  color: '#6c757d',\n                  marginTop: '2px'\n                },\n                children: [survey.token_count || 0, \" token\\u016F\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 4139,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 4115,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                padding: '12px',\n                borderBottom: idx === surveys.length - 1 ? 'none' : '1px solid #dee2e6',\n                fontSize: '13px'\n              },\n              children: [new Date(survey.created_at).toLocaleDateString('cs-CZ', {\n                day: '2-digit',\n                month: '2-digit',\n                year: 'numeric'\n              }), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '11px',\n                  color: '#6c757d'\n                },\n                children: new Date(survey.created_at).toLocaleTimeString('cs-CZ', {\n                  hour: '2-digit',\n                  minute: '2-digit'\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4149,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 4143,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                padding: '12px',\n                borderBottom: idx === surveys.length - 1 ? 'none' : '1px solid #dee2e6',\n                fontSize: '13px'\n              },\n              children: [new Date(survey.updated_at).toLocaleDateString('cs-CZ', {\n                day: '2-digit',\n                month: '2-digit',\n                year: 'numeric'\n              }), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '11px',\n                  color: '#6c757d'\n                },\n                children: new Date(survey.updated_at).toLocaleTimeString('cs-CZ', {\n                  hour: '2-digit',\n                  minute: '2-digit'\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4162,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 4156,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                padding: '12px',\n                borderBottom: idx === surveys.length - 1 ? 'none' : '1px solid #dee2e6',\n                textAlign: 'center'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  flexDirection: 'column',\n                  gap: '4px',\n                  alignItems: 'center'\n                },\n                children: [((user === null || user === void 0 ? void 0 : user.role) === 'admin' || survey.user_id === (user === null || user === void 0 ? void 0 : user.id)) && /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handleEdit(survey),\n                    style: {\n                      padding: '4px 8px',\n                      backgroundColor: 'var(--color-yellow)',\n                      border: 'none',\n                      borderRadius: '3px',\n                      fontSize: '12px',\n                      cursor: 'pointer',\n                      minWidth: '60px'\n                    },\n                    title: \"Upravit dotazn\\xEDk\",\n                    children: \"Upravit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4173,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handleDelete(survey.id, survey.title),\n                    style: {\n                      padding: '4px 8px',\n                      backgroundColor: 'var(--color-red)',\n                      color: 'white',\n                      border: 'none',\n                      borderRadius: '3px',\n                      fontSize: '12px',\n                      cursor: 'pointer',\n                      minWidth: '60px'\n                    },\n                    title: \"Smazat dotazn\\xEDk\",\n                    children: \"Smazat\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4188,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true), (user === null || user === void 0 ? void 0 : user.role) !== 'admin' && survey.user_id !== (user === null || user === void 0 ? void 0 : user.id) && /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    fontSize: '12px',\n                    color: '#6c757d',\n                    fontStyle: 'italic'\n                  },\n                  children: \"Pouze zobrazen\\xED\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4207,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 4170,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4169,\n              columnNumber: 19\n            }, this)]\n          }, survey.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 4079,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 4077,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 4055,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 4054,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 4040,\n    columnNumber: 5\n  }, this);\n};\n_s11(SurveyList, \"MWX4MroRltCJHEaE3gvlmp+D0jo=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c13 = SurveyList;\nconst TokenList = () => {\n  _s12();\n  const {\n    user\n  } = useAuth();\n  const [tokens, setTokens] = React.useState([]);\n  const [surveys, setSurveys] = React.useState([]);\n  const [loading, setLoading] = React.useState(true);\n  const [error, setError] = React.useState(null);\n  const [showCreateForm, setShowCreateForm] = React.useState(false);\n  const [newToken, setNewToken] = React.useState({\n    surveyId: '',\n    allowedDomains: '',\n    validFrom: '',\n    validTo: ''\n  });\n\n  // Fetch tokens and surveys\n  React.useEffect(() => {\n    fetchTokens();\n    fetchSurveys();\n  }, []);\n  const fetchTokens = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const response = await fetch('/api/tokens', {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        setTokens(data.tokens || []);\n      } else {\n        throw new Error('Chyba při načítání tokenů');\n      }\n    } catch (error) {\n      console.error('Error fetching tokens:', error);\n      setError(error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const fetchSurveys = async () => {\n    try {\n      const response = await fetch('/api/surveys', {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        setSurveys(data.surveys || []);\n      }\n    } catch (error) {\n      console.error('Error fetching surveys:', error);\n    }\n  };\n  const handleCreateToken = async e => {\n    e.preventDefault();\n    if (!newToken.surveyId) {\n      alert('Vyberte prosím dotazník');\n      return;\n    }\n    try {\n      const response = await fetch('/api/tokens', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        },\n        body: JSON.stringify({\n          survey_id: newToken.surveyId,\n          allowed_domains: newToken.allowedDomains.split('\\n').filter(d => d.trim()),\n          valid_from: newToken.validFrom || null,\n          valid_until: newToken.validTo || null\n        })\n      });\n      if (response.ok) {\n        await fetchTokens();\n        setShowCreateForm(false);\n        setNewToken({\n          surveyId: '',\n          allowedDomains: '',\n          validFrom: '',\n          validTo: ''\n        });\n        alert('Token byl úspěšně vytvořen!');\n      } else {\n        const errorData = await response.json();\n        throw new Error(errorData.error || 'Chyba při vytváření tokenu');\n      }\n    } catch (error) {\n      console.error('Error creating token:', error);\n      alert('Chyba při vytváření tokenu: ' + error.message);\n    }\n  };\n  const handleToggleStatus = async (tokenId, currentStatus) => {\n    const newStatus = currentStatus === 'active' ? 'paused' : 'active';\n    const action = newStatus === 'active' ? 'obnovit' : 'pozastavit';\n    const endpoint = newStatus === 'active' ? 'resume' : 'pause';\n    if (window.confirm(`Opravdu chcete ${action} tento token?`)) {\n      try {\n        const response = await fetch(`/api/tokens/${tokenId}/${endpoint}`, {\n          method: 'PATCH',\n          headers: {\n            'Authorization': `Bearer ${localStorage.getItem('token')}`\n          }\n        });\n        if (response.ok) {\n          await fetchTokens();\n          alert(`Token byl ${newStatus === 'active' ? 'obnoven' : 'pozastaven'}`);\n        } else {\n          throw new Error('Chyba při změně statusu');\n        }\n      } catch (error) {\n        console.error('Error updating token:', error);\n        alert('Chyba při změně statusu: ' + error.message);\n      }\n    }\n  };\n  const handleDeleteToken = async (tokenId, tokenName) => {\n    if (window.confirm(`Opravdu chcete smazat token \"${tokenName}\"?`)) {\n      try {\n        const response = await fetch(`/api/tokens/${tokenId}`, {\n          method: 'DELETE',\n          headers: {\n            'Authorization': `Bearer ${localStorage.getItem('token')}`\n          }\n        });\n        if (response.ok) {\n          await fetchTokens();\n          alert('Token byl smazán');\n        } else {\n          throw new Error('Chyba při mazání tokenu');\n        }\n      } catch (error) {\n        console.error('Error deleting token:', error);\n        alert('Chyba při mazání tokenu: ' + error.message);\n      }\n    }\n  };\n  const copyToClipboard = text => {\n    navigator.clipboard.writeText(text).then(() => {\n      alert('Kód byl zkopírován do schránky!');\n    }).catch(() => {\n      alert('Chyba při kopírování do schránky');\n    });\n  };\n  const getStatusColor = status => {\n    return status === 'active' ? 'var(--color-green)' : 'var(--color-gray)';\n  };\n  const getStatusText = status => {\n    return status === 'active' ? 'Aktivní' : 'Pozastaveno';\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '20px'\n      },\n      children: \"Na\\u010D\\xEDt\\xE1n\\xED token\\u016F...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 4391,\n      columnNumber: 12\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: 'red',\n          marginBottom: '10px'\n        },\n        children: [\"Chyba: \", error]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 4397,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: fetchTokens,\n        style: {\n          padding: '8px 16px',\n          backgroundColor: '#007bff',\n          color: 'white',\n          border: 'none',\n          borderRadius: '4px'\n        },\n        children: \"Zkusit znovu\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 4398,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 4396,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '20px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        marginBottom: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Tokenizace doatazn\\xEDk\\u016F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 4408,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: '14px',\n          color: '#6c757d'\n        },\n        children: (user === null || user === void 0 ? void 0 : user.role) === 'admin' ? 'Zobrazeny všechny tokeny' : 'Zobrazeny vaše tokeny'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 4409,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 4407,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundColor: '#e3f2fd',\n        border: '1px solid #2196f3',\n        borderRadius: '8px',\n        padding: '16px',\n        marginBottom: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          marginBottom: '8px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            fontSize: '20px',\n            marginRight: '8px'\n          },\n          children: \"\\uD83D\\uDCE1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 4422,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n          style: {\n            color: '#1976d2'\n          },\n          children: \"EMBEDOV\\xC1N\\xCD WIDGET\\u016E\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 4423,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 4421,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          margin: '0',\n          color: '#1976d2',\n          fontSize: '14px'\n        },\n        children: \"Vytvo\\u0159te tokeny pro embedov\\xE1n\\xED dotazn\\xEDk\\u016F na extern\\xED weby. Ka\\u017Ed\\xFD token generuje JavaScript soubor, kter\\xFD m\\u016F\\u017Eete vlo\\u017Eit na va\\u0161e str\\xE1nky.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 4425,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 4414,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        marginBottom: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Seznam token\\u016F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 4432,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setShowCreateForm(true),\n        style: {\n          padding: '8px 16px',\n          backgroundColor: 'var(--color-green)',\n          color: 'white',\n          border: 'none',\n          borderRadius: '4px',\n          cursor: 'pointer'\n        },\n        children: \"\\u2795 Tokenise survey (Add)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 4433,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 4431,\n      columnNumber: 7\n    }, this), showCreateForm && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundColor: '#f8f9fa',\n        border: '1px solid #dee2e6',\n        borderRadius: '8px',\n        padding: '20px',\n        marginBottom: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Vytvo\\u0159it nov\\xFD token\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 4456,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleCreateToken,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '15px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'block',\n              marginBottom: '5px',\n              fontWeight: 'bold'\n            },\n            children: \"Vyberte dotazn\\xEDk *\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4459,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: newToken.surveyId,\n            onChange: e => setNewToken({\n              ...newToken,\n              surveyId: e.target.value\n            }),\n            style: {\n              width: '100%',\n              padding: '8px',\n              border: '1px solid #ccc',\n              borderRadius: '4px'\n            },\n            required: true,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"-- Vyberte dotazn\\xEDk --\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4468,\n              columnNumber: 17\n            }, this), surveys.map(survey => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: survey.id,\n              children: [survey.title, \" (\", getStatusText(survey.status), \")\"]\n            }, survey.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 4470,\n              columnNumber: 19\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 4462,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 4458,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '15px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'block',\n              marginBottom: '5px',\n              fontWeight: 'bold'\n            },\n            children: \"Povolen\\xE9 dom\\xE9ny (whitelist)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4478,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            value: newToken.allowedDomains,\n            onChange: e => setNewToken({\n              ...newToken,\n              allowedDomains: e.target.value\n            }),\n            placeholder: \"example.com\\nsubdomain.example.com\\n*.example.org\",\n            style: {\n              width: '100%',\n              padding: '8px',\n              border: '1px solid #ccc',\n              borderRadius: '4px',\n              minHeight: '80px',\n              resize: 'vertical'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4481,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n            style: {\n              color: '#6c757d'\n            },\n            children: \"Zadejte ka\\u017Edou dom\\xE9nu na nov\\xFD \\u0159\\xE1dek. Nechte pr\\xE1zdn\\xE9 pro povolen\\xED v\\u0161ech dom\\xE9n.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4494,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 4477,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: '15px',\n            marginBottom: '15px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              flex: 1\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                display: 'block',\n                marginBottom: '5px',\n                fontWeight: 'bold'\n              },\n              children: \"Platnost od\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4501,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"datetime-local\",\n              value: newToken.validFrom,\n              onChange: e => setNewToken({\n                ...newToken,\n                validFrom: e.target.value\n              }),\n              style: {\n                width: '100%',\n                padding: '8px',\n                border: '1px solid #ccc',\n                borderRadius: '4px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4504,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 4500,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              flex: 1\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                display: 'block',\n                marginBottom: '5px',\n                fontWeight: 'bold'\n              },\n              children: \"Platnost do\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4512,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"datetime-local\",\n              value: newToken.validTo,\n              onChange: e => setNewToken({\n                ...newToken,\n                validTo: e.target.value\n              }),\n              style: {\n                width: '100%',\n                padding: '8px',\n                border: '1px solid #ccc',\n                borderRadius: '4px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4515,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 4511,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 4499,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: '10px',\n            justifyContent: 'flex-end'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => {\n              setShowCreateForm(false);\n              setNewToken({\n                surveyId: '',\n                allowedDomains: '',\n                validFrom: '',\n                validTo: ''\n              });\n            },\n            style: {\n              padding: '8px 16px',\n              backgroundColor: '#6c757d',\n              color: 'white',\n              border: 'none',\n              borderRadius: '4px'\n            },\n            children: \"Zru\\u0161it\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4525,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            style: {\n              padding: '8px 16px',\n              backgroundColor: 'var(--color-green)',\n              color: 'white',\n              border: 'none',\n              borderRadius: '4px'\n            },\n            children: \"Vytvo\\u0159it token\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4535,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 4524,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 4457,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 4449,\n      columnNumber: 9\n    }, this), tokens.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: 'center',\n        padding: '40px',\n        color: '#6c757d'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u017D\\xE1dn\\xE9 tokeny nebyly nalezeny.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 4548,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Za\\u010Dn\\u011Bte vytvo\\u0159en\\xEDm nov\\xE9ho tokenu pro embedov\\xE1n\\xED dotazn\\xEDk\\u016F.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 4549,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 4547,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        overflowX: 'auto',\n        borderRadius: '8px'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        style: {\n          width: '100%',\n          borderCollapse: 'collapse',\n          fontSize: '14px',\n          borderRadius: '8px',\n          overflow: 'hidden'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            style: {\n              backgroundColor: '#f8f9fa'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                padding: '12px',\n                textAlign: 'left',\n                border: '1px solid #dee2e6',\n                fontWeight: 'bold'\n              },\n              children: \"Token ID\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4562,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                padding: '12px',\n                textAlign: 'left',\n                border: '1px solid #dee2e6',\n                fontWeight: 'bold'\n              },\n              children: \"Dotazn\\xEDk\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4563,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                padding: '12px',\n                textAlign: 'left',\n                border: '1px solid #dee2e6',\n                fontWeight: 'bold'\n              },\n              children: \"Vlastn\\xEDk\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4564,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                padding: '12px',\n                textAlign: 'center',\n                border: '1px solid #dee2e6',\n                fontWeight: 'bold'\n              },\n              children: \"Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4565,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                padding: '12px',\n                textAlign: 'left',\n                border: '1px solid #dee2e6',\n                fontWeight: 'bold'\n              },\n              children: \"Platnost\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4566,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                padding: '12px',\n                textAlign: 'left',\n                border: '1px solid #dee2e6',\n                fontWeight: 'bold'\n              },\n              children: \"Embed k\\xF3d\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4567,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                padding: '12px',\n                textAlign: 'center',\n                border: '1px solid #dee2e6',\n                fontWeight: 'bold'\n              },\n              children: \"Statistiky\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4568,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                padding: '12px',\n                textAlign: 'center',\n                border: '1px solid #dee2e6',\n                fontWeight: 'bold'\n              },\n              children: \"Akce\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4569,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 4561,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 4560,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: tokens.map(token => /*#__PURE__*/_jsxDEV(\"tr\", {\n            style: {\n              backgroundColor: token.id % 2 === 0 ? '#f9f9f9' : 'white'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                padding: '12px',\n                border: '1px solid #dee2e6'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"code\", {\n                style: {\n                  backgroundColor: '#f8f9fa',\n                  padding: '2px 4px',\n                  borderRadius: '3px',\n                  fontSize: '12px'\n                },\n                children: token.token_id\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4576,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4575,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                padding: '12px',\n                border: '1px solid #dee2e6'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontWeight: 'bold'\n                },\n                children: token.survey_title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4586,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '12px',\n                  color: '#6c757d'\n                },\n                children: [\"ID: \", token.survey_id]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 4587,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 4585,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                padding: '12px',\n                border: '1px solid #dee2e6'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontWeight: 'bold'\n                },\n                children: token.owner_username\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4590,\n                columnNumber: 21\n              }, this), (user === null || user === void 0 ? void 0 : user.role) === 'admin' && token.user_id !== user.id && /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '11px',\n                  color: 'var(--color-red)',\n                  fontWeight: 'bold'\n                },\n                children: \"CIZ\\xCD\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4592,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 4589,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                padding: '12px',\n                border: '1px solid #dee2e6',\n                textAlign: 'center'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  padding: '4px 8px',\n                  borderRadius: '12px',\n                  backgroundColor: token.status === 'active' ? 'var(--color-yellow)' : 'var(--color-green)',\n                  color: 'white',\n                  fontSize: '12px',\n                  fontWeight: 'bold'\n                },\n                children: getStatusText(token.status)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4596,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4595,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                padding: '12px',\n                border: '1px solid #dee2e6',\n                fontSize: '13px'\n              },\n              children: [token.valid_from && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Od:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4610,\n                  columnNumber: 25\n                }, this), \" \", new Date(token.valid_from).toLocaleDateString('cs-CZ')]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 4609,\n                columnNumber: 23\n              }, this), token.valid_to && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Do:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4615,\n                  columnNumber: 25\n                }, this), \" \", new Date(token.valid_to).toLocaleDateString('cs-CZ')]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 4614,\n                columnNumber: 23\n              }, this), !token.valid_from && !token.valid_to && /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: '#6c757d',\n                  fontStyle: 'italic'\n                },\n                children: \"Bez omezen\\xED\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4619,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 4607,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                padding: '12px',\n                border: '1px solid #dee2e6'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  backgroundColor: '#f8f9fa',\n                  border: '1px solid #dee2e6',\n                  borderRadius: '4px',\n                  padding: '8px',\n                  fontSize: '12px',\n                  fontFamily: 'monospace',\n                  marginBottom: '5px'\n                },\n                children: `<script src=\"${window.location.origin}/widget_${token.token_id}.js\"></script>`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4623,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  gap: '4px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => copyToClipboard(`<script src=\"${window.location.origin}/widget_${token.token_id}.js\"></script>`),\n                  style: {\n                    padding: '4px 8px',\n                    backgroundColor: '#17a2b8',\n                    color: 'white',\n                    border: 'none',\n                    borderRadius: '3px',\n                    fontSize: '11px',\n                    cursor: 'pointer'\n                  },\n                  title: \"Zkop\\xEDrovat do schr\\xE1nky\",\n                  children: \"\\uD83D\\uDCCB Kop\\xEDrovat\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4635,\n                  columnNumber: 24\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => window.open(`/widget_${token.token_id}.html`, '_blank'),\n                  style: {\n                    padding: '4px 8px',\n                    backgroundColor: '#',\n                    color: 'white',\n                    border: 'none',\n                    borderRadius: '3px',\n                    fontSize: '11px',\n                    cursor: 'pointer'\n                  },\n                  title: \"Zobrazit n\\xE1hled widgetu\",\n                  children: \"\\uD83D\\uDC41\\uFE0F N\\xE1hled\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4650,\n                  columnNumber: 24\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 4634,\n                columnNumber: 42\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 4622,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                padding: '12px',\n                border: '1px solid #dee2e6',\n                textAlign: 'center'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => window.open(`/statistics/${token.survey_id}`, '_blank'),\n                style: {\n                  padding: '6px 12px',\n                  backgroundColor: '#6f42c1',\n                  color: 'white',\n                  border: 'none',\n                  borderRadius: '4px',\n                  fontSize: '12px',\n                  cursor: 'pointer',\n                  fontWeight: 'bold'\n                },\n                title: \"Zobrazit statistiky dotazn\\xEDku\",\n                children: \"\\uD83D\\uDCCA Statistiky\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4668,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4667,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                padding: '12px',\n                border: '1px solid #dee2e6',\n                textAlign: 'center'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  flexDirection: 'column',\n                  gap: '4px',\n                  alignItems: 'center'\n                },\n                children: [((user === null || user === void 0 ? void 0 : user.role) === 'admin' || token.user_id === (user === null || user === void 0 ? void 0 : user.id)) && /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handleToggleStatus(token.id, token.status),\n                    style: {\n                      padding: '4px 8px',\n                      backgroundColor: token.status === 'active' ? 'var(--color-yellow)' : 'var(--color-green)',\n                      color: token.status === 'active' ? 'black' : 'white',\n                      border: 'none',\n                      borderRadius: '3px',\n                      fontSize: '12px',\n                      cursor: 'pointer',\n                      minWidth: '70px'\n                    },\n                    title: token.status === 'active' ? 'Pozastavit token' : 'Obnovit token',\n                    children: token.status === 'active' ? 'Pozastavit' : 'Obnovit'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4689,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handleDeleteToken(token.id, token.token_id),\n                    style: {\n                      padding: '4px 8px',\n                      backgroundColor: 'var(--color-red)',\n                      color: 'white',\n                      border: 'none',\n                      borderRadius: '3px',\n                      fontSize: '12px',\n                      cursor: 'pointer',\n                      minWidth: '70px'\n                    },\n                    title: \"Smazat token\",\n                    children: \"Smazat\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4706,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true), (user === null || user === void 0 ? void 0 : user.role) !== 'admin' && token.user_id !== (user === null || user === void 0 ? void 0 : user.id) && /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    fontSize: '12px',\n                    color: '#6c757d',\n                    fontStyle: 'italic'\n                  },\n                  children: \"Pouze zobrazen\\xED\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4726,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 4686,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4685,\n              columnNumber: 19\n            }, this)]\n          }, token.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 4574,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 4572,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 4553,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 4552,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 4406,\n    columnNumber: 5\n  }, this);\n};\n_s12(TokenList, \"3qZds/BhFhG4HzgaFRSnWI3Yh7o=\", false, function () {\n  return [useAuth];\n});\n_c14 = TokenList;\nconst UserList = () => {\n  _s13();\n  const [users, setUsers] = React.useState([]);\n  const [loading, setLoading] = React.useState(true);\n  const [editingUser, setEditingUser] = React.useState(null);\n  const [showCreateForm, setShowCreateForm] = React.useState(false);\n\n  // Fetch users\n  React.useEffect(() => {\n    fetchUsers();\n  }, []);\n  const fetchUsers = async () => {\n    try {\n      setLoading(true);\n      const response = await fetch('/api/users', {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        // Handle API response format - it returns {users: [...], pagination: {...}}\n        setUsers(data.users || data);\n      }\n    } catch (error) {\n      console.error('Error fetching users:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleEdit = user => {\n    setEditingUser({\n      ...user,\n      newPassword: ''\n    });\n  };\n  const handleSave = async () => {\n    try {\n      const {\n        id,\n        newPassword,\n        ...updateData\n      } = editingUser;\n      if (newPassword) {\n        updateData.password = newPassword;\n      }\n      const response = await fetch(`/api/users/${id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        },\n        body: JSON.stringify(updateData)\n      });\n      if (response.ok) {\n        await fetchUsers();\n        setEditingUser(null);\n        alert('Uživatel byl úspěšně upraven');\n      } else {\n        alert('Chyba při ukládání uživatele');\n      }\n    } catch (error) {\n      console.error('Error saving user:', error);\n      alert('Chyba při ukládání uživatele');\n    }\n  };\n  const handleDelete = async (userId, username) => {\n    if (window.confirm(`Opravdu chcete smazat uživatele \"${username}\"?`)) {\n      try {\n        const response = await fetch(`/api/users/${userId}`, {\n          method: 'DELETE',\n          headers: {\n            'Authorization': `Bearer ${localStorage.getItem('token')}`\n          }\n        });\n        if (response.ok) {\n          await fetchUsers();\n          alert('Uživatel byl smazán');\n        } else {\n          alert('Chyba při mazání uživatele');\n        }\n      } catch (error) {\n        console.error('Error deleting user:', error);\n        alert('Chyba při mazání uživatele');\n      }\n    }\n  };\n  const handleCreate = async userData => {\n    try {\n      const response = await fetch('/api/users', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        },\n        body: JSON.stringify(userData)\n      });\n      if (response.ok) {\n        await fetchUsers();\n        setShowCreateForm(false);\n        alert('Uživatel byl vytvořen');\n      } else {\n        const error = await response.json();\n        alert('Chyba při vytváření uživatele: ' + error.error);\n      }\n    } catch (error) {\n      console.error('Error creating user:', error);\n      alert('Chyba při vytváření uživatele');\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '20px'\n      },\n      children: \"Na\\u010D\\xEDt\\xE1n\\xED u\\u017Eivatel\\u016F...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 4855,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '20px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        marginBottom: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Spr\\xE1va u\\u017Eivatel\\u016F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 4861,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setShowCreateForm(true),\n        style: {\n          padding: '8px 16px',\n          backgroundColor: 'var(--color-green)',\n          color: 'white',\n          border: 'none',\n          borderRadius: '4px'\n        },\n        children: \"P\\u0159idat u\\u017Eivatele\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 4862,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 4860,\n      columnNumber: 7\n    }, this), showCreateForm && /*#__PURE__*/_jsxDEV(UserForm, {\n      onSave: handleCreate,\n      onCancel: () => setShowCreateForm(false),\n      title: \"Vytvo\\u0159it nov\\xE9ho u\\u017Eivatele\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 4871,\n      columnNumber: 9\n    }, this), editingUser && /*#__PURE__*/_jsxDEV(UserForm, {\n      user: editingUser,\n      onSave: () => handleSave(),\n      onCancel: () => setEditingUser(null),\n      onChange: setEditingUser,\n      title: \"Upravit u\\u017Eivatele\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 4879,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      style: {\n        width: '100%',\n        borderCollapse: 'collapse',\n        marginTop: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          style: {\n            backgroundColor: '#f8f9fa'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            style: {\n              padding: '12px',\n              textAlign: 'left',\n              border: '1px solid #dee2e6'\n            },\n            children: \"U\\u017Eivatelsk\\xE9 jm\\xE9no\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4891,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: {\n              padding: '12px',\n              textAlign: 'left',\n              border: '1px solid #dee2e6'\n            },\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4892,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: {\n              padding: '12px',\n              textAlign: 'left',\n              border: '1px solid #dee2e6'\n            },\n            children: \"Role\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4893,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: {\n              padding: '12px',\n              textAlign: 'left',\n              border: '1px solid #dee2e6'\n            },\n            children: \"Vytvo\\u0159eno\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4894,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: {\n              padding: '12px',\n              textAlign: 'left',\n              border: '1px solid #dee2e6'\n            },\n            children: \"Akce\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4895,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 4890,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 4889,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: users.map(user => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            style: {\n              padding: '12px',\n              border: '1px solid #dee2e6'\n            },\n            children: user.username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4901,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            style: {\n              padding: '12px',\n              border: '1px solid #dee2e6'\n            },\n            children: user.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4902,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            style: {\n              padding: '12px',\n              border: '1px solid #dee2e6'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                padding: '4px 8px',\n                borderRadius: '8px',\n                backgroundColor: user.role === 'admin' ? 'var(--color-tag-bg-red)' : 'var(--color-tag-bg-green)',\n                color: user.role === 'admin' ? '#B32222' : '#368537',\n                fontSize: '12px'\n              },\n              children: user.role\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4904,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4903,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            style: {\n              padding: '12px',\n              border: '1px solid #dee2e6'\n            },\n            children: new Date(user.created_at).toLocaleDateString('cs-CZ')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4914,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            style: {\n              padding: '12px',\n              border: '1px solid #dee2e6'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleEdit(user),\n              style: {\n                padding: '4px 8px',\n                marginRight: '8px',\n                backgroundColor: '#ffc107',\n                border: 'none',\n                borderRadius: '3px'\n              },\n              children: \"Upravit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4918,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleDelete(user.id, user.username),\n              style: {\n                padding: '4px 8px',\n                backgroundColor: 'var(--color-red)',\n                color: 'white',\n                border: 'none',\n                borderRadius: '3px'\n              },\n              children: \"Smazat\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4924,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 4917,\n            columnNumber: 15\n          }, this)]\n        }, user.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 4900,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 4898,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 4888,\n      columnNumber: 7\n    }, this), users.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: 'center',\n        padding: '40px',\n        color: '#6c757d'\n      },\n      children: \"\\u017D\\xE1dn\\xED u\\u017Eivatel\\xE9 nebyli nalezeni\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 4937,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 4859,\n    columnNumber: 5\n  }, this);\n};\n_s13(UserList, \"cP0Vu17ntunKO1KyeB5orVUOKDw=\");\n_c15 = UserList;\nconst AuditLogs = () => {\n  _s14();\n  const [logs, setLogs] = React.useState([]);\n  const [loading, setLoading] = React.useState(true);\n  const [filters, setFilters] = React.useState({\n    eventType: '',\n    userId: '',\n    dateFrom: '',\n    dateTo: '',\n    page: 1,\n    limit: 50\n  });\n\n  // Fetch logs\n  React.useEffect(() => {\n    fetchLogs();\n  }, [filters]);\n  const fetchLogs = async () => {\n    try {\n      setLoading(true);\n      const queryParams = new URLSearchParams();\n\n      // Map frontend filters to backend API parameters\n      if (filters.eventType) queryParams.append('action', filters.eventType);\n      if (filters.userId) queryParams.append('user_id', filters.userId);\n      if (filters.dateFrom) queryParams.append('from_date', filters.dateFrom + 'T00:00:00Z');\n      if (filters.dateTo) queryParams.append('to_date', filters.dateTo + 'T23:59:59Z');\n      if (filters.page) queryParams.append('page', filters.page);\n      if (filters.limit) queryParams.append('limit', filters.limit);\n      const response = await fetch(`/api/logs?${queryParams}`, {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        setLogs(data.logs || data);\n      }\n    } catch (error) {\n      console.error('Error fetching logs:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleFilterChange = (field, value) => {\n    setFilters(prev => ({\n      ...prev,\n      [field]: value,\n      page: 1\n    }));\n  };\n  const getEventTypeColor = eventType => {\n    const colors = {\n      'LOGIN': 'var(--color-green)',\n      'LOGOUT': 'var(--color-gray)',\n      'CREATE': 'var(--color-blue)',\n      'UPDATE': 'var(--color-yellow)',\n      'DELETE': 'var(--color-red)',\n      'TOKEN_CREATE': '#17a2b8',\n      'TOKEN_PAUSE': '#fd7e14',\n      'TOKEN_RESUME': '#20c997',\n      'TOKEN_DELETE': '#e83e8c',\n      'SURVEY_DELIVERY': '#6f42c1'\n    };\n    return colors[eventType] || 'var(--color-gray)';\n  };\n  const formatEventDescription = log => {\n    switch (log.action) {\n      case 'LOGIN':\n        return `Uživatel se přihlásil`;\n      case 'LOGOUT':\n        return `Uživatel se odhlásil`;\n      case 'CREATE':\n        return `Vytvořil ${log.resource_type}: ${log.resource_id}`;\n      case 'UPDATE':\n        return `Upravil ${log.resource_type}: ${log.resource_id}`;\n      case 'DELETE':\n        return `Smazal ${log.resource_type}: ${log.resource_id}`;\n      case 'TOKEN_CREATE':\n        return `Vytvořil token pro survey: ${log.resource_id}`;\n      case 'TOKEN_PAUSE':\n        return `Pozastavil token: ${log.resource_id}`;\n      case 'TOKEN_RESUME':\n        return `Obnovil token: ${log.resource_id}`;\n      case 'TOKEN_DELETE':\n        return `Smazal token: ${log.resource_id}`;\n      case 'SURVEY_DELIVERY':\n        return `Survey doručen přes token: ${log.resource_id}`;\n      default:\n        return log.action;\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '20px'\n      },\n      children: \"Na\\u010D\\xEDt\\xE1n\\xED audit log\\u016F...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 5040,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '20px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Z\\xE1znamy\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 5045,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: '#6c757d',\n        marginBottom: '20px'\n      },\n      children: \"Kompletn\\xED z\\xE1znam v\\u0161ech aktivit v syst\\xE9mu\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 5046,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundColor: '#f8f9fa',\n        padding: '20px',\n        borderRadius: '8px',\n        marginBottom: '20px',\n        border: '1px solid #dee2e6'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        style: {\n          marginBottom: '15px'\n        },\n        children: \"Filtry\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 5058,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'grid',\n          gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))',\n          gap: '15px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'block',\n              marginBottom: '5px',\n              fontWeight: 'bold'\n            },\n            children: \"Typ ud\\xE1losti\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5061,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: filters.eventType,\n            onChange: e => handleFilterChange('eventType', e.target.value),\n            style: {\n              width: '100%',\n              padding: '8px',\n              border: '1px solid #ced4da',\n              borderRadius: '8px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"V\\u0161echny\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5069,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"LOGIN\",\n              children: \"P\\u0159ihl\\xE1\\u0161en\\xED\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5070,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"LOGOUT\",\n              children: \"Odhl\\xE1\\u0161en\\xED\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5071,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"CREATE\",\n              children: \"Vytvo\\u0159en\\xED\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5072,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"UPDATE\",\n              children: \"\\xDAprava\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5073,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"DELETE\",\n              children: \"Smaz\\xE1n\\xED\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5074,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"TOKEN_CREATE\",\n              children: \"Vytvo\\u0159en\\xED tokenu\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5075,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"TOKEN_PAUSE\",\n              children: \"Pozastaven\\xED tokenu\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5076,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"TOKEN_RESUME\",\n              children: \"Obnoven\\xED tokenu\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5077,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"TOKEN_DELETE\",\n              children: \"Smaz\\xE1n\\xED tokenu\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5078,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"SURVEY_DELIVERY\",\n              children: \"Doru\\u010Den\\xED survey\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5079,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 5064,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 5060,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'block',\n              marginBottom: '5px',\n              fontWeight: 'bold'\n            },\n            children: \"Od data\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5084,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            value: filters.dateFrom,\n            onChange: e => handleFilterChange('dateFrom', e.target.value),\n            placeholder: \"dd/mm/rrrr\",\n            style: {\n              width: '100%',\n              padding: '8px',\n              border: '1px solid #ced4da',\n              borderRadius: '8px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5087,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 5083,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'block',\n              marginBottom: '5px',\n              fontWeight: 'bold'\n            },\n            children: \"Do data\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5097,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            value: filters.dateTo,\n            onChange: e => handleFilterChange('dateTo', e.target.value),\n            placeholder: \"dd/mm/rrrr\",\n            style: {\n              width: '100%',\n              padding: '8px',\n              border: '1px solid #ced4da',\n              borderRadius: '8px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5100,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 5096,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'block',\n              marginBottom: '5px',\n              fontWeight: 'bold'\n            },\n            children: \"ID u\\u017Eivatele\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5110,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: filters.userId,\n            onChange: e => handleFilterChange('userId', e.target.value),\n            placeholder: \"nap\\u0159. 1\",\n            style: {\n              width: '100%',\n              padding: '8px',\n              border: '1px solid #ced4da',\n              borderRadius: '8px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5113,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 5109,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 5059,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '15px'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setFilters({\n            eventType: '',\n            userId: '',\n            dateFrom: '',\n            dateTo: '',\n            page: 1,\n            limit: 50\n          }),\n          style: {\n            padding: '8px 16px',\n            backgroundColor: '#6c757d',\n            color: 'white',\n            border: 'none'\n          },\n          children: \"Vymazat filtry\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 5124,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 5123,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 5051,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        overflowX: 'auto'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        style: {\n          width: '100%',\n          borderCollapse: 'collapse',\n          fontSize: '14px',\n          overflow: 'hidden'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            style: {\n              backgroundColor: '#f8f9fa'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                padding: '12px',\n                textAlign: 'left',\n                border: '1px solid #dee2e6',\n                minWidth: '150px'\n              },\n              children: \"Datum a \\u010Das\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5138,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                padding: '12px',\n                textAlign: 'left',\n                border: '1px solid #dee2e6',\n                minWidth: '80px'\n              },\n              children: \"U\\u017Eivatel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5139,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                padding: '12px',\n                textAlign: 'left',\n                border: '1px solid #dee2e6',\n                minWidth: '120px'\n              },\n              children: \"Typ ud\\xE1losti\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5140,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                padding: '12px',\n                textAlign: 'left',\n                border: '1px solid #dee2e6',\n                minWidth: '200px'\n              },\n              children: \"Popis\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5141,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                padding: '12px',\n                textAlign: 'left',\n                border: '1px solid #dee2e6',\n                minWidth: '120px'\n              },\n              children: \"IP adresa\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5142,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                padding: '12px',\n                textAlign: 'left',\n                border: '1px solid #dee2e6',\n                minWidth: '150px'\n              },\n              children: \"User Agent\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5143,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 5137,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 5136,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: logs.map(log => /*#__PURE__*/_jsxDEV(\"tr\", {\n            style: {\n              borderBottom: '1px solid #dee2e6'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                padding: '12px',\n                border: '1px solid #dee2e6'\n              },\n              children: new Date(log.timestamp).toLocaleString('cs-CZ')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5149,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                padding: '12px',\n                border: '1px solid #dee2e6'\n              },\n              children: log.username || log.user_id || 'N/A'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5152,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                padding: '12px',\n                border: '1px solid #dee2e6'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  padding: '4px 8px',\n                  borderRadius: '4px',\n                  backgroundColor: getEventTypeColor(log.action),\n                  color: 'white',\n                  fontSize: '12px',\n                  fontWeight: 'bold'\n                },\n                children: log.action\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 5156,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5155,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                padding: '12px',\n                border: '1px solid #dee2e6'\n              },\n              children: [formatEventDescription(log), log.details && /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '12px',\n                  color: '#6c757d',\n                  marginTop: '4px'\n                },\n                children: typeof log.details === 'string' ? log.details : JSON.stringify(log.details)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 5170,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 5167,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                padding: '12px',\n                border: '1px solid #dee2e6',\n                fontFamily: 'monospace'\n              },\n              children: log.ip_address || 'N/A'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5175,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                padding: '12px',\n                border: '1px solid #dee2e6',\n                fontSize: '12px',\n                color: '#6c757d'\n              },\n              children: log.user_agent ? log.user_agent.substring(0, 50) + (log.user_agent.length > 50 ? '...' : '') : 'N/A'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5178,\n              columnNumber: 17\n            }, this)]\n          }, log.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 5148,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 5146,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 5135,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 5134,\n      columnNumber: 7\n    }, this), logs.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: 'center',\n        padding: '40px',\n        color: '#6c757d'\n      },\n      children: \"\\u017D\\xE1dn\\xE9 audit logy nebyly nalezeny\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 5188,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: '20px',\n        textAlign: 'center',\n        color: '#6c757d'\n      },\n      children: [\"Zobrazeno \", logs.length, \" z\\xE1znam\\u016F\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 5194,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 5044,\n    columnNumber: 5\n  }, this);\n};\n_s14(AuditLogs, \"0C8Erdav4glAGhj3H48vNNyz6jI=\");\n_c16 = AuditLogs;\nconst UserForm = ({\n  user,\n  onSave,\n  onCancel,\n  onChange,\n  title\n}) => {\n  _s15();\n  const [formData, setFormData] = React.useState({\n    username: (user === null || user === void 0 ? void 0 : user.username) || '',\n    email: (user === null || user === void 0 ? void 0 : user.email) || '',\n    password: '',\n    confirmPassword: '',\n    role: (user === null || user === void 0 ? void 0 : user.role) || 'user'\n  });\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (!formData.username || !formData.email) {\n      alert('Uživatelské jméno a email jsou povinné');\n      return;\n    }\n    if (!user && !formData.password) {\n      alert('Heslo je povinné pro nového uživatele');\n      return;\n    }\n    if (formData.password && formData.password !== formData.confirmPassword) {\n      alert('Hesla se neshodují');\n      return;\n    }\n    const dataToSave = {\n      ...formData\n    };\n    if (user && !formData.password) {\n      delete dataToSave.password; // Don't update password if not provided\n    }\n    delete dataToSave.confirmPassword; // Remove confirmPassword from data to save\n\n    if (onChange) {\n      onChange({\n        ...user,\n        ...dataToSave,\n        newPassword: formData.password\n      });\n    } else {\n      onSave(dataToSave);\n    }\n  };\n  const handleChange = (field, value) => {\n    const newData = {\n      ...formData,\n      [field]: value\n    };\n    setFormData(newData);\n    if (onChange) {\n      onChange({\n        ...user,\n        ...newData,\n        newPassword: newData.password\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      backgroundColor: '#f8f9fa',\n      padding: '20px',\n      borderRadius: '8px',\n      marginBottom: '20px',\n      border: '1px solid #dee2e6'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 5254,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '15px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            display: 'block',\n            marginBottom: '5px',\n            fontWeight: 'bold'\n          },\n          children: \"U\\u017Eivatelsk\\xE9 jm\\xE9no *\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 5257,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: formData.username,\n          onChange: e => handleChange('username', e.target.value),\n          style: {\n            width: '100%',\n            padding: '8px',\n            border: '1px solid #ced4da',\n            borderRadius: '4px'\n          },\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 5260,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 5256,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '15px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            display: 'block',\n            marginBottom: '5px',\n            fontWeight: 'bold'\n          },\n          children: \"Email *\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 5270,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          value: formData.email,\n          onChange: e => handleChange('email', e.target.value),\n          style: {\n            width: '100%',\n            padding: '8px',\n            border: '1px solid #ced4da',\n            borderRadius: '4px'\n          },\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 5273,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 5269,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '15px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            display: 'block',\n            marginBottom: '5px',\n            fontWeight: 'bold'\n          },\n          children: user ? 'Nové heslo (ponechte prázdné pro nezměnu)' : 'Heslo *'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 5283,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          value: formData.password,\n          onChange: e => handleChange('password', e.target.value),\n          style: {\n            width: '100%',\n            padding: '8px',\n            border: '1px solid #ced4da',\n            borderRadius: '4px'\n          },\n          required: !user\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 5286,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 5282,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '15px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            display: 'block',\n            marginBottom: '5px',\n            fontWeight: 'bold'\n          },\n          children: user ? 'Potvrzení nového hesla' : 'Potvrzení hesla *'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 5296,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          value: formData.confirmPassword,\n          onChange: e => handleChange('confirmPassword', e.target.value),\n          style: {\n            width: '100%',\n            padding: '8px',\n            border: '1px solid #ced4da',\n            borderRadius: '4px'\n          },\n          required: !user\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 5299,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 5295,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '15px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            display: 'block',\n            marginBottom: '5px',\n            fontWeight: 'bold'\n          },\n          children: \"Role\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 5309,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: formData.role,\n          onChange: e => handleChange('role', e.target.value),\n          style: {\n            width: '100%',\n            padding: '8px',\n            border: '1px solid #ced4da',\n            borderRadius: '4px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"user\",\n            children: \"User\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5317,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"admin\",\n            children: \"Admin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5318,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 5312,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 5308,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          gap: '10px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          style: {\n            padding: '8px 16px',\n            backgroundColor: 'var(--color-green)',\n            color: 'white',\n            border: 'none',\n            borderRadius: '4px'\n          },\n          children: user ? 'Uložit změny' : 'Vytvořit uživatele'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 5323,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: onCancel,\n          style: {\n            padding: '8px 16px',\n            backgroundColor: '#6c757d',\n            color: 'white',\n            border: 'none',\n            borderRadius: '4px'\n          },\n          children: \"Zru\\u0161it\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 5329,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 5322,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 5255,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 5247,\n    columnNumber: 5\n  }, this);\n};\n_s15(UserForm, \"Svqymadk/6mW/0V+ZSoqPdnhFoI=\");\n_c17 = UserForm;\nconst Settings = () => {\n  _s16();\n  const {\n    user,\n    updateProfile\n  } = useAuth();\n  const [formData, setFormData] = React.useState({\n    username: (user === null || user === void 0 ? void 0 : user.username) || '',\n    email: (user === null || user === void 0 ? void 0 : user.email) || '',\n    currentPassword: '',\n    newPassword: '',\n    confirmPassword: ''\n  });\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (formData.newPassword && formData.newPassword !== formData.confirmPassword) {\n      alert('Nové heslo a potvrzení hesla se neshodují');\n      return;\n    }\n    const updateData = {\n      username: formData.username,\n      email: formData.email\n    };\n    if (formData.newPassword) {\n      updateData.currentPassword = formData.currentPassword;\n      updateData.newPassword = formData.newPassword;\n    }\n    const result = await updateProfile(updateData);\n    if (result.success) {\n      alert('Profil byl úspěšně aktualizován');\n      setFormData(prev => ({\n        ...prev,\n        currentPassword: '',\n        newPassword: '',\n        confirmPassword: ''\n      }));\n    } else {\n      alert('Chyba při aktualizaci profilu: ' + result.error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"profile-form\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Nastaven\\xED\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 5381,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '28px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Z\\xE1kladn\\xED informace\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 5384,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '18px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"profile-label\",\n            children: \"U\\u017Eivatelsk\\xE9 jm\\xE9no\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5386,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: formData.username,\n            onChange: e => setFormData(prev => ({\n              ...prev,\n              username: e.target.value\n            })),\n            className: \"profile-input\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5387,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 5385,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '18px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"profile-label\",\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5396,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            value: formData.email,\n            onChange: e => setFormData(prev => ({\n              ...prev,\n              email: e.target.value\n            })),\n            className: \"profile-input\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5397,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 5395,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 5383,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '28px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Zm\\u011Bna hesla\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 5407,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"profile-hint\",\n          children: \"Ponechte pr\\xE1zdn\\xE9, pokud nechcete zm\\u011Bnit heslo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 5408,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '18px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"profile-label\",\n            children: \"Sou\\u010Dasn\\xE9 heslo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5410,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            value: formData.currentPassword,\n            onChange: e => setFormData(prev => ({\n              ...prev,\n              currentPassword: e.target.value\n            })),\n            className: \"profile-input\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5411,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 5409,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '18px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"profile-label\",\n            children: \"Nov\\xE9 heslo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5419,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            value: formData.newPassword,\n            onChange: e => setFormData(prev => ({\n              ...prev,\n              newPassword: e.target.value\n            })),\n            className: \"profile-input\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5420,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 5418,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '18px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"profile-label\",\n            children: \"Potvrzen\\xED nov\\xE9ho hesla\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5428,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            value: formData.confirmPassword,\n            onChange: e => setFormData(prev => ({\n              ...prev,\n              confirmPassword: e.target.value\n            })),\n            className: \"profile-input\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5429,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 5427,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 5406,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"button-confirm profile-save-btn\",\n        children: \"Ulo\\u017Eit zm\\u011Bny\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 5437,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 5382,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 5380,\n    columnNumber: 5\n  }, this);\n};\n\n// Layout component with navigation\n_s16(Settings, \"UgRaL+amAnQpYmrI+WnObnelkXc=\", false, function () {\n  return [useAuth];\n});\n_c18 = Settings;\nconst Layout = ({\n  children\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Navigation, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 5447,\n      columnNumber: 7\n    }, this), children]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 5446,\n    columnNumber: 5\n  }, this);\n};\n\n// Protected Route component\n_c19 = Layout;\nconst ProtectedRoute = ({\n  children\n}) => {\n  _s17();\n  const {\n    isAuthenticated,\n    isLoading\n  } = useAuth();\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '20px'\n      },\n      children: \"Na\\u010D\\xEDt\\xE1n\\xED...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 5459,\n      columnNumber: 12\n    }, this);\n  }\n  if (!isAuthenticated) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/login\",\n      replace: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 5463,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 5467,\n    columnNumber: 5\n  }, this);\n};\n\n// Admin-only Route component\n_s17(ProtectedRoute, \"yb/FJYAIXt7wZoU4a4YvGQ4Nlsc=\", false, function () {\n  return [useAuth];\n});\n_c20 = ProtectedRoute;\nconst AdminRoute = ({\n  children\n}) => {\n  _s18();\n  const {\n    user\n  } = useAuth();\n  if ((user === null || user === void 0 ? void 0 : user.role) !== 'admin') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"P\\u0159\\xEDstup odep\\u0159en\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 5480,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Tato str\\xE1nka je dostupn\\xE1 pouze administr\\xE1tor\\u016Fm.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 5481,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 5479,\n      columnNumber: 7\n    }, this);\n  }\n  return children;\n};\n\n// Statistics Component\n_s18(AdminRoute, \"9ep4vdl3mBfipxjmc+tQCDhw6Ik=\", false, function () {\n  return [useAuth];\n});\n_c21 = AdminRoute;\nconst Statistics = () => {\n  _s19();\n  const {\n    user\n  } = useAuth();\n  const location = useLocation();\n  const surveyId = location.pathname.split('/')[2]; // Get surveyId from URL\n  const [statisticsData, setStatisticsData] = React.useState(null);\n  const [loading, setLoading] = React.useState(true);\n  const [error, setError] = React.useState(null);\n  React.useEffect(() => {\n    if (surveyId) {\n      fetchStatistics();\n    }\n  }, [surveyId]);\n  const fetchStatistics = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const response = await fetch(`/api/responses/statistics/${surveyId}`, {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        setStatisticsData(data);\n      } else {\n        throw new Error('Chyba při načítání statistik');\n      }\n    } catch (error) {\n      console.error('Error fetching statistics:', error);\n      setError(error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const renderEmojiStatistics = statistics => {\n    const emojiLabels = ['Very Happy', 'Happy', 'Neutral', 'Sad', 'Very Sad'];\n    const emojiIcons = ['😄', '😊', '😐', '😞', '😠'];\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: '30px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        style: {\n          marginBottom: '15px'\n        },\n        children: \"Emoji hodnocen\\xED\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 5534,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'space-around',\n          marginBottom: '20px'\n        },\n        children: emojiLabels.map((label, index) => {\n          const count = statistics.distribution[label] || 0;\n          const percentage = statistics.totalResponses > 0 ? (count / statistics.totalResponses * 100).toFixed(1) : 0;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              textAlign: 'center',\n              minWidth: '80px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '24px',\n                marginBottom: '8px'\n              },\n              children: emojiIcons[index]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5542,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontWeight: 'bold',\n                fontSize: '18px'\n              },\n              children: count\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5543,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '14px',\n                color: '#666'\n              },\n              children: [percentage, \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 5544,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '12px',\n                color: '#999'\n              },\n              children: label\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5545,\n              columnNumber: 17\n            }, this)]\n          }, label, true, {\n            fileName: _jsxFileName,\n            lineNumber: 5541,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 5535,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '20px'\n        },\n        children: emojiLabels.map((label, index) => {\n          const count = statistics.distribution[label] || 0;\n          const percentage = statistics.totalResponses > 0 ? count / statistics.totalResponses * 100 : 0;\n          const colors = ['#4CAF50', '#8BC34A', '#FFC107', '#FF9800', '#F44336'];\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: '8px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                alignItems: 'center',\n                fontSize: '14px',\n                marginBottom: '4px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  minWidth: '100px'\n                },\n                children: [emojiIcons[index], \" \", label]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 5566,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  marginLeft: '10px',\n                  fontWeight: 'bold'\n                },\n                children: [count, \" (\", percentage.toFixed(1), \"%)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 5567,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 5560,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                height: '8px',\n                backgroundColor: '#f0f0f0',\n                borderRadius: '4px',\n                overflow: 'hidden'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  height: '100%',\n                  width: `${percentage}%`,\n                  backgroundColor: colors[index],\n                  transition: 'width 0.3s ease'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 5575,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5569,\n              columnNumber: 17\n            }, this)]\n          }, label, true, {\n            fileName: _jsxFileName,\n            lineNumber: 5559,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 5552,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 5533,\n      columnNumber: 7\n    }, this);\n  };\n  const renderTextStatistics = statistics => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: '30px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        style: {\n          marginBottom: '15px'\n        },\n        children: \"Textov\\xE9 odpov\\u011Bdi\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 5593,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          maxHeight: '300px',\n          overflowY: 'auto',\n          border: '1px solid #ddd',\n          borderRadius: '4px',\n          padding: '15px'\n        },\n        children: statistics.textResponses && statistics.textResponses.length > 0 ? statistics.textResponses.map((response, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: '10px',\n            borderBottom: index < statistics.textResponses.length - 1 ? '1px solid #eee' : 'none',\n            fontSize: '14px'\n          },\n          children: [\"\\\"\", response, \"\\\"\"]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 5603,\n          columnNumber: 15\n        }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: '#999',\n            fontStyle: 'italic'\n          },\n          children: \"\\u017D\\xE1dn\\xE9 textov\\xE9 odpov\\u011Bdi\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 5612,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 5594,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 5592,\n      columnNumber: 7\n    }, this);\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '40px',\n        textAlign: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: '18px'\n        },\n        children: \"Na\\u010D\\xEDt\\xE1n\\xED statistik...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 5622,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 5621,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '40px',\n        textAlign: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: 'red',\n          fontSize: '18px',\n          marginBottom: '20px'\n        },\n        children: [\"Chyba: \", error]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 5630,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: fetchStatistics,\n        style: {\n          padding: '10px 20px',\n          backgroundColor: 'var(--color-green)',\n          color: 'white',\n          border: 'none',\n          borderRadius: '4px'\n        },\n        children: \"Zkusit znovu\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 5633,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 5629,\n      columnNumber: 7\n    }, this);\n  }\n  if (!statisticsData) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '40px',\n        textAlign: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: '18px',\n          color: '#666'\n        },\n        children: \"Statistiky nenalezeny\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 5652,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 5651,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '20px',\n      maxWidth: '1200px',\n      margin: '0 auto'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: '30px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        style: {\n          marginBottom: '10px'\n        },\n        children: \"\\uD83D\\uDCCA Statistiky dotazn\\xEDku\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 5661,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          color: '#666',\n          fontWeight: 'normal',\n          marginBottom: '10px'\n        },\n        children: statisticsData.survey.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 5662,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          backgroundColor: '#e3f2fd',\n          padding: '15px',\n          borderRadius: '8px',\n          border: '1px solid #2196f3'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: '18px',\n            fontWeight: 'bold',\n            color: '#1976d2'\n          },\n          children: [\"Celkem odpov\\u011Bd\\xED: \", statisticsData.responseCount]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 5671,\n          columnNumber: 11\n        }, this), statisticsData.survey.description && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: '8px',\n            color: '#666'\n          },\n          children: statisticsData.survey.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 5675,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 5665,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 5660,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: '40px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          marginBottom: '20px'\n        },\n        children: \"Statistiky podle ot\\xE1zek\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 5684,\n        columnNumber: 9\n      }, this), Object.keys(statisticsData.statistics).length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: 'center',\n          padding: '40px',\n          backgroundColor: '#f8f9fa',\n          borderRadius: '8px',\n          color: '#666'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: '18px',\n            marginBottom: '10px'\n          },\n          children: \"\\uD83D\\uDCCA\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 5694,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Zat\\xEDm \\u017E\\xE1dn\\xE9 odpov\\u011Bdi k anal\\xFDze\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 5695,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 5687,\n        columnNumber: 11\n      }, this) : Object.entries(statisticsData.statistics).map(([stepId, statistics]) => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          backgroundColor: 'white',\n          border: '1px solid #ddd',\n          borderRadius: '8px',\n          padding: '20px',\n          marginBottom: '20px',\n          boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            marginBottom: '15px',\n            color: '#333',\n            borderBottom: '2px solid #f0f0f0',\n            paddingBottom: '10px'\n          },\n          children: [\"Ot\\xE1zka \", stepId, \" (\", statistics.type, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 5707,\n          columnNumber: 15\n        }, this), statistics.type === 'emoji-rating' && renderEmojiStatistics(statistics), statistics.type === 'text' && renderTextStatistics(statistics)]\n      }, stepId, true, {\n        fileName: _jsxFileName,\n        lineNumber: 5699,\n        columnNumber: 13\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 5683,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: '40px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          marginBottom: '20px'\n        },\n        children: \"Jednotliv\\xE9 odpov\\u011Bdi\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 5725,\n        columnNumber: 9\n      }, this), statisticsData.individualResponses.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: 'center',\n          padding: '40px',\n          backgroundColor: '#f8f9fa',\n          borderRadius: '8px',\n          color: '#666'\n        },\n        children: \"Zat\\xEDm \\u017E\\xE1dn\\xE9 odpov\\u011Bdi\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 5728,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          overflowX: 'auto'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          style: {\n            width: '100%',\n            borderCollapse: 'collapse',\n            fontSize: '14px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              style: {\n                backgroundColor: '#f8f9fa'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  padding: '12px',\n                  textAlign: 'left',\n                  border: '1px solid #dee2e6'\n                },\n                children: \"\\u010Cas odesl\\xE1n\\xED\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 5742,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  padding: '12px',\n                  textAlign: 'left',\n                  border: '1px solid #dee2e6'\n                },\n                children: \"IP adresa\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 5745,\n                columnNumber: 19\n              }, this), Object.keys(statisticsData.statistics).map(stepId => /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  padding: '12px',\n                  textAlign: 'left',\n                  border: '1px solid #dee2e6'\n                },\n                children: [\"Ot\\xE1zka \", stepId]\n              }, stepId, true, {\n                fileName: _jsxFileName,\n                lineNumber: 5750,\n                columnNumber: 21\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 5741,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5740,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: statisticsData.individualResponses.map(response => /*#__PURE__*/_jsxDEV(\"tr\", {\n              style: {\n                borderBottom: '1px solid #dee2e6'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                style: {\n                  padding: '12px',\n                  border: '1px solid #dee2e6'\n                },\n                children: new Date(response.submittedAt).toLocaleString('cs-CZ')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 5759,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                style: {\n                  padding: '12px',\n                  border: '1px solid #dee2e6',\n                  fontFamily: 'monospace'\n                },\n                children: response.ipAddress || 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 5762,\n                columnNumber: 21\n              }, this), Object.keys(statisticsData.statistics).map(stepId => /*#__PURE__*/_jsxDEV(\"td\", {\n                style: {\n                  padding: '12px',\n                  border: '1px solid #dee2e6'\n                },\n                children: response.answers[stepId] ? /*#__PURE__*/_jsxDEV(\"span\", {\n                  title: `Typ: ${response.answers[stepId].type}`,\n                  children: response.answers[stepId].value || 'Bez odpovědi'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 5769,\n                  columnNumber: 27\n                }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    color: '#999',\n                    fontStyle: 'italic'\n                  },\n                  children: \"Bez odpov\\u011Bdi\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 5773,\n                  columnNumber: 27\n                }, this)\n              }, stepId, false, {\n                fileName: _jsxFileName,\n                lineNumber: 5767,\n                columnNumber: 23\n              }, this))]\n            }, response.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 5758,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5756,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 5739,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 5738,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 5724,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: 'center',\n        marginTop: '40px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => window.close(),\n        style: {\n          padding: '12px 24px',\n          backgroundColor: '#6c757d',\n          color: 'white',\n          border: 'none',\n          borderRadius: '4px',\n          fontSize: '16px',\n          marginRight: '10px'\n        },\n        children: \"Zav\\u0159\\xEDt\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 5787,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: fetchStatistics,\n        style: {\n          padding: '12px 24px',\n          backgroundColor: 'var(--color-green)',\n          color: 'white',\n          border: 'none',\n          borderRadius: '4px',\n          fontSize: '16px'\n        },\n        children: \"\\uD83D\\uDD04 Aktualizovat\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 5801,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 5786,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 5658,\n    columnNumber: 5\n  }, this);\n};\n\n// Floating Feedback Widget - System Component (Uneditable)\n// FloatingFeedbackWidget removed - floating icon now only shows in preview (Krok 0a)\n_s19(Statistics, \"tZ3Df28PMLCGV0wDDUihzz4PyQ8=\", false, function () {\n  return [useAuth, useLocation];\n});\n_c22 = Statistics;\nfunction App() {\n  return /*#__PURE__*/_jsxDEV(AuthProvider, {\n    children: [/*#__PURE__*/_jsxDEV(GlobalStyles, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 5825,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Router, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"App\",\n        children: /*#__PURE__*/_jsxDEV(Routes, {\n          children: [/*#__PURE__*/_jsxDEV(Route, {\n            path: \"/login\",\n            element: /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5829,\n              columnNumber: 43\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5829,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/confirm-email\",\n            element: /*#__PURE__*/_jsxDEV(EmailConfirmation, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5830,\n              columnNumber: 51\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5830,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/dashboard\",\n            element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n              children: /*#__PURE__*/_jsxDEV(Dashboard, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 5837,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5836,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5833,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/survey-creator\",\n            element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n              children: /*#__PURE__*/_jsxDEV(SurveyCreator, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 5845,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5844,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5841,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/survey-creator/edit/:surveyId\",\n            element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n              children: /*#__PURE__*/_jsxDEV(SurveyCreatorWithParams, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 5853,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5852,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5849,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/surveys\",\n            element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n              children: /*#__PURE__*/_jsxDEV(SurveyList, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 5861,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5860,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5857,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/global-surveys\",\n            element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n              children: /*#__PURE__*/_jsxDEV(AdminRoute, {\n                children: /*#__PURE__*/_jsxDEV(GlobalSurveysCreator, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 5870,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 5869,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5868,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5865,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/tokens\",\n            element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n              children: /*#__PURE__*/_jsxDEV(TokenList, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 5879,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5878,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5875,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/settings\",\n            element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n              children: /*#__PURE__*/_jsxDEV(Settings, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 5887,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5886,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5883,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/users\",\n            element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n              children: /*#__PURE__*/_jsxDEV(AdminRoute, {\n                children: /*#__PURE__*/_jsxDEV(UserList, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 5898,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 5897,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5896,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5893,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/logs\",\n            element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n              children: /*#__PURE__*/_jsxDEV(AdminRoute, {\n                children: /*#__PURE__*/_jsxDEV(AuditLogs, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 5908,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 5907,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5906,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5903,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/statistics/:surveyId\",\n            element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n              children: /*#__PURE__*/_jsxDEV(Statistics, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 5917,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5916,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5913,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/\",\n            element: /*#__PURE__*/_jsxDEV(Navigate, {\n              to: \"/dashboard\",\n              replace: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5922,\n              columnNumber: 38\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5922,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"*\",\n            element: /*#__PURE__*/_jsxDEV(Navigate, {\n              to: \"/dashboard\",\n              replace: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5923,\n              columnNumber: 38\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5923,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 5828,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 5827,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 5826,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 5824,\n    columnNumber: 5\n  }, this);\n}\n_c23 = App;\nexport default App;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12, _c13, _c14, _c15, _c16, _c17, _c18, _c19, _c20, _c21, _c22, _c23;\n$RefreshReg$(_c, \"EmailConfirmation\");\n$RefreshReg$(_c2, \"Login\");\n$RefreshReg$(_c3, \"Navigation\");\n$RefreshReg$(_c4, \"Dashboard\");\n$RefreshReg$(_c5, \"SurveyCreator\");\n$RefreshReg$(_c6, \"SurveyStepCard\");\n$RefreshReg$(_c7, \"SurveyStepEditor\");\n$RefreshReg$(_c8, \"SurveyPreview\");\n$RefreshReg$(_c9, \"BuildingBlocksPalette\");\n$RefreshReg$(_c0, \"SurveyCanvas\");\n$RefreshReg$(_c1, \"SurveyCardManager\");\n$RefreshReg$(_c10, \"CardTab\");\n$RefreshReg$(_c11, \"SurveyCreatorWithParams\");\n$RefreshReg$(_c12, \"GlobalSurveysCreator\");\n$RefreshReg$(_c13, \"SurveyList\");\n$RefreshReg$(_c14, \"TokenList\");\n$RefreshReg$(_c15, \"UserList\");\n$RefreshReg$(_c16, \"AuditLogs\");\n$RefreshReg$(_c17, \"UserForm\");\n$RefreshReg$(_c18, \"Settings\");\n$RefreshReg$(_c19, \"Layout\");\n$RefreshReg$(_c20, \"ProtectedRoute\");\n$RefreshReg$(_c21, \"AdminRoute\");\n$RefreshReg$(_c22, \"Statistics\");\n$RefreshReg$(_c23, \"App\");","map":{"version":3,"names":["React","useState","BrowserRouter","Router","Routes","Route","Navigate","useNavigate","useParams","useLocation","AuthProvider","useAuth","GlobalStyles","jsxDEV","_jsxDEV","Fragment","_Fragment","EmailConfirmation","_s","pendingConfirmation","confirmEmail","resendConfirmation","cancelConfirmation","isLoading","navigate","confirmationCode","setConfirmationCode","message","setMessage","useEffect","handleSubmit","e","preventDefault","result","success","error","handleResend","handleCancel","style","padding","maxWidth","margin","children","fileName","_jsxFileName","lineNumber","columnNumber","email","backgroundColor","border","borderRadius","marginBottom","fontSize","color","startsWith","onSubmit","type","value","onChange","target","toUpperCase","required","width","textAlign","letterSpacing","placeholder","maxLength","disabled","length","opacity","marginTop","onClick","background","cursor","textDecoration","marginRight","_c","Login","_s2","login","isAuthenticated","formData","FormData","username","get","password","requiresConfirmation","alert","name","height","fontFamily","className","_c2","Navigation","_s3","user","logout","location","menuItems","path","label","visibleTo","filteredItems","filter","item","role","borderBottom","display","justifyContent","alignItems","gap","fontWeight","lineHeight","map","isActive","pathname","transition","_c3","Dashboard","_s4","dashboardItems","title","desc","icon","handleCardClick","index","_c4","SurveyCreator","editingSurveyId","globalMode","_s5","currentStep","setCurrentStep","isEditMode","setIsEditMode","originalSurveyId","setOriginalSurveyId","loadingSurvey","setLoadingSurvey","getInitialSurvey","description","cards","id","isAdminOnly","isEditable","steps","isSystem","question","uneditable","survey","setSurvey","loadGlobalSections","loadSurveyForEditing","loadGlobalSectionsForUserSurvey","response","fetch","headers","localStorage","getItem","ok","data","json","prev","card","introSection","outroSection","console","surveyId","surveyData","config","Error","activeCardIndex","setActiveCardIndex","editingStep","setEditingStep","showStepEditor","setShowStepEditor","draggedStep","setDraggedStep","dragOverIndex","setDragOverIndex","saveSurvey","introCard","find","outroCard","method","body","JSON","stringify","url","flatMap","addStep","stepData","newStep","Date","now","updateStep","step","deleteStep","stepId","cardIndex","window","confirm","moveStep","direction","activeCard","currentIndex","findIndex","newIndex","handleDragStart","dataTransfer","effectAllowed","setData","parentNode","setDragImage","handleDragOver","dropEffect","handleDragLeave","currentTarget","contains","relatedTarget","handleDrop","dropIndex","newSteps","draggedItem","splice","actualDropIndex","handleDragEnd","minHeight","resize","position","href","BuildingBlocksPalette","flex","SurveyCardManager","onActiveCardChange","onSurveyChange","onEditStep","onDeleteStep","borderTop","every","some","SurveyPreview","onClose","SurveyStepEditor","onSave","onCancel","_c5","SurveyStepCard","onEdit","onDelete","onDragStart","isDragging","isInCanvas","canEdit","getStepIcon","getStepTypeName","draggable","undefined","boxShadow","transform","userSelect","options","slice","option","i","flexDirection","_c6","_s6","setFormData","conditionalTriggers","hasTextbox","textboxPlaceholder","newOption","setNewOption","addOption","trim","removeOption","_","top","left","right","bottom","zIndex","maxHeight","overflow","newOptions","onKeyPress","key","checked","optionIndex","trigger","t","marginLeft","optionText","textboxLabel","htmlFor","_c7","_s8","_s7","$RefreshSig$","currentCardIndex","setCurrentCardIndex","previewAnswers","setPreviewAnswers","dropdownStates","setDropdownStates","showScreenshotForm","setShowScreenshotForm","showSuccessScreen","setShowSuccessScreen","showScreenshotSuccess","setShowScreenshotSuccess","SmileyIcon","iconName","state","size","currentState","setCurrentState","getIconPath","stateFolder","src","alt","onMouseEnter","onMouseLeave","getAllCardsWithSteps","getNonSystemCardsWithSteps","allCardsWithSteps","nonSystemCards","totalCards","currentCard","currentBlocks","isSystemCard","renderSmileyRating","smileyIcons","stepKey","Math","random","selectedRating","isSelected","iconState","outline","fontStyle","renderSingleChoice","_step$conditionalTrig","paddingLeft","parseInt","appearance","pointerEvents","paddingTop","paddingRight","paddingBottom","renderMultiSelect","selectedOptions","_step$conditionalTrig2","includes","currentSelected","borderLeft","renderTextInput","renderRatingScale","rating","renderSectionHeader","renderDropdownMultiSelect","isOpen","toggleDropdown","borderWidth","borderStyle","borderColor","viewBox","fill","xmlns","fillRule","clipRule","d","overflowY","flexWrap","textOverflow","whiteSpace","opt","flexShrink","triggerIndex","isTriggered","renderFloatingWidget","feedbackModalIndex","nextNonSystemIndex","renderFeedbackModal","firstNonSystemIndex","renderScreenshotForm","renderSuccessScreen","renderStepContent","block","nonSystemCardsBeforeCurrent","_c8","buildingBlocks","blockType","_c9","SurveyCanvas","onStepsChange","cardInfo","isAdmin","_s9","draggedStepIndex","setDraggedStepIndex","getData","dragData","parse","getDefaultQuestion","getDefaultOptions","conditional","dragIndex","handleStepDragStart","dropZones","push","onDragOver","onDrop","onDragLeave","getEmptyStateContent","content","_c0","_s0","handleStepsChange","canEditCard","isGlobal","shouldRedirect","canDeleteCard","userCards","c","addNewCard","newCardNumber","lastAdminCardIndex","newCard","newCards","deleteCard","newActiveIndex","renameCard","newTitle","filteredIndex","originalIndex","CardTab","canDelete","onRename","_c1","_s1","isEditing","setIsEditing","editTitle","setEditTitle","handleDoubleClick","handleKeyPress","handleSaveEdit","onDoubleClick","minWidth","onBlur","onKeyDown","autoFocus","stopPropagation","_c10","SurveyCreatorWithParams","_s10","_c11","GlobalSurveysCreator","_c12","SurveyList","_s11","surveys","setSurveys","loading","setLoading","setError","fetchSurveys","handleEdit","handleDelete","surveyTitle","getStatusColor","status","getStatusTextColor","getStatusText","overflowX","borderCollapse","idx","created_at","toLocaleString","toLocaleTimeString","hour","minute","owner_username","user_id","is_active","token_count","toLocaleDateString","day","month","year","updated_at","_c13","TokenList","_s12","tokens","setTokens","showCreateForm","setShowCreateForm","newToken","setNewToken","allowedDomains","validFrom","validTo","fetchTokens","handleCreateToken","survey_id","allowed_domains","split","valid_from","valid_until","errorData","handleToggleStatus","tokenId","currentStatus","newStatus","action","endpoint","handleDeleteToken","tokenName","copyToClipboard","text","navigator","clipboard","writeText","then","catch","token","token_id","survey_title","valid_to","origin","open","_c14","UserList","_s13","users","setUsers","editingUser","setEditingUser","fetchUsers","newPassword","handleSave","updateData","userId","handleCreate","userData","UserForm","_c15","AuditLogs","_s14","logs","setLogs","filters","setFilters","eventType","dateFrom","dateTo","page","limit","fetchLogs","queryParams","URLSearchParams","append","handleFilterChange","field","getEventTypeColor","colors","formatEventDescription","log","resource_type","resource_id","gridTemplateColumns","timestamp","details","ip_address","user_agent","substring","_c16","_s15","confirmPassword","dataToSave","handleChange","newData","_c17","Settings","_s16","updateProfile","currentPassword","_c18","Layout","_c19","ProtectedRoute","_s17","to","replace","_c20","AdminRoute","_s18","_c21","Statistics","_s19","statisticsData","setStatisticsData","fetchStatistics","renderEmojiStatistics","statistics","emojiLabels","emojiIcons","count","distribution","percentage","totalResponses","toFixed","renderTextStatistics","textResponses","responseCount","Object","keys","entries","individualResponses","submittedAt","ipAddress","answers","close","_c22","App","element","_c23","$RefreshReg$"],"sources":["C:/Users/simko/Downloads/ZpRopim4/ZpetnaVazbaFinal/client/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate, useNavigate, useParams, useLocation } from 'react-router-dom';\nimport { AuthProvider, useAuth } from './contexts/AuthContext';\nimport GlobalStyles from './styles/GlobalStyles';\n\n// Email Confirmation Component\nconst EmailConfirmation = () => {\n  const { pendingConfirmation, confirmEmail, resendConfirmation, cancelConfirmation, isLoading } = useAuth();\n  const navigate = useNavigate();\n  const [confirmationCode, setConfirmationCode] = React.useState('');\n  const [message, setMessage] = React.useState('');\n\n  React.useEffect(() => {\n    if (!pendingConfirmation) {\n      navigate('/login');\n    }\n  }, [pendingConfirmation, navigate]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setMessage('');\n    \n    try {\n      const result = await confirmEmail(confirmationCode);\n      if (result.success) {\n        navigate('/dashboard');\n      } else {\n        setMessage('Chyba: ' + result.error);\n      }\n    } catch (error) {\n      setMessage('Chyba: ' + error.message);\n    }\n  };\n\n  const handleResend = async () => {\n    setMessage('');\n    try {\n      const result = await resendConfirmation();\n      if (result.success) {\n        setMessage('Potvrzovací email byl znovu odeslán.');\n      } else {\n        setMessage('Chyba: ' + result.error);\n      }\n    } catch (error) {\n      setMessage('Chyba: ' + error.message);\n    }\n  };\n\n  const handleCancel = () => {\n    cancelConfirmation();\n    navigate('/login');\n  };\n\n  if (!pendingConfirmation) {\n    return null;\n  }\n\n  return (\n    <div style={{ padding: '20px', maxWidth: '400px', margin: '100px auto' }}>\n      <h2>Potvrďte svůj email</h2>\n      <p>\n        Na váš email <strong>{pendingConfirmation.email}</strong> jsme vám poslali potvrzovací kód.\n        Zadejte ho níže pro dokončení přihlášení.\n      </p>\n      \n      <div style={{ \n        backgroundColor: '#fff3cd', \n        border: '1px solid #ffeaa7',\n        borderRadius: '4px',\n        padding: '12px',\n        marginBottom: '15px',\n        fontSize: '14px',\n        color: '#856404'\n      }}>\n        <strong>💡 Tip:</strong> Pokud email nevidíte, zkontrolujte prosím složku <strong>spam/nevyžádaná pošta</strong>. \n        Automatické emaily se někdy dostávají do této složky.\n      </div>\n      \n      {message && (\n        <div style={{ \n          padding: '10px', \n          marginBottom: '10px', \n          backgroundColor: message.startsWith('Chyba') ? '#f8d7da' : '#d4edda',\n          color: message.startsWith('Chyba') ? '#721c24' : '#155724',\n          border: '1px solid ' + (message.startsWith('Chyba') ? '#f5c6cb' : '#c3e6cb'),\n          borderRadius: '4px'\n        }}>\n          {message}\n        </div>\n      )}\n      \n      <form onSubmit={handleSubmit}>\n        <div style={{ marginBottom: '15px' }}>\n          <label>Potvrzovací kód:</label>\n          <input \n            type=\"text\" \n            value={confirmationCode}\n            onChange={(e) => setConfirmationCode(e.target.value.toUpperCase())}\n            required \n            style={{ \n              width: '100%', \n              padding: '8px',\n              textAlign: 'center',\n              fontSize: '18px',\n              letterSpacing: '2px'\n            }}\n            placeholder=\"např. A1B2C3\"\n            maxLength={6}\n          />\n        </div>\n        <button \n          type=\"submit\" \n          disabled={isLoading || confirmationCode.length !== 6}\n          style={{ \n            padding: '10px 20px', \n            backgroundColor: 'var(--color-green)', \n            color: 'white', \n            border: 'none',\n            width: '100%',\n            marginBottom: '10px',\n            opacity: (isLoading || confirmationCode.length !== 6) ? 0.6 : 1\n          }}\n        >\n          {isLoading ? 'Ověřuji...' : 'Potvrdit'}\n        </button>\n      </form>\n      \n      <div style={{ textAlign: 'center', marginTop: '15px' }}>\n        <button \n          onClick={handleResend}\n          style={{ \n            background: 'none', \n            border: 'none', \n            color: '#007bff', \n            cursor: 'pointer',\n            textDecoration: 'underline',\n            marginRight: '15px'\n          }}\n        >\n          Odeslat znovu\n        </button>\n        <button \n          onClick={handleCancel}\n          style={{ \n            background: 'none', \n            border: 'none', \n            color: '#6c757d', \n            cursor: 'pointer',\n            textDecoration: 'underline'\n          }}\n        >\n          Zpět na přihlášení\n        </button>\n      </div>\n      \n      <div style={{ marginTop: '20px', fontSize: '14px', color: '#6c757d' }}>\n        <p>Tip: Potvrzovací kód je platný 15 minut a obsahuje 6 znaků (písmena a čísla).</p>\n      </div>\n    </div>\n  );\n};\n\n// Simple Login Component\nconst Login = () => {\n  const { login, isAuthenticated, pendingConfirmation } = useAuth();\n  const navigate = useNavigate();\n\n  // Redirect if already logged in or pending confirmation\n  React.useEffect(() => {\n    if (isAuthenticated) {\n      navigate('/dashboard');\n    } else if (pendingConfirmation) {\n      navigate('/confirm-email');\n    }\n  }, [isAuthenticated, pendingConfirmation, navigate]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const formData = new FormData(e.target);\n    try {\n      const result = await login({\n        username: formData.get('username'),\n        password: formData.get('password')\n      });\n      if (result.success) {\n        if (result.requiresConfirmation) {\n          navigate('/confirm-email');\n        } else {\n          navigate('/dashboard');\n        }\n      } else {\n        alert('Přihlášení se nezdařilo: ' + result.error);\n      }\n    } catch (error) {\n      alert('Přihlášení se nezdařilo: ' + error.message);\n    }\n  };\n\n  return (\n    <div style={{ padding: '20px', maxWidth: '400px', margin: '100px auto' }}>\n      <h2>Zpětná vazba - Přihlášení</h2>\n      <form onSubmit={handleSubmit}>\n        <div style={{ marginBottom: '10px', marginTop: '20px', }}>\n          <input \n            type=\"text\" \n            name=\"username\" \n            placeholder=\"Uživatelské jméno\"\n            required \n            style={{ \n              width: '100%', \n              height: '45px',\n              padding: '8px', \n              borderRadius: '8px',\n              border: '1px solid #ced4da',\n              fontSize: '16px',\n              fontFamily: 'Roboto, sans-serif'\n            }} \n          />\n        </div>\n        <div style={{ marginBottom: '10px' }}>\n          <input \n            type=\"password\" \n            name=\"password\" \n            placeholder=\"Heslo\"\n            required \n            style={{ \n              width: '100%', \n              height: '45px',\n              padding: '8px', \n              borderRadius: '8px',\n              border: '1px solid #ced4da',\n              fontSize: '16px',\n              fontFamily: 'Roboto, sans-serif'\n            }} \n          />\n        </div>\n        <button className='button-confirm' type=\"submit\" style={{height: '45px', borderRadius: '0px'}}>\n          Přihlásit se\n        </button>\n      </form>\n    </div>\n  );\n};\n\n// Navigation Menu Component\nconst Navigation = () => {\n  const { user, logout } = useAuth();\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  const menuItems = [\n    { path: '/dashboard', label: 'Přehled', visibleTo: 'all' },\n    { path: '/survey-creator', label: 'Tvorba dotazníku', visibleTo: 'all' },\n    { path: '/surveys', label: 'Seznam dotazníků', visibleTo: 'all' },\n    { path: '/global-surveys', label: 'Globální dotazníky', visibleTo: 'admin' },\n    { path: '/tokens', label: 'Tokenizace dotazníků', visibleTo: 'all' },\n    { path: '/users', label: 'Uživatelé', visibleTo: 'admin' },\n    { path: '/logs', label: 'Záznamy', visibleTo: 'admin' },\n    { path: '/settings', label: 'Nastavení', visibleTo: 'all' }\n  ];\n\n  const filteredItems = menuItems.filter(item => \n    item.visibleTo === 'all' || (item.visibleTo === 'admin' && user?.role === 'admin')\n  );\n\n  return (\n    <nav style={{ \n      backgroundColor: '#f8f9fa', \n      padding: '10px 20px', \n      borderBottom: '1px solid #dee2e6',\n      display: 'flex',\n      justifyContent: 'space-between',\n      alignItems: 'center'\n    }}>\n      <div style={{ display: 'flex', gap: '20px', alignItems: 'center' }}>\n        <h2 style={{ \n          margin: 0, \n          color: '#262626',\n          fontFamily: 'Roboto, sans-serif',\n          fontWeight: 400,\n          fontSize: '24px',\n          lineHeight: '150%',\n          letterSpacing: '3.12%'\n        }}>Zpětná vazba</h2>\n        <div style={{ display: 'flex', gap: '15px' }}>\n          {filteredItems.map(item => {\n            const isActive = location.pathname === item.path;\n            return (\n              <div\n                key={item.path}\n                onClick={() => navigate(item.path)}\n                style={{\n                  background: 'none',\n                  border: 'none',\n                  borderBottom: isActive ? '3px solid var(--color-green)' : 'none',\n                  cursor: 'pointer',\n                  padding: '5px 10px 8px 10px',\n                  textDecoration: 'none',\n                  fontWeight: isActive ? '600' : '400',\n                  transition: 'all 0.2s ease',\n                  fontFamily: 'Roboto, sans-serif',\n                  fontSize: '16px',\n                  marginBottom: '-20px'\n                }}\n              >\n                {item.label}\n              </div>\n            );\n          })}\n        </div>\n      </div>\n      <div style={{ display: 'flex', alignItems: 'center', gap: '10px' }}>\n        <span>Přihlášen jako: {user?.username}</span>\n        <span style={{ \n          padding: '4px 8px', \n          borderRadius: '8px',\n          backgroundColor: user?.role === 'admin' ? 'var(--color-tag-bg-red)' : 'var(--color-tag-bg-green)',\n          color: user?.role === 'admin' ? '#B32222' : '#368537',\n          fontSize: '12px'\n        }}>\n          {user?.role}\n        </span>\n        <button \n          onClick={logout}\n          style={{ padding: '5px 10px', backgroundColor: 'var(--color-red)', color: 'white', border: 'none', borderRadius: '3px' }}\n        >\n          Odhlásit se\n        </button>\n      </div>\n    </nav>\n  );\n};\n\n// Simple Dashboard Component\nconst Dashboard = () => {\n  const { user } = useAuth();\n  const navigate = useNavigate();\n\n  const dashboardItems = [\n    { title: 'Tvorba dotazníku', desc: 'Vytvářejte nové dotazníky', icon: '📝', path: '/survey-creator', visibleTo: 'all' },\n    { title: 'Seznam dotazníků', desc: 'Spravujte existující dotazníky', icon: '📋', path: '/surveys', visibleTo: 'all' },\n    { title: 'Globální dotazníky', desc: 'Správa globálních sekcí (pouze admin)', icon: '🌐', path: '/global-surveys', visibleTo: 'admin' },\n    { title: 'Tokenizace dotazníků', desc: 'Vytvářejte embedovatelné widgety', icon: '🔗', path: '/tokens', visibleTo: 'all' },\n    { title: 'Uživatelé', desc: 'Správa uživatelů (pouze admin)', icon: '👥', path: '/users', visibleTo: 'admin' },\n    { title: 'Záznamy', desc: 'Audit trail (pouze admin)', icon: '📊', path: '/logs', visibleTo: 'admin' },\n    { title: 'Nastavení', desc: 'Osobní nastavení', icon: '⚙️', path: '/settings', visibleTo: 'all' }\n  ];\n\n  const filteredItems = dashboardItems.filter(item => \n    item.visibleTo === 'all' || (item.visibleTo === 'admin' && user?.role === 'admin')\n  );\n\n  const handleCardClick = (path) => {\n    navigate(path);\n  };\n\n  return (\n    <div className=\"dashboard-container\">\n      <div className=\"dashboard-header\">\n        <h2 className=\"dashboard-title\">\n          Vítejte v systému zpětné vazby!\n        </h2>\n        <p className=\"dashboard-subtitle\">\n          Váš kompletní nástroj pro vytváření a správu dotazníků\n        </p>\n      </div>\n      \n      <div className=\"dashboard-content\">\n        <h3 className=\"dashboard-section-title\">\n          Základní funkcionalita aplikace\n        </h3>\n        \n        <div className=\"dashboard-grid\">\n          {filteredItems.map((item, index) => (\n            <div \n              key={index} \n              className=\"dashboard-card\"\n              onClick={() => handleCardClick(item.path)}\n            >\n              <div className=\"dashboard-card-header\">\n                <span className=\"dashboard-card-icon\">{item.icon}</span>\n                <strong className=\"dashboard-card-title\">\n                  {item.title}\n                </strong>\n              </div>\n              <p className=\"dashboard-card-description\">\n                {item.desc}\n              </p>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// Placeholder components for menu items\nconst SurveyCreator = ({ editingSurveyId = null, globalMode = false }) => {\n  const { user } = useAuth();\n  const navigate = useNavigate();\n  const [currentStep, setCurrentStep] = React.useState(globalMode ? 2 : 1);\n  const [isEditMode, setIsEditMode] = React.useState(!!editingSurveyId);\n  const [originalSurveyId, setOriginalSurveyId] = React.useState(editingSurveyId);\n  const [loadingSurvey, setLoadingSurvey] = React.useState(!!editingSurveyId);\n  \n  // Initialize survey structure based on mode\n  const getInitialSurvey = () => {\n    if (globalMode) {\n      return {\n        title: 'Globální sekce',\n        description: 'Úprava globálních sekcí sdílených napříč všemi průzkumy',\n        cards: [\n          {\n            id: 2,\n            title: 'Úvodní sekce',\n            description: 'Systémová úvodní část (pouze admin)',\n            isAdminOnly: true,\n            isEditable: true,\n            steps: []\n          },\n          {\n            id: 4,\n            title: 'Závěrečná sekce',\n            description: 'Systémová závěrečná část (pouze admin)',\n            isAdminOnly: true,\n            isEditable: true,\n            steps: []\n          }\n        ]\n      };\n    } else {\n      return {\n        title: '',\n        description: '',\n        cards: [\n          {\n            id: 0,\n            title: 'Floating Widget',\n            description: 'Floating feedback widget',\n            isAdminOnly: false,\n            isEditable: false,\n            isSystem: true,\n            steps: [\n              {\n                id: 'floating-widget',\n                type: 'floating-widget',\n                question: 'Floating feedback widget',\n                isSystem: true,\n                uneditable: true\n              }\n            ]\n          },\n          {\n            id: 1,\n            title: 'Feedback Modal',\n            description: 'Feedback options',\n            isAdminOnly: false,\n            isEditable: false,\n            isSystem: true,\n            steps: [\n              {\n                id: 'feedback-modal',\n                type: 'feedback-modal',\n                question: 'Feedback options',\n                isSystem: true,\n                uneditable: true\n              }\n            ]\n          },\n          {\n            id: 2,\n            title: 'Úvodní sekce',\n            description: 'Systémová úvodní část (pouze admin)',\n            isAdminOnly: true,\n            isEditable: false,\n            steps: []\n          },\n          {\n            id: 3,\n            title: 'Hlavní obsah',\n            description: 'Editovatelná část pro uživatele',\n            isAdminOnly: false,\n            isEditable: true,\n            steps: []\n          },\n          {\n            id: 4,\n            title: 'Závěrečná sekce',\n            description: 'Systémová závěrečná část (pouze admin)',\n            isAdminOnly: true,\n            isEditable: false,\n            steps: []\n          }\n        ]\n      };\n    }\n  };\n\n  const [survey, setSurvey] = React.useState(getInitialSurvey());\n\n  // Load existing survey for editing or global sections\n  React.useEffect(() => {\n    if (globalMode) {\n      loadGlobalSections();\n    } else if (editingSurveyId) {\n      loadSurveyForEditing(editingSurveyId);\n    } else {\n      loadGlobalSectionsForUserSurvey();\n    }\n  }, [editingSurveyId, globalMode]);\n\n  const loadGlobalSections = async () => {\n    try {\n      setLoadingSurvey(true);\n      const response = await fetch('/api/global-surveys/sections', {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        setSurvey(prev => ({\n          ...prev,\n          cards: prev.cards.map(card => {\n            if (card.id === 2) { // Úvodní sekce\n              return { ...card, steps: data.introSection || [] };\n            } else if (card.id === 4) { // Závěrečná sekce\n              return { ...card, steps: data.outroSection || [] };\n            }\n            return card;\n          })\n        }));\n      }\n    } catch (error) {\n      console.error('Error loading global sections:', error);\n    } finally {\n      setLoadingSurvey(false);\n    }\n  };\n\n  const loadGlobalSectionsForUserSurvey = async () => {\n    try {\n      const response = await fetch('/api/global-surveys/sections', {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        \n        // Update the intro and outro sections with global content\n        setSurvey(prev => ({\n          ...prev,\n          cards: prev.cards.map(card => {\n            if (card.id === 2) { // Úvodní sekce\n              return { ...card, steps: data.introSection || [] };\n            } else if (card.id === 4) { // Závěrečná sekce\n              return { ...card, steps: data.outroSection || [] };\n            }\n            return card;\n          })\n        }));\n      }\n    } catch (error) {\n      console.error('Error loading global sections:', error);\n    }\n  };\n\n  const loadSurveyForEditing = async (surveyId) => {\n    try {\n      setLoadingSurvey(true);\n      const response = await fetch(`/api/surveys/${surveyId}`, {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n\n      if (response.ok) {\n        const surveyData = await response.json();\n        setSurvey({\n          title: surveyData.title,\n          description: surveyData.description,\n          cards: surveyData.config.cards || survey.cards // Use existing cards as fallback\n        });\n        setIsEditMode(true);\n        setOriginalSurveyId(surveyId);\n      } else {\n        throw new Error('Chyba při načítání dotazníku');\n      }\n    } catch (error) {\n      console.error('Error loading survey:', error);\n      alert('Chyba při načítání dotazníku: ' + error.message);\n      navigate('/surveys');\n    } finally {\n      setLoadingSurvey(false);\n    }\n  };\n\n  const [activeCardIndex, setActiveCardIndex] = React.useState(globalMode ? 0 : 2); // Default to first global card in global mode\n\n  const [editingStep, setEditingStep] = React.useState(null);\n  const [showStepEditor, setShowStepEditor] = React.useState(false);\n  const [draggedStep, setDraggedStep] = React.useState(null);\n  const [dragOverIndex, setDragOverIndex] = React.useState(null);\n\n  const saveSurvey = async () => {\n    try {\n      if (globalMode) {\n        // Save global sections\n        const introCard = survey.cards.find(card => card.id === 2);\n        const outroCard = survey.cards.find(card => card.id === 4);\n        \n        const response = await fetch('/api/global-surveys/sections', {\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${localStorage.getItem('token')}`\n          },\n          body: JSON.stringify({\n            introSection: introCard?.steps || [],\n            outroSection: outroCard?.steps || []\n          })\n        });\n\n        if (response.ok) {\n          alert('Globální sekce byly úspěšně uloženy!');\n        } else {\n          throw new Error('Chyba při ukládání globálních sekcí');\n        }\n      } else {\n        // Regular survey save\n        const url = isEditMode ? `/api/surveys/${originalSurveyId}` : '/api/surveys';\n        const method = isEditMode ? 'PUT' : 'POST';\n        \n        const response = await fetch(url, {\n          method: method,\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${localStorage.getItem('token')}`\n          },\n          body: JSON.stringify({\n            title: survey.title,\n            description: survey.description,\n            config: {\n              cards: survey.cards,\n              steps: survey.cards.flatMap(card => card.steps || [])\n            }\n          })\n        });\n\n        if (response.ok) {\n          if (isEditMode) {\n            alert('Průzkum byl úspěšně aktualizován!');\n            navigate('/surveys');\n          } else {\n            alert('Průzkum byl úspěšně uložen!');\n            // Reset form for new survey\n            setSurvey(getInitialSurvey());\n            setCurrentStep(1);\n          }\n        } else {\n          alert(isEditMode ? 'Chyba při aktualizaci průzkumu' : 'Chyba při ukládání průzkumu');\n        }\n      }\n    } catch (error) {\n      console.error('Error saving survey:', error);\n      alert(globalMode ? 'Chyba při ukládání globálních sekcí' : (isEditMode ? 'Chyba při aktualizaci průzkumu' : 'Chyba při ukládání průzkumu'));\n    }\n  };\n\n  const addStep = (stepData) => {\n    const newStep = {\n      id: Date.now(),\n      ...stepData\n    };\n    setSurvey(prev => ({\n      ...prev,\n      cards: prev.cards.map((card, index) => \n        index === activeCardIndex \n          ? { ...card, steps: [...card.steps, newStep] }\n          : card\n      )\n    }));\n    setShowStepEditor(false);\n    setEditingStep(null);\n  };\n\n  const updateStep = (stepData) => {\n    setSurvey(prev => ({\n      ...prev,\n      cards: prev.cards.map((card, index) => \n        index === activeCardIndex \n          ? { \n              ...card, \n              steps: card.steps.map(step => \n                step.id === editingStep.id ? { ...editingStep, ...stepData } : step\n              )\n            }\n          : card\n      )\n    }));\n    setShowStepEditor(false);\n    setEditingStep(null);\n  };\n\n  const deleteStep = (stepId, cardIndex) => {\n    if (window.confirm('Opravdu chcete smazat tento blok?')) {\n      setSurvey(prev => ({\n        ...prev,\n        cards: prev.cards.map((card, index) => \n          index === cardIndex \n            ? { ...card, steps: card.steps.filter(step => step.id !== stepId) }\n            : card\n        )\n      }));\n    }\n  };\n\n  const moveStep = (stepId, direction) => {\n    const activeCard = survey.cards[activeCardIndex];\n    if (!activeCard) return;\n    \n    const steps = [...activeCard.steps];\n    const currentIndex = steps.findIndex(step => step.id === stepId);\n    const newIndex = direction === 'up' ? currentIndex - 1 : currentIndex + 1;\n    \n    if (newIndex >= 0 && newIndex < steps.length) {\n      [steps[currentIndex], steps[newIndex]] = [steps[newIndex], steps[currentIndex]];\n      setSurvey(prev => ({\n        ...prev,\n        cards: prev.cards.map((card, index) => \n          index === activeCardIndex ? { ...card, steps } : card\n        )\n      }));\n    }\n  };\n\n  // Drag and Drop handlers\n  const handleDragStart = (e, index) => {\n    setDraggedStep(index);\n    e.dataTransfer.effectAllowed = 'move';\n    e.dataTransfer.setData('text/html', e.target.parentNode);\n    e.dataTransfer.setDragImage(e.target, 0, 0);\n  };\n\n  const handleDragOver = (e, index) => {\n    e.preventDefault();\n    e.dataTransfer.dropEffect = 'move';\n    setDragOverIndex(index);\n  };\n\n  const handleDragLeave = (e) => {\n    // Only clear drag over if we're actually leaving the component\n    if (!e.currentTarget.contains(e.relatedTarget)) {\n      setDragOverIndex(null);\n    }\n  };\n\n  const handleDrop = (e, dropIndex) => {\n    e.preventDefault();\n    \n    if (draggedStep === null || draggedStep === dropIndex) {\n      setDraggedStep(null);\n      setDragOverIndex(null);\n      return;\n    }\n\n    const activeCard = survey.cards[activeCardIndex];\n    if (!activeCard) {\n      setDraggedStep(null);\n      setDragOverIndex(null);\n      return;\n    }\n\n    const newSteps = [...activeCard.steps];\n    const draggedItem = newSteps[draggedStep];\n    \n    // Remove dragged item\n    newSteps.splice(draggedStep, 1);\n    \n    // Insert at new position\n    const actualDropIndex = draggedStep < dropIndex ? dropIndex - 1 : dropIndex;\n    newSteps.splice(actualDropIndex, 0, draggedItem);\n    \n    setSurvey(prev => ({\n      ...prev,\n      cards: prev.cards.map((card, index) => \n        index === activeCardIndex ? { ...card, steps: newSteps } : card\n      )\n    }));\n    setDraggedStep(null);\n    setDragOverIndex(null);\n  };\n\n  const handleDragEnd = () => {\n    setDraggedStep(null);\n    setDragOverIndex(null);\n  };\n\n  if (loadingSurvey) {\n    return (\n      <div style={{ padding: '20px', maxWidth: '1200px', margin: '0 auto', textAlign: 'center' }}>\n        <h2>Tvorba dotazníku</h2>\n        <div style={{ marginTop: '50px' }}>\n          <div style={{ fontSize: '18px', marginBottom: '20px' }}>Načítání dotazníku...</div>\n          <div style={{ fontSize: '14px', color: '#6c757d' }}>Prosím počkejte, než se načtou data dotazníku</div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div style={{ padding: '20px', maxWidth: '1200px', margin: '0 auto' }}>\n      <h2>{globalMode ? 'Správa globálních sekcí' : (isEditMode ? 'Editace dotazníku' : 'Tvorba dotazníku')}</h2>\n      <p style={{ color: '#6c757d', marginBottom: '30px' }}>\n        {globalMode \n          ? 'Upravte globální sekce \"Úvodní sekce\" a \"Závěrečná sekce\" sdílené napříč všemi průzkumy' \n          : (isEditMode ? 'Upravujte existující průzkum a změny budou uloženy jako nová verze' : 'Vytvořte vlastní průzkum pomocí různých stavebních bloků')\n        }\n      </p>\n      \n      {isEditMode && (\n        <div style={{ \n          backgroundColor: '#e3f2fd', \n          border: '1px solid #2196f3', \n          borderRadius: '8px', \n          padding: '16px', \n          marginBottom: '20px' \n        }}>\n          <div style={{ display: 'flex', alignItems: 'center', marginBottom: '8px' }}>\n            <span style={{ fontSize: '20px', marginRight: '8px' }}>✏️</span>\n            <strong style={{ color: '#1976d2' }}>EDITAČNÍ REŽIM</strong>\n          </div>\n          <p style={{ margin: '0', color: '#1976d2', fontSize: '14px' }}>\n            Upravujete dotazník: <strong>\"{survey.title}\"</strong>. \n            Po uložení bude vytvořena nová aktualizovaná verze průzkumu.\n          </p>\n        </div>\n      )}\n\n      {/* Survey Basic Info */}\n      {currentStep === 1 && (\n        <div style={{ \n          backgroundColor: '#f8f9fa', \n          padding: '30px', \n          borderRadius: '8px', \n          marginBottom: '20px',\n          border: '1px solid #dee2e6'\n        }}>\n          <h3>Krok 1: Základní informace</h3>\n          \n          <div style={{ marginBottom: '20px' }}>\n            <label style={{ display: 'block', marginBottom: '8px', fontWeight: 'bold' }}>\n              Název průzkumu *\n            </label>\n            <input\n              type=\"text\"\n              value={survey.title}\n              onChange={(e) => setSurvey(prev => ({ ...prev, title: e.target.value }))}\n              style={{ \n                width: '100%', \n                padding: '12px', \n                border: '1px solid #ced4da', \n                borderRadius: '4px',\n                fontSize: '16px'\n              }}\n              placeholder=\"Zadejte název vašeho průzkumu\"\n            />\n          </div>\n\n          <div style={{ marginBottom: '30px' }}>\n            <label style={{ display: 'block', marginBottom: '8px', fontWeight: 'bold' }}>\n              Popis průzkumu\n            </label>\n            <textarea\n              value={survey.description}\n              onChange={(e) => setSurvey(prev => ({ ...prev, description: e.target.value }))}\n              style={{ \n                width: '100%', \n                padding: '12px', \n                border: '1px solid #ced4da', \n                borderRadius: '4px',\n                fontSize: '16px',\n                minHeight: '100px',\n                resize: 'vertical'\n              }}\n              placeholder=\"Popište účel a obsah vašeho průzkumu\"\n            />\n          </div>\n\n          <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n            <div></div>\n            <button \n              onClick={() => setCurrentStep(2)}\n              disabled={!survey.title}\n              className=\"button-confirm\"\n              style={{ \n                position: 'relative',\n                backgroundColor: survey.title ? 'var(--color-green)' : '#6c757d',\n                cursor: survey.title ? 'pointer' : 'not-allowed'\n              }}\n            >\n              Další krok →\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* Survey Steps Builder */}\n      {currentStep === 2 && (\n        <div>\n          <h3 style={{ marginBottom: '10px' }}>Krok 2: Stavba průzkumu</h3>\n          <small style={{ color: '#6c757d', display: 'block', marginBottom: '20px' }}>\n            💡 Tip: Přetáhněte stavební bloky z nabídky vlevo do oblasti průzkumu vpravo\n          </small>\n          \n          {/* Global sections warning */}\n          {globalMode ? (\n            <div style={{\n              backgroundColor: '#fff3cd',\n              border: '1px solid #ffeaa7',\n              borderRadius: '8px',\n              padding: '16px',\n              marginBottom: '20px'\n            }}>\n              <div style={{ display: 'flex', alignItems: 'center', marginBottom: '8px' }}>\n                <span style={{ fontSize: '20px', marginRight: '8px' }}>🌐</span>\n                <strong style={{ color: '#856404' }}>SPRÁVA GLOBÁLNÍCH SEKCÍ</strong>\n              </div>\n              <p style={{ margin: '0', color: '#856404', fontSize: '14px' }}>\n                Upravujete <strong>globální sekce</strong> sdílené napříč všemi průzkumy.\n                Změny zde ovlivní <strong>všechny existující dotazníky</strong> v systému.\n                Pouze jedna verze globálních sekcí existuje a je automaticky zahrnuta do všech surveys.\n              </p>\n            </div>\n          ) : (\n            <div style={{\n              backgroundColor: '#e3f2fd',\n              border: '1px solid #2196f3',\n              borderRadius: '8px',\n              padding: '16px',\n              marginBottom: '20px'\n            }}>\n              <div style={{ display: 'flex', alignItems: 'center', marginBottom: '8px' }}>\n                <span style={{ fontSize: '20px', marginRight: '8px' }}>🌐</span>\n                <strong style={{ color: '#1976d2' }}>GLOBÁLNÍ SEKCE</strong>\n              </div>\n              <p style={{ margin: '0', color: '#1976d2', fontSize: '14px' }}>\n                <strong>\"Úvodní sekce\"</strong> a <strong>\"Závěrečná sekce\"</strong> jsou <strong>globální napříč všemi průzkumy</strong>.\n                {user?.role === 'admin' ? (\n                  <>\n                    Pro správu těchto sekcí doporučujeme použít dedikovanou stránku{' '}\n                    <a \n                      href=\"/global-surveys\" \n                      style={{ color: '#1976d2', fontWeight: 'bold', textDecoration: 'underline' }}\n                      onClick={(e) => {\n                        e.preventDefault();\n                        navigate('/global-surveys');\n                      }}\n                    >\n                      Global Surveys\n                    </a>\n                    {' '}kde máte lepší přehled a kontrolu nad globálními sekcemi.\n                  </>\n                ) : (\n                  <>\n                    Tyto sekce spravuje administrátor a jsou automaticky zahrnuty do všech dotazníků.\n                  </>\n                )}\n              </p>\n            </div>\n          )}\n\n          <div style={{ display: 'flex', gap: '20px', minHeight: '500px' }}>\n            {/* Building Blocks Palette */}\n            <div style={{ \n              width: '300px', \n              backgroundColor: '#f8f9fa', \n              border: '1px solid #dee2e6',\n              borderRadius: '8px',\n              padding: '20px'\n            }}>\n              <h4 style={{ margin: '0 0 15px 0', color: '#495057' }}>\n                📦 Stavební bloky\n              </h4>\n              <BuildingBlocksPalette />\n            </div>\n\n            {/* Survey Canvas */}\n            <div style={{ \n              flex: 1,\n              backgroundColor: 'white',\n              border: '2px solid #dee2e6',\n              borderRadius: '8px',\n              minHeight: '500px',\n              position: 'relative'\n            }}>\n              <div style={{ \n                padding: '20px',\n                borderBottom: '1px solid #dee2e6',\n                backgroundColor: '#f8f9fa'\n              }}>\n                <h4 style={{ margin: 0, color: '#495057' }}>\n                  🎯 Oblast průzkumu\n                </h4>\n                <small style={{ color: '#6c757d' }}>\n                  Přetáhněte bloky sem a uspořádejte je v požadovaném pořadí\n                </small>\n              </div>\n              \n              <SurveyCardManager \n                survey={survey}\n                activeCardIndex={activeCardIndex}\n                onActiveCardChange={setActiveCardIndex}\n                onSurveyChange={setSurvey}\n                onEditStep={(step) => {\n                  setEditingStep(step);\n                  setShowStepEditor(true);\n                }}\n                onDeleteStep={deleteStep}\n                user={user}\n                globalMode={globalMode}\n              />\n            </div>\n          </div>\n\n          {/* Bottom Navigation Buttons */}\n          <div style={{ \n            display: 'flex', \n            justifyContent: globalMode ? 'center' : 'space-between', \n            marginTop: '30px',\n            padding: '20px 0',\n            borderTop: '1px solid #dee2e6'\n          }}>\n            {!globalMode && (\n              <button \n                onClick={() => setCurrentStep(1)}\n                style={{ \n                  position: 'relative',\n                  padding: '12px 24px',\n                  backgroundColor: '#6c757d',\n                  color: 'white',\n                  border: 'none',\n                  borderRadius: '4px',\n                  fontSize: '16px',\n                  cursor: 'pointer'\n                }}\n              >\n                ← Zpět\n              </button>\n            )}\n              <button \n                onClick={saveSurvey}\n                style={{ \n                  position: 'relative',\n                  padding: '12px 24px',\n                  backgroundColor: 'var(--color-green)',\n                  color: 'white',\n                  border: 'none',\n                  borderRadius: '4px',\n                  fontSize: '16px',\n                  cursor: 'pointer'\n                }}\n              >\n                💾 Uložit globální sekce\n              </button>\n            ) : (\n              <button \n                onClick={() => setCurrentStep(3)}\n                disabled={survey.cards.every(card => card.steps.length === 0)}\n                style={{ \n                  position: 'relative',\n                  padding: '12px 24px',\n                  backgroundColor: survey.cards.some(card => card.steps.length > 0) ? 'rgb(0, 123, 255)' : '#6c757d',\n                  color: 'white',\n                  border: 'none',\n                  borderRadius: '4px',\n                  fontSize: '16px',\n                  cursor: survey.cards.some(card => card.steps.length > 0) ? 'pointer' : 'not-allowed'\n                }}\n              >\n                Náhled →\n              </button>\n            )}\n          </div>\n        </div>\n      )}\n\n      {/* Preview */}\n      {currentStep === 3 && (\n        <div>\n          <h3>Krok 3: Náhled a uložení</h3>\n          \n          <div style={{ display: 'flex', justifyContent: 'center', marginBottom: '30px' }}>\n            <SurveyPreview \n              survey={survey} \n              onClose={() => setCurrentStep(2)}\n            />\n          </div>\n\n          <div style={{ display: 'flex', justifyContent: 'space-between', marginTop: '30px' }}>\n            <button \n              onClick={() => setCurrentStep(2)}\n              style={{ \n                position: 'relative',\n                padding: '12px 24px',\n                backgroundColor: '#6c757d',\n                color: 'white',\n                border: 'none',\n                borderRadius: '4px',\n                fontSize: '16px',\n                cursor: 'pointer'\n              }}\n            >\n              ← Upravit\n            </button>\n            <button \n              onClick={saveSurvey}\n              style={{ \n                position: 'relative',\n                padding: '12px 24px',\n                backgroundColor: 'var(--color-green)',\n                color: 'white',\n                border: 'none',\n                borderRadius: '4px',\n                fontSize: '16px',\n                cursor: 'pointer'\n              }}\n            >\n              {isEditMode ? 'Aktualizovat novou verzi' : 'Uložit průzkum'}\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* Step Editor Modal */}\n      {showStepEditor && (\n        <SurveyStepEditor \n          step={editingStep}\n          onSave={editingStep ? updateStep : addStep}\n          onCancel={() => {\n            setShowStepEditor(false);\n            setEditingStep(null);\n          }}\n        />\n      )}\n    </div>\n  );\n};\n\n// Survey Builder Supporting Components\nconst SurveyStepCard = ({ \n  step, \n  index, \n  onEdit, \n  onDelete,\n  onDragStart,\n  isDragging,\n  isInCanvas = false,\n  canEdit = true\n}) => {\n  const getStepIcon = (type) => {\n    switch (type) {\n      case 'smiley': return '😊';\n      case 'single-choice': return '📝';\n      case 'dropdown-multiselect': return '☑️';\n      case 'text': return '📄';\n      case 'section-header': return '📋';\n      case 'floating-widget': return '🔧';\n      case 'feedback-modal': return '💬';\n      default: return '❓';\n    }\n  };\n\n  const getStepTypeName = (type) => {\n    switch (type) {\n      case 'smiley': return '5-bodové hodnocení smajlíky';\n      case 'single-choice': return 'Jednoduché výběr';\n      case 'dropdown-multiselect': return 'Vícenásobný výběr (dropdown)';\n      case 'text': return 'Textové pole';\n      case 'section-header': return 'Nadpis sekce';\n      case 'floating-widget': return 'Plovoucí widget';\n      case 'feedback-modal': return 'Feedback modal';\n      default: return 'Neznámý typ';\n    }\n  };\n\n  return (\n    <div \n      draggable={isInCanvas && canEdit}\n      onDragStart={isInCanvas && canEdit ? (e) => onDragStart(e, index) : undefined}\n      style={{\n        border: step.type === 'section-header' ? '2px solid #ffeaa7' : '2px solid #dee2e6',\n        borderRadius: '8px',\n        padding: step.type === 'section-header' ? '15px 20px' : '20px',\n        marginBottom: '15px',\n        backgroundColor: isDragging ? '#f0f7ff' : (step.type === 'section-header' ? '#fff8e1' : 'white'),\n        boxShadow: isDragging ? '0 6px 12px rgba(0,0,0,0.15)' : '0 2px 4px rgba(0,0,0,0.1)',\n        opacity: isDragging ? 0.8 : (canEdit ? 1 : 0.7),\n        cursor: isInCanvas && canEdit ? 'move' : 'default',\n        transition: 'all 0.2s ease',\n        transform: isDragging ? 'rotate(2deg) scale(1.02)' : 'rotate(0deg) scale(1)'\n      }}>\n              <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n        {isInCanvas && canEdit && (\n          <div style={{ display: 'flex', alignItems: 'center', marginRight: '15px' }}>\n            <div \n              style={{ \n                cursor: isDragging ? 'grabbing' : 'grab', \n                fontSize: '20px', \n                color: isDragging ? '#007bff' : '#6c757d',\n                marginRight: '10px',\n                userSelect: 'none',\n                padding: '4px',\n                borderRadius: '4px',\n                backgroundColor: isDragging ? '#e3f2fd' : 'transparent',\n                transition: 'all 0.2s ease'\n              }}\n              title=\"Přetáhnout pro změnu pořadí\"\n            >\n              ⋮⋮\n            </div>\n          </div>\n        )}\n        <div style={{ flex: 1 }}>\n          <div style={{ display: 'flex', alignItems: 'center', marginBottom: '10px' }}>\n            <span style={{ fontSize: '20px', marginRight: '10px' }}>\n              {getStepIcon(step.type)}\n            </span>\n            <div>\n              {step.type === 'section-header' ? (\n                <div>\n                  <h3 style={{ \n                    margin: '0', \n                    color: '#f57c00',\n                    fontSize: '18px',\n                    fontWeight: 'bold'\n                  }}>\n                    📋 {step.question || 'Název sekce'}\n                  </h3>\n                  <small style={{ \n                    color: '#e65100', \n                    fontFamily: 'Roboto, sans-serif',\n                    fontWeight: 400,\n                    fontSize: '14px',\n                    lineHeight: '150%',\n                    letterSpacing: '1.25%'\n                  }}>\n                    {getStepTypeName(step.type)}\n                  </small>\n                </div>\n              ) : (\n                <div>\n                  <h4 style={{ \n                    margin: '0', \n                    color: '#262626',\n                    fontFamily: 'Roboto, sans-serif',\n                    fontWeight: 400,\n                    fontSize: '18px',\n                    lineHeight: '150%',\n                    letterSpacing: '1.25%'\n                  }}>\n                    Blok {index + 1}: {step.question || 'Bez názvu'}\n                  </h4>\n                  <small style={{ \n                    color: '#6c757d',\n                    fontFamily: 'Roboto, sans-serif',\n                    fontWeight: 400,\n                    fontSize: '14px',\n                    lineHeight: '150%',\n                    letterSpacing: '1.25%'\n                  }}>\n                    {getStepTypeName(step.type)}\n                  </small>\n                </div>\n              )}\n            </div>\n          </div>\n          \n          {step.options && step.options.length > 0 && (\n            <div style={{ marginTop: '10px' }}>\n              <small style={{ \n                color: '#6c757d',\n                fontFamily: 'Roboto, sans-serif',\n                fontWeight: 400,\n                fontSize: '14px',\n                lineHeight: '150%',\n                letterSpacing: '1.25%'\n              }}>Možnosti:</small>\n              <div style={{ marginTop: '5px' }}>\n                {step.options.slice(0, 3).map((option, i) => (\n                  <span key={i} style={{\n                    display: 'inline-block',\n                    backgroundColor: '#e9ecef',\n                    padding: '2px 6px',\n                    borderRadius: '3px',\n                    fontSize: '12px',\n                    marginRight: '5px'\n                  }}>\n                    {option}\n                  </span>\n                ))}\n                {step.options.length > 3 && (\n                  <span style={{ color: '#6c757d', fontSize: '12px' }}>\n                    ... a {step.options.length - 3} dalších\n                  </span>\n                )}\n              </div>\n            </div>\n          )}\n        </div>\n\n        {canEdit && !step.isSystem && !step.uneditable && (\n          <div style={{ display: 'flex', gap: '8px', alignItems: 'center' }}>\n            <button\n              onClick={onEdit}\n              style={{\n                padding: '6px 12px',\n                backgroundColor: '#007bff',\n                color: 'white',\n                border: 'none',\n                borderRadius: '4px',\n                fontSize: '12px'\n              }}\n            >\n              ✏️ Upravit\n            </button>\n            <button\n              onClick={onDelete}\n              style={{\n                padding: '6px 12px',\n                backgroundColor: 'var(--color-red)',\n                color: 'white',\n                border: 'none',\n                borderRadius: '4px',\n                fontSize: '12px'\n              }}\n            >\n              🗑️ Smazat\n            </button>\n          </div>\n        )}\n        {(!canEdit || step.isSystem || step.uneditable) && (\n          <div style={{ \n            display: 'flex', \n            alignItems: 'center',\n            color: 'var(--color-red)',\n            fontSize: '16px',\n            flexDirection: 'column',\n            gap: '4px'\n          }}>\n            {step.isSystem || step.uneditable ? (\n              <div style={{\n                backgroundColor: 'var(--color-red)',\n                color: 'white',\n                borderRadius: '4px',\n                padding: '2px 6px',\n                fontSize: '10px',\n                fontWeight: 'bold'\n              }}>\n                SYSTEM\n              </div>\n            ) : (\n              <div>🔒</div>\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nconst SurveyStepEditor = ({ step, onSave, onCancel }) => {\n  const [formData, setFormData] = React.useState({\n    type: step?.type || 'smiley',\n    question: step?.question || '',\n    options: step?.options || [],\n    required: step?.required || true,\n    conditionalTriggers: step?.conditionalTriggers || [],\n    hasTextbox: step?.hasTextbox || false,\n    textboxPlaceholder: step?.textboxPlaceholder || ''\n  });\n\n  const [newOption, setNewOption] = React.useState('');\n\n  const addOption = () => {\n    if (newOption.trim()) {\n      setFormData(prev => ({\n        ...prev,\n        options: [...prev.options, newOption.trim()]\n      }));\n      setNewOption('');\n    }\n  };\n\n  const removeOption = (index) => {\n    setFormData(prev => ({\n      ...prev,\n      options: prev.options.filter((_, i) => i !== index)\n    }));\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (!formData.question.trim()) {\n      alert('Zadejte prosím otázku');\n      return;\n    }\n    if ((formData.type === 'single-choice' || formData.type === 'multi-select' || formData.type === 'rating-scale') && formData.type !== 'section-header' && formData.options.length === 0) {\n      alert('Přidejte prosím alespoň jednu možnost');\n      return;\n    }\n    onSave(formData);\n  };\n\n  return (\n    <div style={{\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      backgroundColor: 'rgba(0,0,0,0.5)',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      zIndex: 1000\n    }}>\n      <div style={{\n        backgroundColor: 'white',\n        borderRadius: '8px',\n        padding: '30px',\n        maxWidth: '600px',\n        width: '90%',\n        maxHeight: '80vh',\n        overflow: 'auto'\n      }}>\n        <h3>{step ? 'Upravit blok' : 'Přidat nový blok'}</h3>\n        \n        <form onSubmit={handleSubmit}>\n          <div style={{ marginBottom: '20px' }}>\n            <label style={{ display: 'block', marginBottom: '8px', fontWeight: 'bold' }}>\n              Typ otázky *\n            </label>\n            <select\n              value={formData.type}\n              onChange={(e) => setFormData(prev => ({ ...prev, type: e.target.value }))}\n              style={{\n                width: '100%',\n                padding: '10px',\n                border: '1px solid #ced4da',\n                borderRadius: '4px'\n              }}\n                         >\n               <option value=\"smiley\">5-bodové hodnocení smajlíky</option>\n               <option value=\"single-choice\">Jednoduché výběr</option>\n               <option value=\"dropdown-multiselect\">Vícenásobný výběr (dropdown)</option>\n               <option value=\"text\">Textové pole</option>\n               <option value=\"section-header\">Nadpis sekce</option>\n             </select>\n          </div>\n\n                     <div style={{ marginBottom: '20px' }}>\n             <label style={{ display: 'block', marginBottom: '8px', fontWeight: 'bold' }}>\n               {formData.type === 'section-header' ? 'Název sekce *' : 'Otázka *'}\n             </label>\n             <input\n               type=\"text\"\n               value={formData.question}\n               onChange={(e) => setFormData(prev => ({ ...prev, question: e.target.value }))}\n               style={{\n                 width: '100%',\n                 padding: '10px',\n                 border: '1px solid #ced4da',\n                 borderRadius: '4px'\n               }}\n               placeholder={formData.type === 'section-header' ? 'Zadejte název sekce' : 'Zadejte text otázky'}\n             />\n           </div>\n\n                     {(formData.type === 'single-choice' || formData.type === 'dropdown-multiselect') && formData.type !== 'section-header' && (\n            <div style={{ marginBottom: '20px' }}>\n              <label style={{ display: 'block', marginBottom: '8px', fontWeight: 'bold' }}>\n                Možnosti odpovědí\n              </label>\n              \n              {formData.options.map((option, index) => (\n                <div key={index} style={{ display: 'flex', marginBottom: '8px', alignItems: 'center' }}>\n                  <input\n                    type=\"text\"\n                    value={option}\n                    onChange={(e) => {\n                      const newOptions = [...formData.options];\n                      newOptions[index] = e.target.value;\n                      setFormData(prev => ({ ...prev, options: newOptions }));\n                    }}\n                    style={{\n                      flex: 1,\n                      padding: '8px',\n                      border: '1px solid #ced4da',\n                      borderRadius: '4px',\n                      marginRight: '8px'\n                    }}\n                  />\n                  <button\n                    type=\"button\"\n                    onClick={() => removeOption(index)}\n                    style={{\n                      padding: '8px 12px',\n                      backgroundColor: 'var(--color-red)',\n                      color: 'white',\n                      border: 'none',\n                      borderRadius: '4px'\n                    }}\n                  >\n                    ×\n                  </button>\n                </div>\n              ))}\n\n              <div style={{ display: 'flex', marginTop: '10px' }}>\n                <input\n                  type=\"text\"\n                  value={newOption}\n                  onChange={(e) => setNewOption(e.target.value)}\n                  onKeyPress={(e) => e.key === 'Enter' && (e.preventDefault(), addOption())}\n                  style={{\n                    flex: 1,\n                    padding: '8px',\n                    border: '1px solid #ced4da',\n                    borderRadius: '4px',\n                    marginRight: '8px'\n                  }}\n                  placeholder=\"Nová možnost...\"\n                />\n                <button\n                  type=\"button\"\n                  onClick={addOption}\n                  style={{\n                    padding: '8px 16px',\n                    backgroundColor: 'var(--color-green)',\n                    color: 'white',\n                    border: 'none',\n                    borderRadius: '4px'\n                  }}\n                >\n                  Přidat\n                </button>\n              </div>\n            </div>\n          )}\n\n                     {formData.type !== 'section-header' && (\n             <div style={{ marginBottom: '20px' }}>\n               <label style={{ display: 'flex', alignItems: 'center' }}>\n                 <input\n                   type=\"checkbox\"\n                   checked={formData.required}\n                   onChange={(e) => setFormData(prev => ({ ...prev, required: e.target.checked }))}\n                   style={{ marginRight: '8px' }}\n                 />\n                 Povinná otázka\n               </label>\n             </div>\n           )}\n\n          {/* Conditional Text Boxes for Options */}\n          {(formData.type === 'single-choice' || formData.type === 'dropdown-multiselect') && formData.options.length > 0 && (\n            <div style={{ marginBottom: '20px' }}>\n              <label style={{ display: 'block', marginBottom: '12px', fontWeight: 'bold', color: '#495057' }}>\n                💡 Podmíněné textové pole \n                <small style={{ display: 'block', fontWeight: 'normal', color: '#6c757d', fontSize: '14px', marginTop: '4px' }}>\n                  Přidejte textové pole, které se zobrazí při výběru konkrétní možnosti\n                </small>\n              </label>\n              \n              {formData.options.map((option, optionIndex) => {\n                const trigger = formData.conditionalTriggers.find(t => t.optionIndex === optionIndex);\n                \n                return (\n                  <div key={optionIndex} style={{ \n                    marginBottom: '12px', \n                    padding: '12px', \n                    border: '1px solid #e9ecef',\n                    borderRadius: '6px',\n                    backgroundColor: trigger ? '#f8f9fa' : 'transparent'\n                  }}>\n                    <div style={{ display: 'flex', alignItems: 'center', marginBottom: trigger ? '8px' : '0' }}>\n                      <span style={{ \n                        flex: 1, \n                        fontWeight: '500',\n                        fontSize: '14px'\n                      }}>\n                        \"{option}\"\n                      </span>\n                      <label style={{ display: 'flex', alignItems: 'center', marginLeft: '12px' }}>\n                        <input\n                          type=\"checkbox\"\n                          checked={!!trigger}\n                          onChange={(e) => {\n                            if (e.target.checked) {\n                              // Add trigger\n                              setFormData(prev => ({\n                                ...prev,\n                                conditionalTriggers: [\n                                  ...prev.conditionalTriggers,\n                                  {\n                                    optionIndex: optionIndex,\n                                    optionText: option,\n                                    textboxPlaceholder: 'Prosím, okomentujte',\n                                    textboxLabel: 'Nepovinné pole'\n                                  }\n                                ]\n                              }));\n                            } else {\n                              // Remove trigger\n                              setFormData(prev => ({\n                                ...prev,\n                                conditionalTriggers: prev.conditionalTriggers.filter(t => t.optionIndex !== optionIndex)\n                              }));\n                            }\n                          }}\n                          style={{ marginRight: '6px' }}\n                        />\n                        <span style={{ fontSize: '13px', color: '#6c757d' }}>\n                          Textové pole\n                        </span>\n                      </label>\n                    </div>\n                    \n                    {trigger && (\n                      <div style={{ marginTop: '8px' }}>\n                        <input\n                          type=\"text\"\n                          value={trigger.textboxPlaceholder}\n                          onChange={(e) => {\n                            setFormData(prev => ({\n                              ...prev,\n                              conditionalTriggers: prev.conditionalTriggers.map(t => \n                                t.optionIndex === optionIndex \n                                  ? { ...t, textboxPlaceholder: e.target.value }\n                                  : t\n                              )\n                            }));\n                          }}\n                          style={{\n                            width: '100%',\n                            padding: '6px 8px',\n                            border: '1px solid #ced4da',\n                            borderRadius: '4px',\n                            fontSize: '13px'\n                          }}\n                          placeholder=\"Text v textovém poli (např: 'Prosím, okomentujte')\"\n                        />\n                        <small style={{ color: '#6c757d', fontSize: '12px' }}>\n                          Tento text se zobrazí jako nápověda v textovém poli\n                        </small>\n                      </div>\n                    )}\n                  </div>\n                );\n              })}\n              \n              {formData.conditionalTriggers.length > 0 && (\n                <div style={{ \n                  marginTop: '8px', \n                  padding: '8px 12px', \n                  backgroundColor: '#d4edda', \n                  border: '1px solid #c3e6cb',\n                  borderRadius: '4px',\n                  fontSize: '13px',\n                  color: '#155724'\n                }}>\n                  ✅ {formData.conditionalTriggers.length} podmíněn{formData.conditionalTriggers.length === 1 ? 'é' : 'ých'} textov{formData.conditionalTriggers.length === 1 ? 'é pole' : 'á pole'} nastaveno\n                </div>\n              )}\n            </div>\n          )}\n\n          {/* Default textbox for emoji rating */}\n          {formData.type === 'smiley' && (\n            <div style={{ marginBottom: '20px' }}>\n              <div style={{ display: 'flex', alignItems: 'center', marginBottom: '10px' }}>\n                <input\n                  type=\"checkbox\"\n                  id={`textbox-${step?.id || 'new'}`}\n                  checked={formData.hasTextbox || false}\n                  onChange={(e) => setFormData(prev => ({ ...prev, hasTextbox: e.target.checked }))}\n                  style={{ marginRight: '8px' }}\n                />\n                <label \n                  htmlFor={`textbox-${step?.id || 'new'}`}\n                  style={{\n                    fontFamily: 'Roboto',\n                    fontWeight: 400,\n                    fontSize: '14px',\n                    lineHeight: '150%',\n                    letterSpacing: '1.25%',\n                    color: '#262626'\n                  }}\n                >\n                  Přidat pole pro komentář\n                </label>\n              </div>\n              {formData.hasTextbox && (\n                <div style={{ marginLeft: '26px' }}>\n                  <input\n                    type=\"text\"\n                    placeholder=\"Placeholder text pro komentář\"\n                    value={formData.textboxPlaceholder || ''}\n                    onChange={(e) => setFormData(prev => ({ ...prev, textboxPlaceholder: e.target.value }))}\n                    style={{\n                      width: '100%',\n                      padding: '8px',\n                      border: '1px solid #ced4da',\n                      borderRadius: '4px',\n                      fontFamily: 'Roboto',\n                      fontWeight: 400,\n                      fontSize: '14px',\n                      lineHeight: '150%',\n                      letterSpacing: '1.25%'\n                    }}\n                  />\n                </div>\n              )}\n            </div>\n          )}\n\n          <div style={{ display: 'flex', justifyContent: 'space-between', marginTop: '30px' }}>\n            <button\n              type=\"button\"\n              onClick={onCancel}\n              style={{\n                padding: '10px 20px',\n                backgroundColor: '#6c757d',\n                color: 'white',\n                border: 'none',\n                borderRadius: '4px'\n              }}\n            >\n              Zrušit\n            </button>\n            <button\n              type=\"submit\"\n              style={{\n                padding: '10px 20px',\n                backgroundColor: 'var(--color-green)',\n                color: 'white',\n                border: 'none',\n                borderRadius: '4px'\n              }}\n            >\n              {step ? 'Uložit změny' : 'Přidat blok'}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nconst SurveyPreview = ({ survey, onClose }) => {\n  const [currentCardIndex, setCurrentCardIndex] = React.useState(0);\n  const [previewAnswers, setPreviewAnswers] = React.useState({});\n  const [dropdownStates, setDropdownStates] = React.useState({});\n  const [showScreenshotForm, setShowScreenshotForm] = React.useState(false);\n  const [showSuccessScreen, setShowSuccessScreen] = React.useState(false);\n  const [showScreenshotSuccess, setShowScreenshotSuccess] = React.useState(false);\n\n  const SmileyIcon = ({ iconName, state = 'default', size = 48, style = {} }) => {\n    const [currentState, setCurrentState] = React.useState(state);\n    \n    const getIconPath = () => {\n      const stateFolder = currentState === 'active' ? 'activeState' : \n                         currentState === 'hover' ? 'hoverState' : 'defaultState';\n      return `/icons/${stateFolder}/${iconName}.svg`;\n    };\n\n    return (\n      <img \n        src={getIconPath()}\n        alt={iconName}\n        width={size}\n        height={size}\n        style={{\n          cursor: 'pointer',\n          transition: 'all 0.2s ease',\n          ...style\n        }}\n        onMouseEnter={() => setCurrentState('hover')}\n        onMouseLeave={() => setCurrentState(state)}\n        onClick={() => setCurrentState('active')}\n      />\n    );\n  };\n\n  // Get cards with non-empty steps\n  const getAllCardsWithSteps = () => {\n    if (!survey.cards) return [];\n    return survey.cards.filter(card => card.steps && card.steps.length > 0);\n  };\n\n  const getNonSystemCardsWithSteps = () => {\n    if (!survey.cards) return [];\n    return survey.cards.filter(card => card.steps && card.steps.length > 0 && !card.isSystem);\n  };\n\n  const allCardsWithSteps = getAllCardsWithSteps();\n  const nonSystemCards = getNonSystemCardsWithSteps();\n  const totalCards = nonSystemCards.length; // Only count non-system cards\n  const currentCard = allCardsWithSteps[currentCardIndex]; // Use all cards for display\n  const currentBlocks = currentCard ? currentCard.steps : [];\n  const isSystemCard = currentCard ? currentCard.isSystem : false;\n\n  const renderSmileyRating = (step) => {\n    // Reversed order: start from best (nejlepší) to worst\n    const smileyIcons = ['emoji-laughing', 'emoji-smile', 'emoji-neutral', 'emoji-frown', 'emoji-angry'];\n    const stepKey = `step-${step.id || Math.random()}`;\n    const selectedRating = previewAnswers[stepKey];\n    \n    return (\n      <div style={{ textAlign: 'center', marginBottom: '20px' }}>\n        <div style={{ display: 'flex', justifyContent: 'space-around', marginBottom: '20px' }}>\n          {smileyIcons.map((iconName, index) => {\n            const isSelected = selectedRating === index;\n            const iconState = isSelected ? 'active' : 'default';\n            \n            return (\n              <div \n                key={index} \n                style={{ \n                  textAlign: 'center', \n                  cursor: 'pointer',\n                  opacity: isSelected ? 1 : 0.7,\n                  transform: isSelected ? 'scale(1.1)' : 'scale(1)',\n                  transition: 'all 0.2s ease'\n                }}\n                onClick={() => {\n                  setPreviewAnswers(prev => ({\n                    ...prev,\n                    [stepKey]: index\n                  }));\n                }}\n                onMouseEnter={(e) => {\n                  if (!isSelected) {\n                    e.currentTarget.style.opacity = '0.9';\n                  }\n                }}\n                onMouseLeave={(e) => {\n                  if (!isSelected) {\n                    e.currentTarget.style.opacity = '0.7';\n                  }\n                }}\n              >\n                <div>\n                  <SmileyIcon iconName={iconName} state={iconState} size={34} />\n                </div>\n              </div>\n            );\n          })}\n        </div>\n        \n        {/* Default textbox for emoji rating if enabled */}\n        {step.hasTextbox && (\n          <div style={{ marginTop: '16px' }}>\n            <div style={{\n              width: '372px',\n              minHeight: '48px',\n              padding: '12px 16px',\n              gap: '8px',\n              borderRadius: '4px',\n              border: '1px solid #4F4F4F',\n              backgroundColor: 'white'\n            }}>\n              <input\n                type=\"text\"\n                placeholder={step.textboxPlaceholder || 'Prosím, okomentujte vaše hodnocení'}\n                value={previewAnswers[`${stepKey}-textbox`] || ''}\n                onChange={(e) => setPreviewAnswers(prev => ({\n                  ...prev,\n                  [`${stepKey}-textbox`]: e.target.value\n                }))}\n                style={{\n                  width: '100%',\n                  border: 'none',\n                  outline: 'none',\n                  fontFamily: 'Roboto',\n                  fontWeight: 400,\n                  fontSize: '16px',\n                  lineHeight: '150%',\n                  letterSpacing: '1.25%',\n                  color: '#262626',\n                  backgroundColor: 'transparent'\n                }}\n              />\n            </div>\n            <div style={{\n              marginTop: '8px',\n              fontFamily: 'Roboto',\n              fontWeight: 400,\n              fontSize: '14px',\n              lineHeight: '150%',\n              letterSpacing: '1.25%',\n              color: '#6c757d',\n              fontStyle: 'italic',\n              textAlign: 'left'\n            }}>\n              Nepovinné pole\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  const renderSingleChoice = (step) => {\n    const stepKey = `step-${step.id || Math.random()}`;\n    return (\n      <div style={{ marginBottom: '20px', marginTop: '16px' }}>\n        {step.options.map((option, index) => {\n          const trigger = step.conditionalTriggers?.find(t => t.optionIndex === index);\n          const isSelected = previewAnswers[stepKey] === index;\n          \n          return (\n            <div key={index}>\n              <label style={{ \n                paddingLeft: '10px',\n                display: 'block', \n                marginBottom: '12px', \n                cursor: 'pointer',\n                fontFamily: 'Roboto, sans-serif',\n                fontWeight: 400,\n                fontSize: '16px',\n                lineHeight: '150%',\n                letterSpacing: '1.25%',\n                color: '#262626'\n              }}>\n                <div style={{ \n                  position: 'relative', \n                  display: 'inline-block', \n                  marginRight: '8px' \n                }}>\n                  <input\n                    type=\"radio\"\n                    name={stepKey}\n                    value={index}\n                    checked={isSelected}\n                    onChange={(e) => setPreviewAnswers(prev => ({ \n                      ...prev, \n                      [stepKey]: parseInt(e.target.value) \n                    }))}\n                    style={{ \n                      width: '20px',\n                      height: '20px',\n                      borderRadius: '20px',\n                      border: '2px solid ' + (isSelected ? '#609352' : '#ced4da'),\n                      backgroundColor: '#FFFFFF',\n                      appearance: 'none',\n                      cursor: 'pointer',\n                      position: 'relative'\n                    }}\n                  />\n                  {isSelected && (\n                    <div style={{\n                      position: 'absolute',\n                      top: '5px',\n                      left: '5px',\n                      width: '10px',\n                      height: '10px',\n                      borderRadius: '50%',\n                      backgroundColor: '#609352',\n                      pointerEvents: 'none'\n                    }} />\n                  )}\n                </div>\n                {option}\n              </label>\n              \n              {/* Show conditional textbox if this option is selected and has a trigger */}\n              {trigger && isSelected && (\n                <div style={{ marginLeft: '0px', marginTop: '16px', marginBottom: '16px' }}>\n                  <div style={{ \n                    width: '372px',\n                    minHeight: '48px',\n                    gap: '8px',\n                    paddingTop: '12px',\n                    paddingRight: '8px',\n                    paddingBottom: '12px',\n                    paddingLeft: '8px',\n                    borderRadius: '4px',\n                    border: '1px solid #4F4F4F'\n                  }}>\n                    <input\n                      type=\"text\"\n                      style={{\n                        width: '100%',\n                        height: '24px',\n                        border: 'none',\n                        outline: 'none',\n                        fontFamily: 'Roboto, sans-serif',\n                        fontWeight: 400,\n                        fontSize: '16px',\n                        lineHeight: '150%',\n                        letterSpacing: '1.25%',\n                        backgroundColor: 'transparent'\n                      }}\n                      placeholder={trigger.textboxPlaceholder || 'Prosím, okomentujte'}\n                    />\n                  </div>\n                  <div style={{ \n                    marginTop: '8px'\n                  }}>\n                    <small style={{ \n                      fontFamily: 'Roboto, sans-serif',\n                      fontWeight: 400,\n                      fontStyle: 'italic',\n                      fontSize: '14px',\n                      lineHeight: '150%',\n                      letterSpacing: '1.25%',\n                      color: '#262626',\n                      textAlign: 'left'\n                    }}>\n                      {trigger.textboxLabel || 'Nepovinné pole'}\n                    </small>\n                  </div>\n                </div>\n              )}\n            </div>\n          );\n        })}\n      </div>\n    );\n  };\n\n  const renderMultiSelect = (step) => {\n    const stepKey = `step-${step.id || Math.random()}`;\n    const selectedOptions = previewAnswers[stepKey] || [];\n    \n    return (\n      <div style={{ marginBottom: '20px', marginTop: '16px' }}>\n        {step.options.map((option, index) => {\n          const trigger = step.conditionalTriggers?.find(t => t.optionIndex === index);\n          const isSelected = selectedOptions.includes(index);\n          \n          return (\n            <div key={index}>\n              <label style={{ \n                paddingLeft: '10px',\n                display: 'block', \n                marginBottom: '12px', \n                cursor: 'pointer',\n                fontFamily: 'Roboto, sans-serif',\n                fontWeight: 400,\n                fontSize: '16px',\n                lineHeight: '150%',\n                letterSpacing: '1.25%',\n                color: '#262626'\n              }}>\n                <div style={{ \n                  position: 'relative', \n                  display: 'inline-block', \n                  marginRight: '8px' \n                }}>\n                  <input\n                    type=\"checkbox\"\n                    checked={isSelected}\n                    onChange={(e) => {\n                      setPreviewAnswers(prev => {\n                        const currentSelected = prev[stepKey] || [];\n                        if (e.target.checked) {\n                          return { ...prev, [stepKey]: [...currentSelected, index] };\n                        } else {\n                          return { ...prev, [stepKey]: currentSelected.filter(i => i !== index) };\n                        }\n                      });\n                    }}\n                    style={{ \n                      width: '20px',\n                      height: '20px',\n                      borderRadius: '4px',\n                      border: '2px solid ' + (isSelected ? '#609352' : '#ced4da'),\n                      backgroundColor: isSelected ? '#609352' : '#FFFFFF',\n                      appearance: 'none',\n                      cursor: 'pointer',\n                      position: 'relative'\n                    }}\n                  />\n                  {isSelected && (\n                    <div style={{\n                      position: 'absolute',\n                      top: '2px',\n                      left: '4px',\n                      width: '12px',\n                      height: '8px',\n                      borderLeft: '2px solid #FFFFFF',\n                      borderBottom: '2px solid #FFFFFF',\n                      transform: 'rotate(-45deg)',\n                      pointerEvents: 'none'\n                    }} />\n                  )}\n                </div>\n                {option}\n              </label>\n              \n              {/* Show conditional textbox if this option is selected and has a trigger */}\n              {trigger && isSelected && (\n                <div style={{ marginLeft: '0px', marginTop: '16px', marginBottom: '16px' }}>\n                  <div style={{ \n                    width: '372px',\n                    minHeight: '48px',\n                    gap: '8px',\n                    paddingTop: '12px',\n                    paddingRight: '8px',\n                    paddingBottom: '12px',\n                    paddingLeft: '8px',\n                    borderRadius: '4px',\n                    border: '1px solid #4F4F4F'\n                  }}>\n                    <input\n                      type=\"text\"\n                      style={{\n                        width: '100%',\n                        height: '24px',\n                        border: 'none',\n                        outline: 'none',\n                        fontFamily: 'Roboto, sans-serif',\n                        fontWeight: 400,\n                        fontSize: '16px',\n                        lineHeight: '150%',\n                        letterSpacing: '1.25%',\n                        backgroundColor: 'transparent'\n                      }}\n                      placeholder={trigger.textboxPlaceholder || 'Prosím, okomentujte'}\n                    />\n                  </div>\n                  <div style={{ \n                    marginTop: '8px'\n                  }}>\n                    <small style={{ \n                      fontFamily: 'Roboto, sans-serif',\n                      fontWeight: 400,\n                      fontStyle: 'italic',\n                      fontSize: '14px',\n                      lineHeight: '150%',\n                      letterSpacing: '1.25%',\n                      color: '#262626',\n                      textAlign: 'left'\n                    }}>\n                      {trigger.textboxLabel || 'Nepovinné pole'}\n                    </small>\n                  </div>\n                </div>\n              )}\n            </div>\n          );\n        })}\n      </div>\n    );\n  };\n\n  const renderTextInput = (step) => (\n    <div style={{ marginBottom: '20px' }}>\n      <textarea\n        disabled\n        style={{\n          width: '100%',\n          minHeight: '100px',\n          padding: '12px',\n          border: '1px solid #ced4da',\n          borderRadius: '4px',\n          resize: 'vertical',\n          fontFamily: 'Roboto, sans-serif',\n          fontWeight: 400,\n          fontSize: '16px',\n          lineHeight: '150%',\n          letterSpacing: '1.25%'\n        }}\n        placeholder=\"Text odpovědi...\"\n      />\n    </div>\n  );\n\n  const renderRatingScale = (step) => (\n    <div style={{ marginBottom: '20px' }}>\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '20px' }}>\n        {step.options.map((rating, index) => (\n          <div key={index} style={{ textAlign: 'center', cursor: 'pointer' }}>\n            <div style={{ \n              width: '40px', \n              height: '40px', \n              border: '2px solid #dee2e6',\n              borderRadius: '50%',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              fontSize: '16px',\n              fontWeight: 'bold',\n              color: '#262626',\n              fontFamily: 'Roboto, sans-serif'\n            }}>\n              {rating}\n            </div>\n          </div>\n        ))}\n      </div>\n      <div style={{ \n        display: 'flex', \n        justifyContent: 'space-between', \n        fontFamily: 'Roboto, sans-serif',\n        fontWeight: 400,\n        fontSize: '14px',\n        lineHeight: '150%',\n        letterSpacing: '1.25%',\n        color: '#262626' \n      }}>\n        <span>Nejnižší</span>\n        <span>Nejvyšší</span>\n      </div>\n    </div>\n  );\n\n  const renderSectionHeader = (step) => (\n    <div style={{ \n      marginBottom: '20px'\n    }}>\n      <h3 style={{ \n        margin: 0, \n        color: '#262626',\n        fontFamily: 'Roboto, sans-serif',\n        fontWeight: 400,\n        fontSize: '18px',\n        lineHeight: '150%',\n        letterSpacing: '1.25%'\n      }}>\n        {step.question}\n      </h3>\n    </div>\n  );\n\n  const renderDropdownMultiSelect = (step) => {\n    const stepKey = `step-${step.id || Math.random()}`;\n    const selectedOptions = previewAnswers[stepKey] || [];\n    const isOpen = dropdownStates[stepKey] || false;\n    \n    const toggleDropdown = () => {\n      setDropdownStates(prev => ({\n        ...prev,\n        [stepKey]: !prev[stepKey]\n      }));\n    };\n\n    return (\n      <div style={{ marginBottom: '20px', position: 'relative' }}>\n        {/* Dropdown */}\n        <div \n          onClick={toggleDropdown}\n          style={{\n            position: 'relative',\n            width: '372px',\n            height: '40px',\n            paddingTop: '5px',\n            paddingBottom: '5px',\n            paddingLeft: '12px',\n            paddingRight: '40px',\n            borderRadius: '8px',\n            borderWidth: '1px',\n            borderStyle: 'solid',\n            borderColor: '#ced4da',\n            backgroundColor: 'white',\n            cursor: 'pointer',\n            display: 'flex',\n            alignItems: 'center',\n            fontFamily: 'Roboto',\n            fontWeight: 400,\n            fontSize: '16px',\n            lineHeight: '150%',\n            letterSpacing: '1.25%',\n            color: '#262626'\n          }}>\n          <span style={{ flex: 1 }}>\n            {selectedOptions.length === 0 ? 'Vyberte možnosti...' : \n             selectedOptions.length === 1 ? `${selectedOptions.length} možnost vybrána` :\n             selectedOptions.length <= 4 ? `${selectedOptions.length} možnosti vybrány` :\n             `${selectedOptions.length} možností vybráno`}\n          </span>\n          \n          {/* Custom green arrow */}\n          <div style={{ \n            position: 'absolute', \n            right: '12px', \n            transform: 'translateY(-50%)',\n            width: '16px',\n            height: '9px'\n          }}>\n            <svg width=\"16\" height=\"9\" viewBox=\"0 0 16 9\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M0.180242 0.180242C0.420565 -0.0600807 0.810205 -0.0600807 1.05053 0.180242L8 7.12971L14.9495 0.180242C15.1898 -0.0600807 15.5794 -0.0600807 15.8198 0.180242C16.0601 0.420565 16.0601 0.810205 15.8198 1.05053L8.43514 8.43514C8.19482 8.67546 7.80518 8.67546 7.56486 8.43514L0.180242 1.05053C-0.0600807 0.810205 -0.0600807 0.420565 0.180242 0.180242Z\" fill=\"#609352\"/>\n            </svg>\n          </div>\n        </div>\n\n        {/* Dropdown options (when open) */}\n        {isOpen && (\n          <div style={{\n            position: 'absolute',\n            top: '42px',\n            left: 0,\n            width: '372px',\n            zIndex: 1000,\n            backgroundColor: 'white',\n            border: '1px solid #ced4da',\n            borderRadius: '4px',\n            maxHeight: '200px',\n            overflowY: 'auto',\n            boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\n          }}>\n            {(step.options || []).map((option, index) => (\n              <div \n                key={index}\n                                 onClick={() => {\n                   if (!selectedOptions.includes(option)) {\n                     setPreviewAnswers(prev => ({\n                       ...prev,\n                       [stepKey]: [...selectedOptions, option]\n                     }));\n                   }\n                   setDropdownStates(prev => ({\n                     ...prev,\n                     [stepKey]: false\n                   }));\n                 }}\n                style={{\n                  padding: '8px 12px',\n                  cursor: selectedOptions.includes(option) ? 'not-allowed' : 'pointer',\n                  fontFamily: 'Roboto',\n                  fontWeight: 400,\n                  fontSize: '16px',\n                  lineHeight: '150%',\n                  letterSpacing: '1.25%',\n                  color: selectedOptions.includes(option) ? '#6c757d' : '#262626',\n                  backgroundColor: selectedOptions.includes(option) ? '#f8f9fa' : 'white',\n                  borderBottom: index < (step.options || []).length - 1 ? '1px solid #e9ecef' : 'none'\n                }}\n                onMouseEnter={(e) => {\n                  if (!selectedOptions.includes(option)) {\n                    e.target.style.backgroundColor = '#f8f9fa';\n                  }\n                }}\n                onMouseLeave={(e) => {\n                  if (!selectedOptions.includes(option)) {\n                    e.target.style.backgroundColor = 'white';\n                  }\n                }}\n              >\n                {selectedOptions.includes(option) ? '✓ ' : ''}{option}\n              </div>\n            ))}\n          </div>\n        )}\n\n        {/* Selected choices (chips below dropdown) */}\n        {selectedOptions.length > 0 && (\n          <div style={{\n            marginTop: '8px',\n            display: 'flex',\n            flexWrap: 'wrap',\n            gap: '8px',\n            maxWidth: '320px'\n          }}>\n            {selectedOptions.map((option, index) => (\n              <div key={index} style={{\n                display: 'flex',\n                alignItems: 'center',\n                width: '121px',\n                maxWidth: '320px',\n                height: '28px',\n                paddingLeft: '8px',\n                paddingRight: '8px',\n                borderRadius: '4px',\n                borderWidth: '1px',\n                borderStyle: 'solid',\n                borderColor: '#ced4da',\n                backgroundColor: '#f8f9fa',\n                fontFamily: 'Roboto',\n                fontWeight: 400,\n                fontSize: '14px',\n                lineHeight: '150%',\n                letterSpacing: '1.25%',\n                color: '#262626'\n              }}>\n                <span style={{ \n                  flex: 1,\n                  overflow: 'hidden',\n                  textOverflow: 'ellipsis',\n                  whiteSpace: 'nowrap'\n                }}>\n                  {option}\n                </span>\n                <button\n                  onClick={() => {\n                    setPreviewAnswers(prev => ({\n                      ...prev,\n                      [stepKey]: selectedOptions.filter(opt => opt !== option)\n                    }));\n                  }}\n                  style={{\n                    background: 'none',\n                    border: 'none',\n                    cursor: 'pointer',\n                    padding: '0',\n                    marginLeft: '4px',\n                    width: '12px',\n                    height: '12px',\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    flexShrink: 0\n                  }}\n                >\n                  <svg width=\"12\" height=\"12\" viewBox=\"0 0 12 12\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path d=\"M0.878303 1.49725C0.837626 1.45658 0.805359 1.40829 0.783345 1.35514C0.761331 1.30199 0.75 1.24503 0.75 1.1875C0.75 1.12998 0.761331 1.07301 0.783345 1.01987C0.805359 0.966721 0.837626 0.91843 0.878303 0.877753C0.918979 0.837076 0.96727 0.80481 1.02042 0.782795C1.07356 0.760781 1.13053 0.749451 1.18805 0.749451C1.24558 0.749451 1.30254 0.760781 1.35569 0.782795C1.40884 0.80481 1.45713 0.837076 1.4978 0.877753L6.00055 5.38138L10.5033 0.877753C10.544 0.837076 10.5923 0.80481 10.6454 0.782795C10.6986 0.760781 10.7555 0.749451 10.8131 0.749451C10.8706 0.749451 10.9275 0.760781 10.9807 0.782795C11.0338 0.80481 11.0821 0.837076 11.1228 0.877753C11.1635 0.91843 11.1957 0.966721 11.2178 1.01987C11.2398 1.07301 11.2511 1.12998 11.2511 1.1875C11.2511 1.24503 11.2398 1.30199 11.2178 1.35514C11.1957 1.40829 11.1635 1.45658 11.1228 1.49725L6.61918 6L11.1228 10.5028C11.1635 10.5434 11.1957 10.5917 11.2178 10.6449C11.2398 10.698 11.2511 10.755 11.2511 10.8125C11.2511 10.87 11.2398 10.927 11.2178 10.9801C11.1957 11.0333 11.1635 11.0816 11.1228 11.1223C11.0821 11.1629 11.0338 11.1952 10.9807 11.2172C10.9275 11.2392 10.8706 11.2506 10.8131 11.2506C10.7555 11.2506 10.6986 11.2392 10.6454 11.2172C10.5923 11.1952 10.544 11.1629 10.5033 11.1223L6.00055 6.61863L1.4978 11.1223C1.45713 11.1629 1.40884 11.1952 1.35569 11.2172C1.30254 11.2392 1.24558 11.2506 1.18805 11.2506C1.13053 11.2506 1.07356 11.2392 1.02042 11.2172C0.96727 11.1952 0.918979 11.1629 0.878303 11.1223C0.837626 11.0816 0.805359 11.0333 0.783345 10.9801C0.761331 10.927 0.75 10.87 0.75 10.8125C0.75 10.755 0.761331 10.698 0.783345 10.6449C0.805359 10.5917 0.837626 10.5434 0.878303 10.5028L5.38193 6L0.878303 1.49725Z\" fill=\"#609352\"/>\n                  </svg>\n                </button>\n              </div>\n            ))}\n          </div>\n        )}\n\n        {/* Conditional text boxes */}\n        {(step.conditionalTriggers || []).map((trigger, triggerIndex) => {\n          const isTriggered = selectedOptions.includes(trigger.optionText);\n          \n          return isTriggered ? (\n            <div key={triggerIndex} style={{ marginTop: '16px' }}>\n              <div style={{\n                width: '372px',\n                minHeight: '48px',\n                gap: '8px',\n                paddingTop: '12px',\n                paddingRight: '8px',\n                paddingBottom: '12px',\n                paddingLeft: '8px',\n                borderRadius: '4px',\n                border: '1px solid #4F4F4F',\n                backgroundColor: 'white'\n              }}>\n                <input\n                  type=\"text\"\n                  placeholder={trigger.textboxPlaceholder || 'Prosím, okomentujte'}\n                  style={{\n                    width: '100%',\n                    height: '24px',\n                    border: 'none',\n                    outline: 'none',\n                    backgroundColor: 'transparent',\n                    fontFamily: 'Roboto, sans-serif',\n                    fontWeight: 400,\n                    fontSize: '16px',\n                    lineHeight: '150%',\n                    letterSpacing: '1.25%',\n                    color: '#262626'\n                  }}\n                />\n              </div>\n              <div style={{ marginTop: '8px' }}>\n                <small style={{\n                  fontFamily: 'Roboto, sans-serif',\n                  fontWeight: 400,\n                  fontStyle: 'italic',\n                  fontSize: '14px',\n                  lineHeight: '150%',\n                  letterSpacing: '1.25%',\n                  color: '#262626',\n                  textAlign: 'left'\n                }}>\n                  {trigger.textboxLabel || 'Nepovinné pole'}\n                </small>\n              </div>\n            </div>\n          ) : null;\n        })}\n      </div>\n  );\n};\n\nconst renderFloatingWidget = (step) => (\n  <div style={{ \n    position: 'relative',\n    height: '120px',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    margin: '20px auto'\n  }}>\n    {/* Just the 2 icons - no window wrapper */}\n    <div style={{ position: 'relative' }}>\n      {/* Main Floating Circle */}\n      <div \n        onClick={() => {\n          // Navigate to Step 0b (Feedback Modal)\n          const feedbackModalIndex = allCardsWithSteps.findIndex(card => \n            card.steps && card.steps.some(step => step.type === 'feedback-modal')\n          );\n          if (feedbackModalIndex !== -1) {\n            setCurrentCardIndex(feedbackModalIndex);\n          }\n        }}\n        style={{\n          width: '82px',\n          height: '82px',\n          backgroundColor: '#FFFFFF',\n          borderRadius: '50%',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          boxShadow: '0 4px 12px rgba(0, 0, 0, 0.15)',\n          cursor: 'pointer',\n          position: 'relative'\n        }}>\n        {/* Floating Icon */}\n        <img \n          src=\"/floating.svg\" \n          alt=\"Feedback\"\n          style={{\n            width: '48px',\n            height: '48px'\n          }}\n        />\n      </div>\n\n      {/* Close Button Circle */}\n      <div \n        onClick={() => {\n          // Close the floating widget - go to next non-system card\n          const nextNonSystemIndex = allCardsWithSteps.findIndex((card, index) => \n            index > currentCardIndex && !card.isSystem\n          );\n          if (nextNonSystemIndex !== -1) {\n            setCurrentCardIndex(nextNonSystemIndex);\n          }\n        }}\n        style={{\n          position: 'absolute',\n          width: '39px',\n          height: '39px',\n          top: '-29px',\n          right: '-120px',\n          backgroundColor: '#FFFFFF',\n          borderRadius: '50%',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          boxShadow: '0 2px 8px rgba(0, 0, 0, 0.15)',\n          cursor: 'pointer'\n        }}>\n        {/* Close Icon */}\n        <img \n          src=\"/close.svg\" \n          alt=\"Close\"\n          style={{\n            width: '23.25px',\n            height: '23.25px'\n          }}\n        />\n      </div>\n    </div>\n  </div>\n);\n\nconst renderFeedbackModal = (step) => (\n  <div style={{\n    marginBottom: '20px'\n  }}>\n    {/* Just the content - no window wrapper */}\n    <div style={{\n      display: 'flex',\n      flexDirection: 'column',\n      gap: '24px'\n    }}>\n      {/* Subtitle */}\n      <div style={{\n        fontFamily: 'Roboto',\n        fontWeight: 400,\n        fontSize: '18px',\n        lineHeight: '150%',\n        letterSpacing: '1.25%',\n        color: '#262626',\n        textAlign: 'left'\n      }}>\n        Hodnocení, účel návštěvy, dojmy\n      </div>\n\n      {/* Green Button 1 */}\n      <button \n        onClick={() => {\n          // Navigate to step 1 (first non-system card)\n          const firstNonSystemIndex = allCardsWithSteps.findIndex(card => !card.isSystem);\n          if (firstNonSystemIndex !== -1) {\n            setCurrentCardIndex(firstNonSystemIndex);\n          }\n        }}\n        style={{\n          width: '241px',\n          height: '56px',\n          gap: '20px',\n          paddingTop: '12px',\n          paddingRight: '20px',\n          paddingBottom: '13px',\n          paddingLeft: '20px',\n          borderRadius: '8px',\n          backgroundColor: '#609352',\n          border: 'none',\n          cursor: 'pointer',\n          fontFamily: 'Roboto',\n          fontWeight: 700,\n          fontSize: '20px',\n          lineHeight: '150%',\n          letterSpacing: '3%',\n          color: '#FFFFFF'\n        }}>\n        Zpětná vazba na web\n      </button>\n\n      {/* Second Label */}\n      <div style={{\n        fontFamily: 'Roboto',\n        fontWeight: 400,\n        fontSize: '18px',\n        lineHeight: '150%',\n        letterSpacing: '1.25%',\n        color: '#262626',\n        textAlign: 'left'\n      }}>\n        Možnost připojit screenshot + komentář\n      </div>\n\n      {/* Green Button 2 */}\n      <button \n        onClick={() => {\n          setShowScreenshotForm(true);\n        }}\n        style={{\n          width: '183px',\n          height: '56px',\n          gap: '20px',\n          paddingTop: '12px',\n          paddingRight: '20px',\n          paddingBottom: '13px',\n          paddingLeft: '20px',\n          borderRadius: '8px',\n          backgroundColor: '#609352',\n          border: 'none',\n          cursor: 'pointer',\n          fontFamily: 'Roboto',\n          fontWeight: 700,\n          fontSize: '20px',\n          lineHeight: '150%',\n          letterSpacing: '3%',\n          color: '#FFFFFF'\n        }}>\n        Máte problém?\n      </button>\n    </div>\n  </div>\n);\n\n// Screenshot Form Component\nconst renderScreenshotForm = () => (\n  <div style={{\n    width: '450px',\n    height: '603px',\n    borderRadius: '16px',\n    backgroundColor: '#FFFFFF',\n    padding: '24px',\n    gap: '24px',\n    display: 'flex',\n    flexDirection: 'column',\n    position: 'relative'\n  }}>\n    {/* Header */}\n    <div style={{ \n      display: 'flex', \n      justifyContent: 'space-between', \n      alignItems: 'center',\n      marginBottom: '24px'\n    }}>\n      <h4 style={{ \n        margin: 0,\n        fontFamily: 'Roboto',\n        fontWeight: 400,\n        fontSize: '24px',\n        lineHeight: '150%',\n        letterSpacing: '3.12%',\n        color: '#262626'\n      }}>\n        Přiložit snímek obrazovky\n      </h4>\n      <button\n        onClick={onClose}\n        style={{\n          background: 'none',\n          border: 'none',\n          cursor: 'pointer',\n          padding: '4px',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center'\n        }}\n      >\n        <img src=\"/close.svg\" alt=\"Close\" width=\"24\" height=\"24\" />\n      </button>\n    </div>\n\n    {/* Content */}\n    <div style={{ flex: 1, display: 'flex', flexDirection: 'column', gap: '24px' }}>\n      {/* Question */}\n      <div style={{\n        fontFamily: 'Roboto',\n        fontWeight: 400,\n        fontSize: '18px',\n        lineHeight: '150%',\n        letterSpacing: '1.25%',\n        color: '#262626'\n      }}>\n        Chcete přiložit screenshot?\n      </div>\n\n      {/* Upload Button */}\n      <button style={{\n        width: '160px',\n        height: '40px',\n        gap: '12px',\n        paddingTop: '8px',\n        paddingRight: '12px',\n        paddingBottom: '9px',\n        paddingLeft: '12px',\n        borderRadius: '8px',\n        border: '1px solid #609352',\n        backgroundColor: 'transparent',\n        cursor: 'pointer',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center'\n      }}>\n        {/* Upload Icon */}\n        <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" style={{ marginRight: '8px' }}>\n          <path d=\"M0.625 12.375C0.970178 12.375 1.25 12.6549 1.25 13V16.125C1.25 16.8154 1.80964 17.375 2.5 17.375H17.5C18.1904 17.375 18.75 16.8154 18.75 16.125V13C18.75 12.6549 19.0298 12.375 19.375 12.375C19.7202 12.375 20 12.6549 20 13V16.125C20 17.5057 18.8807 18.625 17.5 18.625H2.5C1.11929 18.625 0 17.5057 0 16.125V13C0 12.6549 0.279822 12.375 0.625 12.375Z\" fill=\"#609352\"/>\n          <path d=\"M9.55806 1.43306C9.80214 1.18898 10.1979 1.18898 10.4419 1.43306L14.1919 5.18306C14.436 5.42714 14.436 5.82286 14.1919 6.06694C13.9479 6.31102 13.5521 6.31102 13.3081 6.06694L10.625 3.38388V14.375C10.625 14.7202 10.3452 15 10 15C9.65482 15 9.375 14.7202 9.375 14.375V3.38388L6.69194 6.06694C6.44786 6.31102 6.05214 6.31102 5.80806 6.06694C5.56398 5.82286 5.56398 5.42714 5.80806 5.18306L9.55806 1.43306Z\" fill=\"#609352\"/>\n        </svg>\n        <span style={{\n          fontFamily: 'Roboto',\n          fontWeight: 700,\n          fontSize: '14px',\n          lineHeight: '150%',\n          letterSpacing: '1.25%',\n          color: 'var(--color-green)'\n        }}>\n          Nahrajte soubor\n        </span>\n      </button>\n\n      {/* Supported formats */}\n      <div style={{\n        fontFamily: 'Roboto',\n        fontWeight: 400,\n        fontSize: '14px',\n        lineHeight: '150%',\n        letterSpacing: '1.25%',\n        color: '#262626',\n        textAlign: 'center'\n      }}>\n        Podporované formáty JPEG, PNG, PDF\n      </div>\n\n      {/* Problem description label */}\n      <div style={{\n        fontFamily: 'Roboto',\n        fontWeight: 400,\n        fontSize: '18px',\n        lineHeight: '150%',\n        letterSpacing: '1.25%',\n        color: '#262626',\n        marginTop: '24px'\n      }}>\n        Popište problém nebo potíže\n      </div>\n\n      {/* Text area */}\n      <textarea \n        placeholder=\"Prosím, uvěďte\"\n        style={{\n          width: '372px',\n          minHeight: '120px',\n          padding: '12px 8px',\n          borderRadius: '4px',\n          border: '1px solid #4F4F4F',\n          fontFamily: 'Roboto',\n          fontWeight: 400,\n          fontSize: '16px',\n          lineHeight: '150%',\n          letterSpacing: '1.25%',\n          color: '#6D6D6D',\n          backgroundColor: '#FFFFFF',\n          resize: 'vertical',\n          outline: 'none'\n        }}\n      />\n\n      {/* Buttons */}\n      <div style={{\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        marginTop: 'auto',\n        paddingTop: '20px'\n      }}>\n        {/* Back Button */}\n        <button \n          onClick={() => {\n            setShowScreenshotForm(false);\n          }}\n          style={{\n            width: '83px',\n            height: '56px',\n            gap: '20px',\n            paddingTop: '12px',\n            paddingRight: '20px',\n            paddingBottom: '13px',\n            paddingLeft: '20px',\n            borderRadius: '8px',\n            border: '1px solid #609352',\n            backgroundColor: 'transparent',\n            cursor: 'pointer',\n            fontFamily: 'Roboto',\n            fontWeight: 700,\n            fontSize: '20px',\n            lineHeight: '150%',\n            letterSpacing: '3%',\n            color: '#368537'\n          }}>\n          Zpět\n        </button>\n\n        {/* Submit Button */}\n        <button \n          onClick={() => {\n            setShowScreenshotForm(false);\n            setShowScreenshotSuccess(true);\n          }}\n          style={{\n            width: '113px',\n            height: '56px',\n            gap: '20px',\n            paddingTop: '12px',\n            paddingRight: '20px',\n            paddingBottom: '13px',\n            paddingLeft: '20px',\n            borderRadius: '8px',\n            backgroundColor: '#609352',\n            border: 'none',\n            cursor: 'pointer',\n            fontFamily: 'Roboto',\n            fontWeight: 700,\n            fontSize: '20px',\n            lineHeight: '150%',\n            letterSpacing: '3%',\n            color: '#FFFFFF'\n          }}>\n          Odeslat\n        </button>\n      </div>\n    </div>\n  </div>\n);\n\n// Success Screen Component\nconst renderSuccessScreen = (message) => (\n  <div style={{\n    width: '450px',\n    height: '603px',\n    borderRadius: '16px',\n    backgroundColor: '#FFFFFF',\n    padding: '24px',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n    textAlign: 'center'\n  }}>\n    <h2 style={{\n      margin: 0,\n      fontFamily: 'Roboto',\n      fontWeight: 400,\n      fontSize: '24px',\n      lineHeight: '150%',\n      letterSpacing: '3.12%',\n      color: '#262626'\n    }}>\n      {message}\n    </h2>\n  </div>\n);\n\nconst renderStepContent = (step) => {\n  switch (step.type) {\n    case 'smiley': return renderSmileyRating(step);\n    case 'single-choice': return renderSingleChoice(step);\n    case 'dropdown-multiselect': return renderDropdownMultiSelect(step);\n    case 'text': return renderTextInput(step);\n    case 'section-header': return renderSectionHeader(step);\n    case 'floating-widget': return renderFloatingWidget(step);\n    case 'feedback-modal': return renderFeedbackModal(step);\n    default: return <div>Neznámý typ otázky</div>;\n  }\n};\n\n// Handle special screens\nif (showScreenshotForm) {\n  return renderScreenshotForm();\n}\n\nif (showScreenshotSuccess) {\n  return renderSuccessScreen('Odesláno');\n}\n\nif (showSuccessScreen) {\n  return renderSuccessScreen('Zpětná vazba odeslána');\n}\n\nif (totalCards === 0) {\n  return (\n    <div style={{\n      width: '450px',\n      height: '603px',\n      borderRadius: '16px',\n      backgroundColor: '#FFFFFF',\n      padding: '24px',\n      gap: '24px',\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'center',\n      alignItems: 'center'\n    }}>\n      <p style={{ color: '#6c757d' }}>Žádné kroky pro náhled</p>\n    </div>\n  );\n}\n\nreturn (\n  <div style={{\n    width: '450px',\n    height: '603px',\n    borderRadius: '16px',\n    backgroundColor: '#FFFFFF',\n    padding: '24px',\n    gap: '24px',\n    display: 'flex',\n    flexDirection: 'column',\n    position: 'relative'\n  }}>\n    {/* Header with title and close button - Hide for system cards */}\n    {!isSystemCard && (\n      <div style={{ \n        display: 'flex', \n        justifyContent: 'space-between', \n        alignItems: 'center',\n        marginBottom: '24px'\n      }}>\n        <h4 style={{ \n          margin: 0,\n          fontFamily: 'Roboto, sans-serif',\n          fontWeight: 400,\n          fontSize: '24px',\n          lineHeight: '150%',\n          letterSpacing: '3.12%',\n          color: '#262626'\n        }}>\n          {survey.title}\n        </h4>\n        <button\n          onClick={onClose}\n          style={{\n            background: 'none',\n            border: 'none',\n            cursor: 'pointer',\n            padding: '4px',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center'\n          }}\n        >\n          <img src=\"/close.svg\" alt=\"Close\" width=\"24\" height=\"24\" />\n        </button>\n      </div>\n    )}\n\n    {/* Content - All blocks from current step */}\n    <div style={{ flex: 1, overflow: 'auto' }}>\n      {currentBlocks.map((block, index) => (\n        <div key={index} style={{ marginBottom: index < currentBlocks.length - 1 ? '32px' : '0' }}>\n          {/* Question/Block Title - Hide for system cards */}\n          {block.type !== 'section-header' && !isSystemCard && (\n            <div style={{ marginBottom: '16px' }}>\n              <h3 style={{ \n                margin: 0,\n                fontFamily: 'Roboto, sans-serif',\n                fontWeight: 400,\n                fontSize: '18px',\n                lineHeight: '150%',\n                letterSpacing: '1.25%',\n                color: '#262626'\n              }}>\n                {block.question || `Blok ${index + 1}`}\n              </h3>\n            </div>\n          )}\n          \n          {/* Block Content */}\n          {renderStepContent(block)}\n          \n\n        </div>\n      ))}\n    </div>\n\n    {/* Bottom section with step counter and continue button - Hide for system cards */}\n    {!isSystemCard && (\n      <div style={{\n        width: '371px',\n        height: '85px',\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        paddingTop: '20px',\n        paddingBottom: '20px',\n        marginTop: 'auto'\n      }}>\n        <div style={{\n          width: '78px',\n          height: '24px',\n          fontFamily: 'Roboto, sans-serif',\n          fontWeight: 400,\n          fontSize: '16px',\n          lineHeight: '150%',\n          letterSpacing: '0%',\n          color: '#262626'\n        }}>\n          {/* Calculate step number excluding system cards */}\n          {(() => {\n            const nonSystemCardsBeforeCurrent = allCardsWithSteps\n              .slice(0, currentCardIndex)\n              .filter(card => !card.isSystem).length;\n            return nonSystemCardsBeforeCurrent + 1;\n          })()} z {totalCards} kroků\n        </div>\n        \n        <button\n          onClick={() => {\n            // Check if this is the last step\n            const nonSystemCardsBeforeCurrent = allCardsWithSteps\n              .slice(0, currentCardIndex)\n              .filter(card => !card.isSystem).length;\n            \n            if (nonSystemCardsBeforeCurrent >= totalCards - 1) {\n              // Last step - show success screen\n              setShowSuccessScreen(true);\n            } else {\n              // Find next non-system card\n              const nextNonSystemIndex = allCardsWithSteps.findIndex((card, index) => \n                index > currentCardIndex && !card.isSystem\n              );\n              if (nextNonSystemIndex !== -1) {\n                setCurrentCardIndex(nextNonSystemIndex);\n              }\n            }\n          }}\n          disabled={false}\n          style={{\n            width: (() => {\n              const nonSystemCardsBeforeCurrent = allCardsWithSteps\n                .slice(0, currentCardIndex)\n                .filter(card => !card.isSystem).length;\n              return nonSystemCardsBeforeCurrent >= totalCards - 1 ? '201px' : '147px';\n            })(),\n            height: '56px',\n            gap: '20px',\n            paddingTop: '12px',\n            paddingRight: '20px',\n            paddingBottom: '13px',\n            paddingLeft: '20px',\n            borderRadius: '8px',\n            background: 'var(--color-green)',\n            border: 'none',\n            color: 'white',\n            cursor: 'pointer',\n            fontFamily: 'Roboto, sans-serif',\n            fontWeight: 700,\n            fontSize: '20px',\n            lineHeight: '150%',\n            letterSpacing: '3%'\n          }}\n        >\n          {(() => {\n            const nonSystemCardsBeforeCurrent = allCardsWithSteps\n              .slice(0, currentCardIndex)\n              .filter(card => !card.isSystem).length;\n            return nonSystemCardsBeforeCurrent >= totalCards - 1 ? 'Odeslat dotazník' : 'Pokračovat';\n          })()}\n        </button>\n      </div>\n    )}\n  </div>\n);\n};\n\n// Building Blocks Palette Component\nconst BuildingBlocksPalette = () => {\n  const buildingBlocks = [\n    {\n      id: 'smiley',\n      name: '5-bodové hodnocení',\n      icon: '😊',\n      description: 'Hodnocení pomocí smajlíků (1-5)',\n      color: '#ffd54f'\n    },\n    {\n      id: 'single-choice',\n      name: 'Jednoduché výběr',\n      icon: '📝',\n      description: 'Výběr jedné možnosti ze seznamu',\n      color: '#81c784'\n    },\n    {\n      id: 'dropdown-multiselect',\n      name: 'Vícenásobný výběr',\n      icon: '☑️',\n      description: 'Výběr více možností (dropdown)',\n      color: '#64b5f6'\n    },\n    {\n      id: 'text',\n      name: 'Textové pole',\n      icon: '📄',\n      description: 'Volný text nebo komentář',\n      color: '#a1887f'\n    },\n    {\n      id: 'section-header',\n      name: 'Nadpis sekce',\n      icon: '📋',\n      description: 'Název sekce nebo popisný text',\n      color: '#ffb74d'\n    }\n  ];\n\n  const handleDragStart = (e, blockType) => {\n    e.dataTransfer.setData('application/json', JSON.stringify({\n      type: 'building-block',\n      blockType: blockType\n    }));\n    e.dataTransfer.effectAllowed = 'copy';\n  };\n\n  return (\n    <div>\n      {buildingBlocks.map((block) => (\n        <div\n          key={block.id}\n          draggable\n          onDragStart={(e) => handleDragStart(e, block.id)}\n          style={{\n            backgroundColor: 'white',\n            border: '2px solid #dee2e6',\n            borderRadius: '8px',\n            padding: '15px',\n            marginBottom: '12px',\n            cursor: 'grab',\n            transition: 'all 0.2s ease',\n            boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\n          }}\n          onMouseEnter={(e) => {\n            e.target.style.transform = 'translateY(-2px)';\n            e.target.style.boxShadow = '0 4px 8px rgba(0,0,0,0.15)';\n            e.target.style.borderColor = block.color;\n          }}\n          onMouseLeave={(e) => {\n            e.target.style.transform = 'translateY(0)';\n            e.target.style.boxShadow = '0 2px 4px rgba(0,0,0,0.1)';\n            e.target.style.borderColor = '#dee2e6';\n          }}\n        >\n          <div style={{ display: 'flex', alignItems: 'center', marginBottom: '8px' }}>\n            <span \n              style={{ \n                fontSize: '24px', \n                marginRight: '12px',\n                backgroundColor: block.color + '20',\n                padding: '8px',\n                borderRadius: '6px'\n              }}\n            >\n              {block.icon}\n            </span>\n            <div style={{ flex: 1 }}>\n              <h5 style={{ margin: '0 0 4px 0', color: '#495057', fontSize: '14px' }}>\n                {block.name}\n              </h5>\n              <small style={{ color: '#6c757d', fontSize: '12px' }}>\n                {block.description}\n              </small>\n            </div>\n          </div>\n          <div style={{ \n            fontSize: '11px', \n            color: '#6c757d',\n            fontStyle: 'italic',\n            textAlign: 'center',\n            borderTop: '1px solid #f0f0f0',\n            paddingTop: '8px',\n            marginTop: '8px'\n          }}>\n            🖱️ Přetáhnout do průzkumu\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n};\n\n// Survey Canvas Component\nconst SurveyCanvas = ({ steps, onStepsChange, onEditStep, onDeleteStep, cardInfo, canEdit, isAdmin }) => {\n  const [dragOverIndex, setDragOverIndex] = React.useState(null);\n  const [draggedStepIndex, setDraggedStepIndex] = React.useState(null);\n\n  const handleDragOver = (e, index) => {\n    e.preventDefault();\n    e.dataTransfer.dropEffect = 'copy';\n    setDragOverIndex(index);\n  };\n\n  const handleDrop = (e, dropIndex) => {\n    e.preventDefault();\n    \n    // Check if editing is allowed\n    if (!canEdit) {\n      alert(cardInfo?.isAdminOnly ? 'Tato sekce může být upravována pouze administrátorem' : 'Tato sekce není editovatelná');\n      setDragOverIndex(null);\n      setDraggedStepIndex(null);\n      return;\n    }\n    \n    const data = e.dataTransfer.getData('application/json');\n    \n    try {\n      const dragData = JSON.parse(data);\n      \n      if (dragData.type === 'building-block') {\n        // Adding new block from palette\n        const newStep = {\n          id: Date.now(),\n          type: dragData.blockType,\n          question: getDefaultQuestion(dragData.blockType),\n          options: getDefaultOptions(dragData.blockType),\n          required: true,\n          conditional: false\n        };\n        \n        const newSteps = [...steps];\n        newSteps.splice(dropIndex, 0, newStep);\n        onStepsChange(newSteps);\n      } else if (dragData.type === 'existing-step') {\n        // Reordering existing steps\n        const dragIndex = dragData.index;\n        if (dragIndex !== dropIndex) {\n          const newSteps = [...steps];\n          const draggedItem = newSteps[dragIndex];\n          newSteps.splice(dragIndex, 1);\n          const actualDropIndex = dragIndex < dropIndex ? dropIndex - 1 : dropIndex;\n          newSteps.splice(actualDropIndex, 0, draggedItem);\n          onStepsChange(newSteps);\n        }\n      }\n    } catch (error) {\n      console.error('Error parsing drag data:', error);\n    }\n    \n    setDragOverIndex(null);\n    setDraggedStepIndex(null);\n  };\n\n  const handleStepDragStart = (e, index) => {\n    e.dataTransfer.setData('application/json', JSON.stringify({\n      type: 'existing-step',\n      index: index\n    }));\n    e.dataTransfer.effectAllowed = 'move';\n    setDraggedStepIndex(index);\n  };\n\n  const getDefaultQuestion = (blockType) => {\n    switch (blockType) {\n      case 'smiley': return 'Jak hodnotíte naši službu?';\n      case 'single-choice': return 'Vyberte jednu možnost:';\n      case 'dropdown-multiselect': return 'Vyberte všechny vhodné možnosti:';\n      case 'text': return 'Váš komentář nebo připomínka:';\n      case 'section-header': return 'Název sekce';\n      default: return 'Nová otázka';\n    }\n  };\n\n  const getDefaultOptions = (blockType) => {\n    switch (blockType) {\n      case 'single-choice': return ['Možnost 1', 'Možnost 2', 'Možnost 3'];\n      case 'dropdown-multiselect': return ['Možnost A', 'Možnost B', 'Možnost C'];\n      default: return [];\n    }\n  };\n\n  // Create drop zones between steps and at the end\n  const dropZones = [];\n  for (let i = 0; i <= steps.length; i++) {\n    dropZones.push(\n      <div\n        key={`drop-${i}`}\n        onDragOver={(e) => handleDragOver(e, i)}\n        onDrop={(e) => handleDrop(e, i)}\n        onDragLeave={() => setDragOverIndex(null)}\n        style={{\n          height: dragOverIndex === i ? '40px' : '20px',\n          backgroundColor: dragOverIndex === i ? '#e3f2fd' : 'transparent',\n          border: dragOverIndex === i ? '2px dashed #2196f3' : '2px dashed transparent',\n          borderRadius: '8px',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          transition: 'all 0.2s ease',\n          margin: '5px 0'\n        }}\n      >\n        {dragOverIndex === i && (\n          <span style={{ color: '#2196f3', fontSize: '12px', fontWeight: 'bold' }}>\n            ⬇️ Upustit zde\n          </span>\n        )}\n      </div>\n    );\n\n    // Add step card after each drop zone (except the last one)\n    if (i < steps.length) {\n      dropZones.push(\n        <SurveyStepCard\n          key={steps[i].id}\n          step={steps[i]}\n          index={i}\n          onEdit={canEdit ? () => onEditStep(steps[i]) : undefined}\n          onDelete={canEdit ? () => onDeleteStep(steps[i].id) : undefined}\n          onDragStart={canEdit ? handleStepDragStart : undefined}\n          isDragging={draggedStepIndex === i}\n          isInCanvas={true}\n          canEdit={canEdit}\n        />\n      );\n    }\n  }\n\n  const getEmptyStateContent = () => {\n    if (!canEdit) {\n      return {\n        icon: '🔒',\n        title: cardInfo?.isAdminOnly ? 'Sekce pouze pro administrátory' : 'Sekce jen pro čtení',\n        message: cardInfo?.isAdminOnly \n          ? 'Tato sekce může být upravována pouze administrátorem'\n          : 'Tato sekce není editovatelná, ale můžete si prohlédnout její obsah'\n      };\n    }\n    \n    if (dragOverIndex === 0) {\n      return {\n        icon: '⬇️',\n        title: 'Upustit zde!',\n        message: 'Vytvořte svůj první blok v tomto kroku'\n      };\n    }\n    \n    return {\n      icon: '📋',\n      title: 'Prázdný krok',\n      message: 'Přetáhněte stavební bloky sem pro vytvoření obsahu tohoto kroku'\n    };\n  };\n\n  return (\n    <div style={{ padding: '20px', minHeight: '400px' }}>\n      {/* Card Header */}\n      <div style={{ \n        marginBottom: '20px', \n        padding: '15px',\n        backgroundColor: cardInfo?.isAdminOnly ? '#fff3cd' : '#e7f3ff',\n        border: `1px solid ${cardInfo?.isAdminOnly ? '#ffeaa7' : '#b3d7ff'}`,\n        borderRadius: '6px'\n      }}>\n                 <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n            <div>\n            <h4 style={{ margin: '0 0 4px 0', color: '#495057' }}>\n              {cardInfo?.title} - Krok průzkumu\n              {cardInfo?.isAdminOnly && (\n                <span style={{ \n                  marginLeft: '8px', \n                  fontSize: '11px',\n                  backgroundColor: 'var(--color-red)',\n                  color: 'white',\n                  padding: '2px 6px',\n                  borderRadius: '3px'\n                }}>\n                  ADMIN ONLY\n                </span>\n              )}\n            </h4>\n            <small style={{ color: '#6c757d' }}>{cardInfo?.description}</small>\n          </div>\n          <div style={{\n            display: 'flex',\n            alignItems: 'center',\n            gap: '10px'\n          }}>\n                         <span style={{ \n               backgroundColor: '#6c757d',\n               color: 'white',\n               padding: '4px 8px',\n               borderRadius: '12px',\n               fontSize: '12px',\n               fontWeight: 'bold'\n             }}>\n               {steps.length} {steps.length === 1 ? 'blok' : steps.length < 5 ? 'bloky' : 'bloků'}\n             </span>\n            {!canEdit && <span style={{ fontSize: '20px' }}>🔒</span>}\n          </div>\n        </div>\n      </div>\n\n      {steps.length === 0 ? (\n        <div\n          onDragOver={canEdit ? (e) => handleDragOver(e, 0) : undefined}\n          onDrop={canEdit ? (e) => handleDrop(e, 0) : undefined}\n          onDragLeave={canEdit ? () => setDragOverIndex(null) : undefined}\n          style={{\n            textAlign: 'center',\n            padding: '80px 20px',\n            border: `3px dashed ${canEdit && dragOverIndex === 0 ? '#2196f3' : '#dee2e6'}`,\n            borderRadius: '12px',\n            backgroundColor: canEdit && dragOverIndex === 0 ? '#e3f2fd' : '#f8f9fa',\n            color: '#6c757d',\n            transition: 'all 0.3s ease',\n            opacity: canEdit ? 1 : 0.7\n          }}\n        >\n          {(() => {\n            const content = getEmptyStateContent();\n            return (\n              <>\n                <div style={{ fontSize: '48px', marginBottom: '20px' }}>\n                  {content.icon}\n                </div>\n                <h4 style={{ margin: '0 0 10px 0' }}>\n                  {content.title}\n                </h4>\n                <p style={{ margin: 0 }}>\n                  {content.message}\n                </p>\n              </>\n            );\n          })()}\n        </div>\n      ) : (\n        <div style={{ opacity: canEdit ? 1 : 0.8 }}>\n          {dropZones}\n        </div>\n      )}\n    </div>\n  );\n};\n\n// Survey Card Manager Component\nconst SurveyCardManager = ({ survey, activeCardIndex, onActiveCardChange, onSurveyChange, onEditStep, onDeleteStep, user, globalMode = false }) => {\n  const navigate = useNavigate();\n  const isAdmin = user?.role === 'admin';\n\n  const handleStepsChange = (cardIndex, newSteps) => {\n    onSurveyChange(prev => ({\n      ...prev,\n      cards: prev.cards.map((card, index) => \n        index === cardIndex ? { ...card, steps: newSteps } : card\n      )\n    }));\n  };\n\n  const canEditCard = (card) => {\n    if (card.isGlobal && !globalMode) {\n      return false; // Global cards are not editable in regular survey creator\n    }\n    if (card.isAdminOnly) {\n      return isAdmin;\n    }\n    return card.isEditable;\n  };\n\n  const handleCardClick = (cardIndex) => {\n    const card = survey.cards[cardIndex];\n    \n    // Show warning for global sections in regular mode\n    if (!globalMode && (card.id === 2 || card.id === 4)) {\n      if (isAdmin) {\n        const shouldRedirect = window.confirm(\n          `Pokoušíte se editovat globální sekci \"${card.title}\".\\n\\n` +\n          `Pro lepší správu globálních sekcí doporučujeme použít dedikovanou stránku \"Global Surveys\".\\n\\n` +\n          `Chcete přejít na Global Surveys nyní?`\n        );\n        \n        if (shouldRedirect) {\n          navigate('/global-surveys');\n          return;\n        }\n      } else {\n        alert(\n          `Sekce \"${card.title}\" je globální a spravuje ji administrátor.\\n\\n` +\n          `Tato sekce je automaticky zahrnuta do všech dotazníků a nelze ji zde upravovat.`\n        );\n        return;\n      }\n    }\n    \n    onActiveCardChange(cardIndex);\n  };\n\n  const canDeleteCard = (card, cardIndex) => {\n    // Cannot delete system cards or admin cards\n    // Cannot delete if it's the only user card\n    const userCards = survey.cards.filter(c => !c.isAdminOnly && !c.isSystem);\n    return !card.isAdminOnly && !card.isSystem && userCards.length > 1;\n  };\n\n  const addNewCard = () => {\n    const userCards = survey.cards.filter(c => !c.isAdminOnly && !c.isSystem);\n    const newCardNumber = userCards.length + 1;\n    const lastAdminCardIndex = survey.cards.length - 1; // Last card is always admin \"Závěrečná sekce\"\n    \n    const newCard = {\n      id: Date.now(),\n      title: `Krok ${newCardNumber}`,\n      description: `Uživatelská sekce ${newCardNumber}`,\n      isAdminOnly: false,\n      isEditable: true,\n      steps: []\n    };\n\n    onSurveyChange(prev => {\n      const newCards = [...prev.cards];\n      // Insert before the last admin card\n      newCards.splice(lastAdminCardIndex, 0, newCard);\n      return {\n        ...prev,\n        cards: newCards\n      };\n    });\n  };\n\n  const deleteCard = (cardIndex) => {\n    const card = survey.cards[cardIndex];\n    if (!canDeleteCard(card, cardIndex)) return;\n\n    if (window.confirm(`Opravdu chcete smazat \"${card.title}\"? Všechny bloky v této sekci budou ztraceny.`)) {\n      onSurveyChange(prev => ({\n        ...prev,\n        cards: prev.cards.filter((_, index) => index !== cardIndex)\n      }));\n\n      // Adjust active card index if needed\n      if (activeCardIndex === cardIndex) {\n        // Move to the previous card or first editable card\n        const newActiveIndex = cardIndex > 0 ? cardIndex - 1 : 0;\n        onActiveCardChange(newActiveIndex);\n      } else if (activeCardIndex > cardIndex) {\n        onActiveCardChange(activeCardIndex - 1);\n      }\n    }\n  };\n\n  const renameCard = (cardIndex, newTitle) => {\n    onSurveyChange(prev => ({\n      ...prev,\n      cards: prev.cards.map((card, index) => \n        index === cardIndex ? { ...card, title: newTitle } : card\n      )\n    }));\n  };\n\n  return (\n    <div style={{ display: 'flex', flexDirection: 'column', height: '100%' }}>\n      {/* Card Management Panel */}\n      <div style={{\n        backgroundColor: '#f8f9fa',\n        padding: '12px 20px',\n        borderBottom: '2px solid #dee2e6',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        gap: '15px'\n      }}>\n        <div style={{ display: 'flex', alignItems: 'center', gap: '10px' }}>\n          <span style={{ \n            fontWeight: 'bold', \n            color: '#495057',\n            fontSize: '14px'\n          }}>\n            📋 Správa kroků:\n          </span>\n          \n          <button\n            onClick={addNewCard}\n            style={{\n              display: 'flex',\n              alignItems: 'center',\n              gap: '5px',\n              padding: '8px 12px',\n              backgroundColor: 'var(--color-green)',\n              color: 'white',\n              border: 'none',\n              borderRadius: '4px',\n              fontSize: '13px',\n              fontWeight: 'bold',\n              cursor: 'pointer',\n              transition: 'all 0.2s ease'\n            }}\n            onMouseEnter={(e) => e.target.style.backgroundColor = '#218838'}\n            onMouseLeave={(e) => e.target.style.backgroundColor = 'var(--color-green)'}\n            title=\"Přidat nový krok mezi uživatelské sekce\"\n          >\n            ➕ Přidat krok\n          </button>\n        </div>\n\n        <div style={{ display: 'flex', alignItems: 'center', gap: '15px' }}>\n          <small style={{ color: '#6c757d', fontSize: '12px' }}>\n            💡 Tip: Kliknutím na krok ho aktivujete, systémové kroky 🔒 může editovat pouze admin\n          </small>\n          \n          <div style={{ \n            backgroundColor: '#e9ecef',\n            padding: '4px 8px',\n            borderRadius: '4px',\n            fontSize: '12px',\n            fontWeight: 'bold',\n            color: '#495057'\n          }}>\n            {survey.cards.filter(card => !card.isSystem).length} {survey.cards.filter(card => !card.isSystem).length === 1 ? 'krok' : survey.cards.filter(card => !card.isSystem).length < 5 ? 'kroky' : 'kroků'}\n          </div>\n        </div>\n      </div>\n\n      {/* Card Tabs - Hide system cards */}\n      <div style={{ \n        display: 'flex', \n        borderBottom: '1px solid #dee2e6',\n        backgroundColor: '#f8f9fa',\n        borderRadius: '0'\n      }}>\n        {survey.cards\n          .filter(card => !card.isSystem) // Hide system cards from the interface\n          .map((card, filteredIndex) => {\n            // Find the original index in the unfiltered array\n            const originalIndex = survey.cards.findIndex(c => c.id === card.id);\n            return (\n              <CardTab\n                key={card.id}\n                card={card}\n                index={originalIndex}\n                isActive={activeCardIndex === originalIndex}\n                canEdit={canEditCard(card)}\n                canDelete={canDeleteCard(card, originalIndex)}\n                isAdmin={isAdmin}\n                onClick={() => handleCardClick(originalIndex)}\n                onDelete={() => deleteCard(originalIndex)}\n                onRename={(newTitle) => renameCard(originalIndex, newTitle)}\n              />\n            );\n          })}\n      </div>\n\n      {/* Active Card Content */}\n      <div style={{ flex: 1, backgroundColor: 'white' }}>\n        {survey.cards[activeCardIndex] && (\n          <SurveyCanvas \n            steps={survey.cards[activeCardIndex].steps}\n            onStepsChange={(newSteps) => handleStepsChange(activeCardIndex, newSteps)}\n            onEditStep={onEditStep}\n            onDeleteStep={(stepId) => onDeleteStep(stepId, activeCardIndex)}\n            cardInfo={survey.cards[activeCardIndex]}\n            canEdit={canEditCard(survey.cards[activeCardIndex])}\n            isAdmin={isAdmin}\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n\n// New CardTab component for individual card management\nconst CardTab = ({ card, index, isActive, canEdit, canDelete, isAdmin, onClick, onDelete, onRename }) => {\n  const [isEditing, setIsEditing] = React.useState(false);\n  const [editTitle, setEditTitle] = React.useState(card.title);\n\n  const handleDoubleClick = () => {\n    if (canEdit && !card.isAdminOnly) {\n      setIsEditing(true);\n      setEditTitle(card.title);\n    }\n  };\n\n  const handleKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      handleSaveEdit();\n    } else if (e.key === 'Escape') {\n      setIsEditing(false);\n      setEditTitle(card.title);\n    }\n  };\n\n  const handleSaveEdit = () => {\n    if (editTitle.trim() && editTitle !== card.title) {\n      onRename(editTitle.trim());\n    }\n    setIsEditing(false);\n  };\n\n  return (\n    <div\n      onClick={!isEditing ? onClick : undefined}\n      onDoubleClick={handleDoubleClick}\n      style={{\n        flex: 1,\n        padding: '15px 20px',\n        cursor: isEditing ? 'default' : 'pointer',\n        backgroundColor: isActive ? '#007bff' : 'transparent',\n        color: isActive ? 'white' : (card.isAdminOnly && !isAdmin ? '#999' : '#495057'),\n        borderBottom: isActive ? '3px solid #0056b3' : '3px solid transparent',\n        transition: 'all 0.2s ease',\n        opacity: card.isAdminOnly && !isAdmin ? 0.6 : 1,\n        position: 'relative',\n        minWidth: '180px'\n      }}\n      onMouseEnter={(e) => {\n        if (!isActive && (canEdit || !card.isAdminOnly) && !isEditing) {\n          e.target.style.backgroundColor = '#e9ecef';\n        }\n      }}\n      onMouseLeave={(e) => {\n        if (!isActive && !isEditing) {\n          e.target.style.backgroundColor = 'transparent';\n        }\n      }}\n    >\n      <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>\n        <div style={{ flex: 1 }}>\n          {isEditing ? (\n            <input\n              type=\"text\"\n              value={editTitle}\n              onChange={(e) => setEditTitle(e.target.value)}\n              onBlur={handleSaveEdit}\n              onKeyDown={handleKeyPress}\n              style={{\n                backgroundColor: 'white',\n                color: '#000',\n                border: '2px solid #007bff',\n                borderRadius: '3px',\n                padding: '4px 8px',\n                fontSize: '14px',\n                fontWeight: 'bold',\n                width: '100%',\n                outline: 'none'\n              }}\n              autoFocus\n              onClick={(e) => e.stopPropagation()}\n            />\n          ) : (\n            <h5 style={{ margin: '0 0 4px 0', fontSize: '14px', fontWeight: 'bold' }}>\n              {card.title}\n              {card.isAdminOnly && (\n                <span style={{ \n                  marginLeft: '8px', \n                  fontSize: '12px',\n                  backgroundColor: 'var(--color-red)',\n                  color: 'white',\n                  padding: '2px 6px',\n                  borderRadius: '3px'\n                }}>\n                  Admin\n                </span>\n              )}\n            </h5>\n          )}\n          \n          {!isEditing && (\n            <small style={{ \n              opacity: 0.8, \n              fontSize: '11px',\n              display: 'block' \n            }}>\n              {card.description}\n            </small>\n          )}\n        </div>\n\n        <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'flex-end', gap: '2px', marginLeft: '10px' }}>\n          <div style={{ \n            backgroundColor: isActive ? 'rgba(255,255,255,0.2)' : '#6c757d',\n            color: 'white',\n            borderRadius: '12px',\n            padding: '2px 8px',\n            fontSize: '11px',\n            fontWeight: 'bold'\n          }}>\n            Krok {index + 1}\n          </div>\n          \n          <div style={{ \n            backgroundColor: isActive ? 'rgba(255,255,255,0.1)' : 'var(--color-green)',\n            color: 'white',\n            borderRadius: '8px',\n            padding: '1px 6px',\n            fontSize: '10px',\n            fontWeight: 'bold'\n          }}>\n            {card.steps.length} {card.steps.length === 1 ? 'blok' : card.steps.length < 5 ? 'bloky' : 'bloků'}\n          </div>\n        </div>\n      </div>\n      \n      {/* Card Actions */}\n      <div style={{\n        position: 'absolute',\n        top: '4px',\n        right: '4px',\n        display: 'flex',\n        gap: '4px',\n        opacity: isActive ? 1 : 0.7\n      }}>\n        {!canEdit && (\n          <span style={{ fontSize: '16px' }}>🔒</span>\n        )}\n        \n        {canDelete && (\n          <button\n            onClick={(e) => {\n              e.stopPropagation();\n              onDelete();\n            }}\n            style={{\n              background: 'none',\n              border: 'none',\n              fontSize: '14px',\n              cursor: 'pointer',\n              padding: '2px',\n              borderRadius: '2px',\n              color: isActive ? 'rgba(255,255,255,0.8)' : 'var(--color-red)'\n            }}\n            title=\"Smazat tento krok\"\n            onMouseEnter={(e) => e.target.style.backgroundColor = 'rgba(220, 53, 69, 0.1)'}\n            onMouseLeave={(e) => e.target.style.backgroundColor = 'transparent'}\n          >\n            ❌\n          </button>\n        )}\n        \n        {canEdit && !card.isAdminOnly && !isEditing && (\n          <button\n            onClick={(e) => {\n              e.stopPropagation();\n              handleDoubleClick();\n            }}\n            style={{\n              background: 'none',\n              border: 'none',\n              fontSize: '12px',\n              cursor: 'pointer',\n              padding: '2px',\n              borderRadius: '2px',\n              color: isActive ? 'rgba(255,255,255,0.8)' : '#6c757d'\n            }}\n            title=\"Přejmenovat krok (nebo dvojklik)\"\n            onMouseEnter={(e) => e.target.style.backgroundColor = 'rgba(108, 117, 125, 0.1)'}\n            onMouseLeave={(e) => e.target.style.backgroundColor = 'transparent'}\n          >\n            ✏️\n          </button>\n        )}\n      </div>\n      \n      {!isEditing && canEdit && !card.isAdminOnly && (\n        <div style={{\n          position: 'absolute',\n          bottom: '2px',\n          left: '50%',\n          transform: 'translateX(-50%)',\n          fontSize: '9px',\n          opacity: 0.6,\n          color: isActive ? 'rgba(255,255,255,0.6)' : '#6c757d'\n        }}>\n          Dvojklik = přejmenovat\n        </div>\n      )}\n    </div>\n  );\n};\n\n// Wrapper component to handle URL parameters\nconst SurveyCreatorWithParams = () => {\n  const { surveyId } = useParams();\n  return <SurveyCreator editingSurveyId={surveyId} />;\n};\n\n// Wrapper component for Global Surveys mode\nconst GlobalSurveysCreator = () => {\n  return <SurveyCreator globalMode={true} />;\n};\n\nconst SurveyList = () => {\n  const { user } = useAuth();\n  const navigate = useNavigate();\n  const [surveys, setSurveys] = React.useState([]);\n  const [loading, setLoading] = React.useState(true);\n  const [error, setError] = React.useState(null);\n\n\n  // Fetch surveys\n  React.useEffect(() => {\n    fetchSurveys();\n  }, []);\n\n  const fetchSurveys = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const response = await fetch('/api/surveys', {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      \n      if (response.ok) {\n        const data = await response.json();\n        setSurveys(data.surveys || []);\n      } else {\n        throw new Error('Chyba při načítání dotazníků');\n      }\n    } catch (error) {\n      console.error('Error fetching surveys:', error);\n      setError(error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleEdit = (survey) => {\n    navigate(`/survey-creator/edit/${survey.id}`);\n  };\n\n  const handleDelete = async (surveyId, surveyTitle) => {\n    if (window.confirm(`Opravdu chcete smazat dotazník \"${surveyTitle}\"?`)) {\n      try {\n        const response = await fetch(`/api/surveys/${surveyId}`, {\n          method: 'DELETE',\n          headers: {\n            'Authorization': `Bearer ${localStorage.getItem('token')}`\n          }\n        });\n\n        if (response.ok) {\n          await fetchSurveys();\n          alert('Dotazník byl smazán');\n        } else {\n          throw new Error('Chyba při mazání dotazníku');\n        }\n      } catch (error) {\n        console.error('Error deleting survey:', error);\n        alert('Chyba při mazání dotazníku: ' + error.message);\n      }\n    }\n  };\n\n\n\n  const getStatusColor = (status) => {\n    switch (status) {\n      case 'active': return 'var(--color-tag-bg-green)';\n      case 'draft': return 'var(--color-tag-bg-yellow)';\n      case 'paused': return 'var(--color-tag-bg-red)';\n      case 'completed': return 'var(--color-tag-bg-blue)';\n      default: return 'var(--color-tag-bg-gray)';\n    }\n  };\n\n  const getStatusTextColor = (status) => {\n    switch (status) {\n      case 'active': return 'var(--color-tag-text-green)';\n      case 'draft': return 'var(--color-tag-text-yellow)';\n      case 'paused': return 'var(--color-tag-text-red)';\n      case 'completed': return 'var(--color-tag-text-blue)';\n      default: return 'var(--color-tag-text-gray)';\n    }\n  };\n\n  const getStatusText = (status) => {\n    switch (status) {\n      case 'active': return 'Aktivní';\n      case 'draft': return 'Koncept';\n      case 'paused': return 'Pozastaveno';\n      case 'completed': return 'Dokončeno';\n      default: return status;\n    }\n  };\n\n  if (loading) {\n    return <div style={{ padding: '20px' }}>Načítání dotazníků...</div>;\n  }\n\n  if (error) {\n    return (\n      <div style={{ padding: '20px' }}>\n        <div style={{ color: 'red', marginBottom: '10px' }}>Chyba: {error}</div>\n        <button onClick={fetchSurveys} style={{ padding: '8px 16px', backgroundColor: '#007bff', color: 'white', border: 'none', borderRadius: '4px' }}>\n          Zkusit znovu\n        </button>\n      </div>\n    );\n  }\n\n  return (\n    <div style={{ padding: '20px' }}>\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '20px' }}>\n        <h2>Seznam dotazníků</h2>\n        <div style={{ fontSize: '14px', color: '#6c757d' }}>\n          {user?.role === 'admin' ? 'Zobrazeny všechny dotazníky' : 'Zobrazeny vaše dotazníky'}\n        </div>\n      </div>\n\n      {surveys.length === 0 ? (\n        <div style={{ textAlign: 'center', padding: '40px', color: '#6c757d' }}>\n          <p>Žádné dotazníky nebyly nalezeny.</p>\n          <p>Začněte vytvořením nového dotazníku v Tvorba dotazníku.</p>\n        </div>\n      ) : (\n        <div style={{ overflowX: 'auto', borderRadius: '8px' }}>\n          <table\n            style={{\n              width: '100%',\n              borderCollapse: 'collapse',\n              fontSize: '14px',\n              border: '1.5px solid rgb(50, 70, 90)',\n              borderRadius: '8px',\n              overflow: 'hidden'\n            }}\n          >\n            <thead>\n              <tr style={{ backgroundColor: '#f8f9fa', border: '1px solid #dee2e6' }}>\n                <th style={{ padding: '12px', textAlign: 'left', minWidth: '150px', border: '1px solid #dee2e6' }}>Datum a čas</th>\n                <th style={{ padding: '12px', textAlign: 'left', border: '1px solid #dee2e6', fontWeight: 'bold' }}>Název</th>\n                <th style={{ padding: '12px', textAlign: 'left', border: '1px solid #dee2e6', fontWeight: 'bold' }}>Vlastník</th>\n                <th style={{ padding: '12px', textAlign: 'left', border: '1px solid #dee2e6', fontWeight: 'bold' }}>Status</th>\n                <th style={{ padding: '12px', textAlign: 'center', border: '1px solid #dee2e6', fontWeight: 'bold' }}>Aktivní tokeny</th>\n                <th style={{ padding: '12px', textAlign: 'left', border: '1px solid #dee2e6', fontWeight: 'bold' }}>Vytvořeno</th>\n                <th style={{ padding: '12px', textAlign: 'left', border: '1px solid #dee2e6', fontWeight: 'bold' }}>Upraveno</th>\n                <th style={{ padding: '12px', textAlign: 'center', border: '1px solid #dee2e6', fontWeight: 'bold' }}>Akce</th>\n              </tr>\n            </thead>\n            <tbody>\n              {surveys.map((survey, idx) => (\n                <tr key={survey.id} style={{ backgroundColor: survey.id % 2 === 0 ? '#f9f9f9' : 'white' }}>\n                  <td style={{ padding: '12px', borderBottom: idx === surveys.length - 1 ? 'none' : '1px solid #dee2e6' }}>\n                    {new Date(survey.created_at).toLocaleString('cs-CZ')}\n                    <div style={{ fontSize: '11px', color: '#6c757d' }}>\n                      {new Date(survey.created_at).toLocaleTimeString('cs-CZ', {\n                        hour: '2-digit',\n                        minute: '2-digit'\n                      })}\n                    </div>\n                  </td>\n                  <td style={{ padding: '12px', borderBottom: idx === surveys.length - 1 ? 'none' : '1px solid #dee2e6' }}>\n                    <div style={{ fontWeight: 'bold', marginBottom: '4px' }}>{survey.title}</div>\n                    {survey.description && (\n                      <div style={{ fontSize: '12px', color: '#6c757d', maxWidth: '200px', overflow: 'hidden', textOverflow: 'ellipsis' }}>\n                        {survey.description}\n                      </div>\n                    )}\n                  </td>\n                  <td style={{ padding: '12px', borderBottom: idx === surveys.length - 1 ? 'none' : '1px solid #dee2e6' }}>\n                    <div style={{ fontWeight: 'bold' }}>{survey.owner_username}</div>\n                    {user?.role === 'admin' && survey.user_id !== user.id && (\n                      <div style={{ fontSize: '11px', color: 'var(--color-red)', fontWeight: 'bold' }}>CIZÍ</div>\n                    )}\n                  </td>\n                  <td style={{ padding: '12px', borderBottom: idx === surveys.length - 1 ? 'none' : '1px solid #dee2e6' }}>\n                    <span style={{ \n                      padding: '4px 8px', \n                      borderRadius: '8px',\n                      backgroundColor: getStatusColor(survey.status),\n                      color: getStatusTextColor(survey.status),\n                      fontSize: '12px',\n                      fontWeight: 'bold'\n                    }}>\n                      {getStatusText(survey.status)}\n                    </span>\n                  </td>\n                  <td style={{ padding: '12px', borderBottom: idx === surveys.length - 1 ? 'none' : '1px solid #dee2e6', textAlign: 'center' }}>\n                    {survey.is_active ? (\n                      <span style={{ \n                        padding: '4px 8px', \n                        borderRadius: '8px',\n                        backgroundColor: 'var(--color-tag-bg-green)',\n                        color: 'var(--color-tag-text-green)',\n                        fontSize: '12px',\n                        fontWeight: 'bold'\n                      }}>\n                        AKTIVNÍ\n                      </span>\n                    ) : (\n                      <span style={{ \n                        padding: '4px 8px', \n                        borderRadius: '8px',\n                        backgroundColor: 'var(--color-tag-bg-gray)',\n                        color: 'var(--color-tag-text-gray)',\n                        fontSize: '12px',\n                        fontWeight: 'bold'\n                      }}>\n                        NEAKTIVNÍ\n                      </span>\n                    )}\n                    <div style={{ fontSize: '11px', color: '#6c757d', marginTop: '2px' }}>\n                      {survey.token_count || 0} tokenů\n                    </div>\n                  </td>\n                  <td style={{ padding: '12px', borderBottom: idx === surveys.length - 1 ? 'none' : '1px solid #dee2e6', fontSize: '13px' }}>\n                    {new Date(survey.created_at).toLocaleDateString('cs-CZ', {\n                      day: '2-digit',\n                      month: '2-digit',\n                      year: 'numeric'\n                    })}\n                    <div style={{ fontSize: '11px', color: '#6c757d' }}>\n                      {new Date(survey.created_at).toLocaleTimeString('cs-CZ', {\n                        hour: '2-digit',\n                        minute: '2-digit'\n                      })}\n                    </div>\n                  </td>\n                  <td style={{ padding: '12px', borderBottom: idx === surveys.length - 1 ? 'none' : '1px solid #dee2e6', fontSize: '13px' }}>\n                    {new Date(survey.updated_at).toLocaleDateString('cs-CZ', {\n                      day: '2-digit',\n                      month: '2-digit',\n                      year: 'numeric'\n                    })}\n                    <div style={{ fontSize: '11px', color: '#6c757d' }}>\n                      {new Date(survey.updated_at).toLocaleTimeString('cs-CZ', {\n                        hour: '2-digit',\n                        minute: '2-digit'\n                      })}\n                    </div>\n                  </td>\n                  <td style={{ padding: '12px', borderBottom: idx === surveys.length - 1 ? 'none' : '1px solid #dee2e6', textAlign: 'center' }}>\n                    <div style={{ display: 'flex', flexDirection: 'column', gap: '4px', alignItems: 'center' }}>\n                      {(user?.role === 'admin' || survey.user_id === user?.id) && (\n                        <>\n                          <button \n                            onClick={() => handleEdit(survey)}\n                            style={{ \n                              padding: '4px 8px', \n                              backgroundColor: 'var(--color-yellow)', \n                              border: 'none', \n                              borderRadius: '3px',\n                              fontSize: '12px',\n                              cursor: 'pointer',\n                              minWidth: '60px'\n                            }}\n                            title=\"Upravit dotazník\"\n                          >\n                            Upravit\n                          </button>\n                          <button \n                            onClick={() => handleDelete(survey.id, survey.title)}\n                            style={{ \n                              padding: '4px 8px', \n                              backgroundColor: 'var(--color-red)', \n                              color: 'white', \n                              border: 'none', \n                              borderRadius: '3px',\n                              fontSize: '12px',\n                              cursor: 'pointer',\n                              minWidth: '60px'\n                            }}\n                            title=\"Smazat dotazník\"\n                          >\n                            Smazat\n                          </button>\n                        </>\n                      )}\n                      {user?.role !== 'admin' && survey.user_id !== user?.id && (\n                        <span style={{ fontSize: '12px', color: '#6c757d', fontStyle: 'italic' }}>\n                          Pouze zobrazení\n                        </span>\n                      )}\n                    </div>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      )}\n\n\n    </div>\n  );\n};\n\nconst TokenList = () => {\n  const { user } = useAuth();\n  const [tokens, setTokens] = React.useState([]);\n  const [surveys, setSurveys] = React.useState([]);\n  const [loading, setLoading] = React.useState(true);\n  const [error, setError] = React.useState(null);\n  const [showCreateForm, setShowCreateForm] = React.useState(false);\n  const [newToken, setNewToken] = React.useState({\n    surveyId: '',\n    allowedDomains: '',\n    validFrom: '',\n    validTo: ''\n  });\n\n  // Fetch tokens and surveys\n  React.useEffect(() => {\n    fetchTokens();\n    fetchSurveys();\n  }, []);\n\n  const fetchTokens = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const response = await fetch('/api/tokens', {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      \n      if (response.ok) {\n        const data = await response.json();\n        setTokens(data.tokens || []);\n      } else {\n        throw new Error('Chyba při načítání tokenů');\n      }\n    } catch (error) {\n      console.error('Error fetching tokens:', error);\n      setError(error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchSurveys = async () => {\n    try {\n      const response = await fetch('/api/surveys', {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      \n      if (response.ok) {\n        const data = await response.json();\n        setSurveys(data.surveys || []);\n      }\n    } catch (error) {\n      console.error('Error fetching surveys:', error);\n    }\n  };\n\n  const handleCreateToken = async (e) => {\n    e.preventDefault();\n    \n    if (!newToken.surveyId) {\n      alert('Vyberte prosím dotazník');\n      return;\n    }\n\n    try {\n      const response = await fetch('/api/tokens', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        },\n        body: JSON.stringify({\n          survey_id: newToken.surveyId,\n          allowed_domains: newToken.allowedDomains.split('\\n').filter(d => d.trim()),\n          valid_from: newToken.validFrom || null,\n          valid_until: newToken.validTo || null\n        })\n      });\n\n      if (response.ok) {\n        await fetchTokens();\n        setShowCreateForm(false);\n        setNewToken({ surveyId: '', allowedDomains: '', validFrom: '', validTo: '' });\n        alert('Token byl úspěšně vytvořen!');\n      } else {\n        const errorData = await response.json();\n        throw new Error(errorData.error || 'Chyba při vytváření tokenu');\n      }\n    } catch (error) {\n      console.error('Error creating token:', error);\n      alert('Chyba při vytváření tokenu: ' + error.message);\n    }\n  };\n\n  const handleToggleStatus = async (tokenId, currentStatus) => {\n    const newStatus = currentStatus === 'active' ? 'paused' : 'active';\n    const action = newStatus === 'active' ? 'obnovit' : 'pozastavit';\n    const endpoint = newStatus === 'active' ? 'resume' : 'pause';\n    \n    if (window.confirm(`Opravdu chcete ${action} tento token?`)) {\n      try {\n        const response = await fetch(`/api/tokens/${tokenId}/${endpoint}`, {\n          method: 'PATCH',\n          headers: {\n            'Authorization': `Bearer ${localStorage.getItem('token')}`\n          }\n        });\n\n        if (response.ok) {\n          await fetchTokens();\n          alert(`Token byl ${newStatus === 'active' ? 'obnoven' : 'pozastaven'}`);\n        } else {\n          throw new Error('Chyba při změně statusu');\n        }\n      } catch (error) {\n        console.error('Error updating token:', error);\n        alert('Chyba při změně statusu: ' + error.message);\n      }\n    }\n  };\n\n  const handleDeleteToken = async (tokenId, tokenName) => {\n    if (window.confirm(`Opravdu chcete smazat token \"${tokenName}\"?`)) {\n      try {\n        const response = await fetch(`/api/tokens/${tokenId}`, {\n          method: 'DELETE',\n          headers: {\n            'Authorization': `Bearer ${localStorage.getItem('token')}`\n          }\n        });\n\n        if (response.ok) {\n          await fetchTokens();\n          alert('Token byl smazán');\n        } else {\n          throw new Error('Chyba při mazání tokenu');\n        }\n      } catch (error) {\n        console.error('Error deleting token:', error);\n        alert('Chyba při mazání tokenu: ' + error.message);\n      }\n    }\n  };\n\n  const copyToClipboard = (text) => {\n    navigator.clipboard.writeText(text).then(() => {\n      alert('Kód byl zkopírován do schránky!');\n    }).catch(() => {\n      alert('Chyba při kopírování do schránky');\n    });\n  };\n\n  const getStatusColor = (status) => {\n    return status === 'active' ? 'var(--color-green)' : 'var(--color-gray)';\n  };\n\n  const getStatusText = (status) => {\n    return status === 'active' ? 'Aktivní' : 'Pozastaveno';\n  };\n\n  if (loading) {\n    return <div style={{ padding: '20px' }}>Načítání tokenů...</div>;\n  }\n\n  if (error) {\n    return (\n      <div style={{ padding: '20px' }}>\n        <div style={{ color: 'red', marginBottom: '10px' }}>Chyba: {error}</div>\n        <button onClick={fetchTokens} style={{ padding: '8px 16px', backgroundColor: '#007bff', color: 'white', border: 'none', borderRadius: '4px' }}>\n          Zkusit znovu\n        </button>\n      </div>\n    );\n  }\n\n  return (\n    <div style={{ padding: '20px' }}>\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '20px' }}>\n        <h2>Tokenizace doatazníků</h2>\n        <div style={{ fontSize: '14px', color: '#6c757d' }}>\n          {user?.role === 'admin' ? 'Zobrazeny všechny tokeny' : 'Zobrazeny vaše tokeny'}\n        </div>\n      </div>\n\n      <div style={{ \n        backgroundColor: '#e3f2fd', \n        border: '1px solid #2196f3', \n        borderRadius: '8px', \n        padding: '16px', \n        marginBottom: '20px' \n      }}>\n        <div style={{ display: 'flex', alignItems: 'center', marginBottom: '8px' }}>\n          <span style={{ fontSize: '20px', marginRight: '8px' }}>📡</span>\n          <strong style={{ color: '#1976d2' }}>EMBEDOVÁNÍ WIDGETŮ</strong>\n        </div>\n        <p style={{ margin: '0', color: '#1976d2', fontSize: '14px' }}>\n          Vytvořte tokeny pro embedování dotazníků na externí weby. \n          Každý token generuje JavaScript soubor, který můžete vložit na vaše stránky.\n        </p>\n      </div>\n\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '20px' }}>\n        <h3>Seznam tokenů</h3>\n        <button \n          onClick={() => setShowCreateForm(true)}\n          style={{ \n            padding: '8px 16px', \n            backgroundColor: 'var(--color-green)', \n            color: 'white', \n            border: 'none', \n            borderRadius: '4px',\n            cursor: 'pointer'\n          }}\n        >\n          ➕ Tokenise survey (Add)\n        </button>\n      </div>\n\n      {showCreateForm && (\n        <div style={{ \n          backgroundColor: '#f8f9fa', \n          border: '1px solid #dee2e6', \n          borderRadius: '8px', \n          padding: '20px', \n          marginBottom: '20px' \n        }}>\n          <h4>Vytvořit nový token</h4>\n          <form onSubmit={handleCreateToken}>\n            <div style={{ marginBottom: '15px' }}>\n              <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>\n                Vyberte dotazník *\n              </label>\n              <select \n                value={newToken.surveyId}\n                onChange={(e) => setNewToken({...newToken, surveyId: e.target.value})}\n                style={{ width: '100%', padding: '8px', border: '1px solid #ccc', borderRadius: '4px' }}\n                required\n              >\n                <option value=\"\">-- Vyberte dotazník --</option>\n                {surveys.map(survey => (\n                  <option key={survey.id} value={survey.id}>\n                    {survey.title} ({getStatusText(survey.status)})\n                  </option>\n                ))}\n              </select>\n            </div>\n\n            <div style={{ marginBottom: '15px' }}>\n              <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>\n                Povolené domény (whitelist)\n              </label>\n              <textarea \n                value={newToken.allowedDomains}\n                onChange={(e) => setNewToken({...newToken, allowedDomains: e.target.value})}\n                placeholder=\"example.com&#10;subdomain.example.com&#10;*.example.org\"\n                style={{ \n                  width: '100%', \n                  padding: '8px', \n                  border: '1px solid #ccc', \n                  borderRadius: '4px', \n                  minHeight: '80px',\n                  resize: 'vertical'\n                }}\n              />\n              <small style={{ color: '#6c757d' }}>\n                Zadejte každou doménu na nový řádek. Nechte prázdné pro povolení všech domén.\n              </small>\n            </div>\n\n            <div style={{ display: 'flex', gap: '15px', marginBottom: '15px' }}>\n              <div style={{ flex: 1 }}>\n                <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>\n                  Platnost od\n                </label>\n                <input \n                  type=\"datetime-local\"\n                  value={newToken.validFrom}\n                  onChange={(e) => setNewToken({...newToken, validFrom: e.target.value})}\n                  style={{ width: '100%', padding: '8px', border: '1px solid #ccc', borderRadius: '4px' }}\n                />\n              </div>\n              <div style={{ flex: 1 }}>\n                <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>\n                  Platnost do\n                </label>\n                <input \n                  type=\"datetime-local\"\n                  value={newToken.validTo}\n                  onChange={(e) => setNewToken({...newToken, validTo: e.target.value})}\n                  style={{ width: '100%', padding: '8px', border: '1px solid #ccc', borderRadius: '4px' }}\n                />\n              </div>\n            </div>\n\n            <div style={{ display: 'flex', gap: '10px', justifyContent: 'flex-end' }}>\n              <button \n                type=\"button\"\n                onClick={() => {\n                  setShowCreateForm(false);\n                  setNewToken({ surveyId: '', allowedDomains: '', validFrom: '', validTo: '' });\n                }}\n                style={{ padding: '8px 16px', backgroundColor: '#6c757d', color: 'white', border: 'none', borderRadius: '4px' }}\n              >\n                Zrušit\n              </button>\n              <button \n                type=\"submit\"\n                style={{ padding: '8px 16px', backgroundColor: 'var(--color-green)', color: 'white', border: 'none', borderRadius: '4px' }}\n              >\n                Vytvořit token\n              </button>\n            </div>\n          </form>\n        </div>\n      )}\n\n      {tokens.length === 0 ? (\n        <div style={{ textAlign: 'center', padding: '40px', color: '#6c757d' }}>\n          <p>Žádné tokeny nebyly nalezeny.</p>\n          <p>Začněte vytvořením nového tokenu pro embedování dotazníků.</p>\n        </div>\n      ) : (\n        <div style={{ overflowX: 'auto', borderRadius: '8px' }}>\n          <table style={{\n            width: '100%',\n            borderCollapse: 'collapse',\n            fontSize: '14px',\n            borderRadius: '8px',\n            overflow: 'hidden'\n          }}>\n            <thead>\n              <tr style={{ backgroundColor: '#f8f9fa' }}>\n                <th style={{ padding: '12px', textAlign: 'left', border: '1px solid #dee2e6', fontWeight: 'bold' }}>Token ID</th>\n                <th style={{ padding: '12px', textAlign: 'left', border: '1px solid #dee2e6', fontWeight: 'bold' }}>Dotazník</th>\n                <th style={{ padding: '12px', textAlign: 'left', border: '1px solid #dee2e6', fontWeight: 'bold' }}>Vlastník</th>\n                <th style={{ padding: '12px', textAlign: 'center', border: '1px solid #dee2e6', fontWeight: 'bold' }}>Status</th>\n                <th style={{ padding: '12px', textAlign: 'left', border: '1px solid #dee2e6', fontWeight: 'bold' }}>Platnost</th>\n                <th style={{ padding: '12px', textAlign: 'left', border: '1px solid #dee2e6', fontWeight: 'bold' }}>Embed kód</th>\n                <th style={{ padding: '12px', textAlign: 'center', border: '1px solid #dee2e6', fontWeight: 'bold' }}>Statistiky</th>\n                <th style={{ padding: '12px', textAlign: 'center', border: '1px solid #dee2e6', fontWeight: 'bold' }}>Akce</th>\n              </tr>\n            </thead>\n            <tbody>\n              {tokens.map(token => (\n                <tr key={token.id} style={{ backgroundColor: token.id % 2 === 0 ? '#f9f9f9' : 'white' }}>\n                  <td style={{ padding: '12px', border: '1px solid #dee2e6' }}>\n                    <code style={{ \n                      backgroundColor: '#f8f9fa', \n                      padding: '2px 4px', \n                      borderRadius: '3px',\n                      fontSize: '12px'\n                    }}>\n                      {token.token_id}\n                    </code>\n                  </td>\n                  <td style={{ padding: '12px', border: '1px solid #dee2e6' }}>\n                    <div style={{ fontWeight: 'bold' }}>{token.survey_title}</div>\n                    <div style={{ fontSize: '12px', color: '#6c757d' }}>ID: {token.survey_id}</div>\n                  </td>\n                  <td style={{ padding: '12px', border: '1px solid #dee2e6' }}>\n                    <div style={{ fontWeight: 'bold' }}>{token.owner_username}</div>\n                    {user?.role === 'admin' && token.user_id !== user.id && (\n                      <div style={{ fontSize: '11px', color: 'var(--color-red)', fontWeight: 'bold' }}>CIZÍ</div>\n                    )}\n                  </td>\n                  <td style={{ padding: '12px', border: '1px solid #dee2e6', textAlign: 'center' }}>\n                    <span style={{ \n                      padding: '4px 8px', \n                      borderRadius: '12px',\n                      backgroundColor: token.status === 'active' ? 'var(--color-yellow)' : 'var(--color-green)',\n                      color: 'white',\n                      fontSize: '12px',\n                      fontWeight: 'bold'\n                    }}>\n                      {getStatusText(token.status)}\n                    </span>\n                  </td>\n                  <td style={{ padding: '12px', border: '1px solid #dee2e6', fontSize: '13px' }}>\n                    {token.valid_from && (\n                      <div>\n                        <strong>Od:</strong> {new Date(token.valid_from).toLocaleDateString('cs-CZ')}\n                      </div>\n                    )}\n                    {token.valid_to && (\n                      <div>\n                        <strong>Do:</strong> {new Date(token.valid_to).toLocaleDateString('cs-CZ')}\n                      </div>\n                    )}\n                    {!token.valid_from && !token.valid_to && (\n                      <span style={{ color: '#6c757d', fontStyle: 'italic' }}>Bez omezení</span>\n                    )}\n                  </td>\n                  <td style={{ padding: '12px', border: '1px solid #dee2e6' }}>\n                    <div style={{ \n                      backgroundColor: '#f8f9fa', \n                      border: '1px solid #dee2e6', \n                      borderRadius: '4px', \n                      padding: '8px',\n                      fontSize: '12px',\n                      fontFamily: 'monospace',\n                      marginBottom: '5px'\n                    }}>\n                      {`<script src=\"${window.location.origin}/widget_${token.token_id}.js\"></script>`}\n                    </div>\n                                         <div style={{ display: 'flex', gap: '4px' }}>\n                       <button \n                         onClick={() => copyToClipboard(`<script src=\"${window.location.origin}/widget_${token.token_id}.js\"></script>`)}\n                         style={{ \n                           padding: '4px 8px', \n                           backgroundColor: '#17a2b8', \n                           color: 'white', \n                           border: 'none', \n                           borderRadius: '3px',\n                           fontSize: '11px',\n                           cursor: 'pointer'\n                         }}\n                         title=\"Zkopírovat do schránky\"\n                       >\n                         📋 Kopírovat\n                       </button>\n                       <button \n                         onClick={() => window.open(`/widget_${token.token_id}.html`, '_blank')}\n                         style={{ \n                           padding: '4px 8px', \n                           backgroundColor: '#', \n                           color: 'white', \n                           border: 'none', \n                           borderRadius: '3px',\n                           fontSize: '11px',\n                           cursor: 'pointer'\n                         }}\n                         title=\"Zobrazit náhled widgetu\"\n                       >\n                         👁️ Náhled\n                       </button>\n                     </div>\n                  </td>\n                  <td style={{ padding: '12px', border: '1px solid #dee2e6', textAlign: 'center' }}>\n                    <button \n                      onClick={() => window.open(`/statistics/${token.survey_id}`, '_blank')}\n                      style={{ \n                        padding: '6px 12px', \n                        backgroundColor: '#6f42c1', \n                        color: 'white', \n                        border: 'none', \n                        borderRadius: '4px',\n                        fontSize: '12px',\n                        cursor: 'pointer',\n                        fontWeight: 'bold'\n                      }}\n                      title=\"Zobrazit statistiky dotazníku\"\n                    >\n                      📊 Statistiky\n                    </button>\n                  </td>\n                  <td style={{ padding: '12px', border: '1px solid #dee2e6', textAlign: 'center' }}>\n                    <div style={{ display: 'flex', flexDirection: 'column', gap: '4px', alignItems: 'center' }}>\n                      {(user?.role === 'admin' || token.user_id === user?.id) && (\n                        <>\n                          <button \n                            onClick={() => handleToggleStatus(token.id, token.status)}\n                            style={{ \n                              padding: '4px 8px', \n                              backgroundColor: token.status === 'active' ? 'var(--color-yellow)' : 'var(--color-green)',\n                              color: token.status === 'active' ? 'black' : 'white',\n                              border: 'none', \n                              borderRadius: '3px',\n                              fontSize: '12px',\n                              cursor: 'pointer',\n                              minWidth: '70px'\n                            }}\n                            title={token.status === 'active' ? 'Pozastavit token' : 'Obnovit token'}\n                          >\n                            {token.status === 'active' ? 'Pozastavit' : 'Obnovit'}\n                          </button>\n                          \n                          <button \n                            onClick={() => handleDeleteToken(token.id, token.token_id)}\n                            style={{ \n                              padding: '4px 8px', \n                              backgroundColor: 'var(--color-red)', \n                              color: 'white', \n                              border: 'none', \n                              borderRadius: '3px',\n                              fontSize: '12px',\n                              cursor: 'pointer',\n                              minWidth: '70px'\n                            }}\n                            title=\"Smazat token\"\n                          >\n                            Smazat\n                          </button>\n                        </>\n                      )}\n                      \n                      {user?.role !== 'admin' && token.user_id !== user?.id && (\n                        <span style={{ fontSize: '12px', color: '#6c757d', fontStyle: 'italic' }}>\n                          Pouze zobrazení\n                        </span>\n                      )}\n                    </div>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      )}\n    </div>\n  );\n};\n\nconst UserList = () => {\n  const [users, setUsers] = React.useState([]);\n  const [loading, setLoading] = React.useState(true);\n  const [editingUser, setEditingUser] = React.useState(null);\n  const [showCreateForm, setShowCreateForm] = React.useState(false);\n\n  // Fetch users\n  React.useEffect(() => {\n    fetchUsers();\n  }, []);\n\n  const fetchUsers = async () => {\n    try {\n      setLoading(true);\n      const response = await fetch('/api/users', {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        // Handle API response format - it returns {users: [...], pagination: {...}}\n        setUsers(data.users || data);\n      }\n    } catch (error) {\n      console.error('Error fetching users:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleEdit = (user) => {\n    setEditingUser({...user, newPassword: ''});\n  };\n\n  const handleSave = async () => {\n    try {\n      const { id, newPassword, ...updateData } = editingUser;\n      if (newPassword) {\n        updateData.password = newPassword;\n      }\n\n      const response = await fetch(`/api/users/${id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        },\n        body: JSON.stringify(updateData)\n      });\n\n      if (response.ok) {\n        await fetchUsers();\n        setEditingUser(null);\n        alert('Uživatel byl úspěšně upraven');\n      } else {\n        alert('Chyba při ukládání uživatele');\n      }\n    } catch (error) {\n      console.error('Error saving user:', error);\n      alert('Chyba při ukládání uživatele');\n    }\n  };\n\n  const handleDelete = async (userId, username) => {\n    if (window.confirm(`Opravdu chcete smazat uživatele \"${username}\"?`)) {\n      try {\n        const response = await fetch(`/api/users/${userId}`, {\n          method: 'DELETE',\n          headers: {\n            'Authorization': `Bearer ${localStorage.getItem('token')}`\n          }\n        });\n\n        if (response.ok) {\n          await fetchUsers();\n          alert('Uživatel byl smazán');\n        } else {\n          alert('Chyba při mazání uživatele');\n        }\n      } catch (error) {\n        console.error('Error deleting user:', error);\n        alert('Chyba při mazání uživatele');\n      }\n    }\n  };\n\n  const handleCreate = async (userData) => {\n    try {\n      const response = await fetch('/api/users', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        },\n        body: JSON.stringify(userData)\n      });\n\n      if (response.ok) {\n        await fetchUsers();\n        setShowCreateForm(false);\n        alert('Uživatel byl vytvořen');\n      } else {\n        const error = await response.json();\n        alert('Chyba při vytváření uživatele: ' + error.error);\n      }\n    } catch (error) {\n      console.error('Error creating user:', error);\n      alert('Chyba při vytváření uživatele');\n    }\n  };\n\n  if (loading) {\n    return <div style={{ padding: '20px' }}>Načítání uživatelů...</div>;\n  }\n\n  return (\n    <div style={{ padding: '20px' }}>\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '20px' }}>\n        <h2>Správa uživatelů</h2>\n        <button \n          onClick={() => setShowCreateForm(true)}\n          style={{ padding: '8px 16px', backgroundColor: 'var(--color-green)', color: 'white', border: 'none', borderRadius: '4px' }}\n        >\n          Přidat uživatele\n        </button>\n      </div>\n\n      {showCreateForm && (\n        <UserForm \n          onSave={handleCreate}\n          onCancel={() => setShowCreateForm(false)}\n          title=\"Vytvořit nového uživatele\"\n        />\n      )}\n\n      {editingUser && (\n        <UserForm \n          user={editingUser}\n          onSave={() => handleSave()}\n          onCancel={() => setEditingUser(null)}\n          onChange={setEditingUser}\n          title=\"Upravit uživatele\"\n        />\n      )}\n\n      <table style={{ width: '100%', borderCollapse: 'collapse', marginTop: '20px' }}>\n        <thead>\n          <tr style={{ backgroundColor: '#f8f9fa' }}>\n            <th style={{ padding: '12px', textAlign: 'left', border: '1px solid #dee2e6' }}>Uživatelské jméno</th>\n            <th style={{ padding: '12px', textAlign: 'left', border: '1px solid #dee2e6' }}>Email</th>\n            <th style={{ padding: '12px', textAlign: 'left', border: '1px solid #dee2e6' }}>Role</th>\n            <th style={{ padding: '12px', textAlign: 'left', border: '1px solid #dee2e6' }}>Vytvořeno</th>\n            <th style={{ padding: '12px', textAlign: 'left', border: '1px solid #dee2e6' }}>Akce</th>\n          </tr>\n        </thead>\n        <tbody>\n          {users.map(user => (\n            <tr key={user.id}>\n              <td style={{ padding: '12px', border: '1px solid #dee2e6' }}>{user.username}</td>\n              <td style={{ padding: '12px', border: '1px solid #dee2e6' }}>{user.email}</td>\n              <td style={{ padding: '12px', border: '1px solid #dee2e6' }}>\n                <span style={{ \n                  padding: '4px 8px', \n                  borderRadius: '8px',\n                  backgroundColor: user.role === 'admin' ? 'var(--color-tag-bg-red)' : 'var(--color-tag-bg-green)',\n                  color: user.role === 'admin' ? '#B32222' : '#368537',\n                  fontSize: '12px'\n                }}>\n                  {user.role}\n                </span>\n              </td>\n              <td style={{ padding: '12px', border: '1px solid #dee2e6' }}>\n                {new Date(user.created_at).toLocaleDateString('cs-CZ')}\n              </td>\n              <td style={{ padding: '12px', border: '1px solid #dee2e6' }}>\n                <button \n                  onClick={() => handleEdit(user)}\n                  style={{ padding: '4px 8px', marginRight: '8px', backgroundColor: '#ffc107', border: 'none', borderRadius: '3px' }}\n                >\n                  Upravit\n                </button>\n                <button \n                  onClick={() => handleDelete(user.id, user.username)}\n                  style={{ padding: '4px 8px', backgroundColor: 'var(--color-red)', color: 'white', border: 'none', borderRadius: '3px' }}\n                >\n                  Smazat\n                </button>\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n\n      {users.length === 0 && (\n        <div style={{ textAlign: 'center', padding: '40px', color: '#6c757d' }}>\n          Žádní uživatelé nebyli nalezeni\n        </div>\n      )}\n    </div>\n  );\n};\n\nconst AuditLogs = () => {\n  const [logs, setLogs] = React.useState([]);\n  const [loading, setLoading] = React.useState(true);\n  const [filters, setFilters] = React.useState({\n    eventType: '',\n    userId: '',\n    dateFrom: '',\n    dateTo: '',\n    page: 1,\n    limit: 50\n  });\n\n  // Fetch logs\n  React.useEffect(() => {\n    fetchLogs();\n  }, [filters]);\n\n  const fetchLogs = async () => {\n    try {\n      setLoading(true);\n      const queryParams = new URLSearchParams();\n      \n      // Map frontend filters to backend API parameters\n      if (filters.eventType) queryParams.append('action', filters.eventType);\n      if (filters.userId) queryParams.append('user_id', filters.userId);\n      if (filters.dateFrom) queryParams.append('from_date', filters.dateFrom + 'T00:00:00Z');\n      if (filters.dateTo) queryParams.append('to_date', filters.dateTo + 'T23:59:59Z');\n      if (filters.page) queryParams.append('page', filters.page);\n      if (filters.limit) queryParams.append('limit', filters.limit);\n\n      const response = await fetch(`/api/logs?${queryParams}`, {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      \n      if (response.ok) {\n        const data = await response.json();\n        setLogs(data.logs || data);\n      }\n    } catch (error) {\n      console.error('Error fetching logs:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleFilterChange = (field, value) => {\n    setFilters(prev => ({ ...prev, [field]: value, page: 1 }));\n  };\n\n  const getEventTypeColor = (eventType) => {\n    const colors = {\n      'LOGIN': 'var(--color-green)',\n      'LOGOUT': 'var(--color-gray)',\n      'CREATE': 'var(--color-blue)',\n      'UPDATE': 'var(--color-yellow)',\n      'DELETE': 'var(--color-red)',\n      'TOKEN_CREATE': '#17a2b8',\n      'TOKEN_PAUSE': '#fd7e14',\n      'TOKEN_RESUME': '#20c997',\n      'TOKEN_DELETE': '#e83e8c',\n      'SURVEY_DELIVERY': '#6f42c1'\n    };\n    return colors[eventType] || 'var(--color-gray)';\n  };\n\n  const formatEventDescription = (log) => {\n    switch(log.action) {\n      case 'LOGIN':\n        return `Uživatel se přihlásil`;\n      case 'LOGOUT':\n        return `Uživatel se odhlásil`;\n      case 'CREATE':\n        return `Vytvořil ${log.resource_type}: ${log.resource_id}`;\n      case 'UPDATE':\n        return `Upravil ${log.resource_type}: ${log.resource_id}`;\n      case 'DELETE':\n        return `Smazal ${log.resource_type}: ${log.resource_id}`;\n      case 'TOKEN_CREATE':\n        return `Vytvořil token pro survey: ${log.resource_id}`;\n      case 'TOKEN_PAUSE':\n        return `Pozastavil token: ${log.resource_id}`;\n      case 'TOKEN_RESUME':\n        return `Obnovil token: ${log.resource_id}`;\n      case 'TOKEN_DELETE':\n        return `Smazal token: ${log.resource_id}`;\n      case 'SURVEY_DELIVERY':\n        return `Survey doručen přes token: ${log.resource_id}`;\n      default:\n        return log.action;\n    }\n  };\n\n  if (loading) {\n    return <div style={{ padding: '20px' }}>Načítání audit logů...</div>;\n  }\n\n  return (\n    <div style={{ padding: '20px' }}>\n      <h2>Záznamy</h2>\n      <p style={{ color: '#6c757d', marginBottom: '20px' }}>\n        Kompletní záznam všech aktivit v systému\n      </p>\n\n      {/* Filters */}\n      <div style={{ \n        backgroundColor: '#f8f9fa', \n        padding: '20px', \n        borderRadius: '8px', \n        marginBottom: '20px',\n        border: '1px solid #dee2e6'\n      }}>\n        <h4 style={{ marginBottom: '15px' }}>Filtry</h4>\n        <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '15px' }}>\n          <div>\n            <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>\n              Typ události\n            </label>\n            <select\n              value={filters.eventType}\n              onChange={(e) => handleFilterChange('eventType', e.target.value)}\n              style={{ width: '100%', padding: '8px', border: '1px solid #ced4da', borderRadius: '8px' }}\n            >\n              <option value=\"\">Všechny</option>\n              <option value=\"LOGIN\">Přihlášení</option>\n              <option value=\"LOGOUT\">Odhlášení</option>\n              <option value=\"CREATE\">Vytvoření</option>\n              <option value=\"UPDATE\">Úprava</option>\n              <option value=\"DELETE\">Smazání</option>\n              <option value=\"TOKEN_CREATE\">Vytvoření tokenu</option>\n              <option value=\"TOKEN_PAUSE\">Pozastavení tokenu</option>\n              <option value=\"TOKEN_RESUME\">Obnovení tokenu</option>\n              <option value=\"TOKEN_DELETE\">Smazání tokenu</option>\n              <option value=\"SURVEY_DELIVERY\">Doručení survey</option>\n            </select>\n          </div>\n\n          <div>\n            <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>\n              Od data\n            </label>\n            <input\n              type=\"date\"\n              value={filters.dateFrom}\n              onChange={(e) => handleFilterChange('dateFrom', e.target.value)}\n              placeholder=\"dd/mm/rrrr\"\n              style={{ width: '100%', padding: '8px', border: '1px solid #ced4da', borderRadius: '8px' }}\n            />\n          </div>\n\n          <div>\n            <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>\n              Do data\n            </label>\n            <input\n              type=\"date\"\n              value={filters.dateTo}\n              onChange={(e) => handleFilterChange('dateTo', e.target.value)}\n              placeholder=\"dd/mm/rrrr\"\n              style={{ width: '100%', padding: '8px', border: '1px solid #ced4da', borderRadius: '8px' }}\n            />\n          </div>\n\n          <div>\n            <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>\n              ID uživatele\n            </label>\n            <input\n              type=\"text\"\n              value={filters.userId}\n              onChange={(e) => handleFilterChange('userId', e.target.value)}\n              placeholder=\"např. 1\"\n              style={{ width: '100%', padding: '8px', border: '1px solid #ced4da', borderRadius: '8px' }}\n            />\n          </div>\n        </div>\n\n        <div style={{ marginTop: '15px' }}>\n          <button \n            onClick={() => setFilters({ eventType: '', userId: '', dateFrom: '', dateTo: '', page: 1, limit: 50 })}\n            style={{ padding: '8px 16px', backgroundColor: '#6c757d', color: 'white', border: 'none' }}\n          >\n            Vymazat filtry\n          </button>\n        </div>\n      </div>\n\n      {/* Logs Table */}\n      <div style={{ overflowX: 'auto'}}>\n        <table style={{ width: '100%', borderCollapse: 'collapse', fontSize: '14px', overflow: 'hidden'}}>\n          <thead>\n            <tr style={{ backgroundColor: '#f8f9fa'}}>\n              <th style={{ padding: '12px', textAlign: 'left', border: '1px solid #dee2e6', minWidth: '150px'}}>Datum a čas</th>\n              <th style={{ padding: '12px', textAlign: 'left', border: '1px solid #dee2e6', minWidth: '80px' }}>Uživatel</th>\n              <th style={{ padding: '12px', textAlign: 'left', border: '1px solid #dee2e6', minWidth: '120px' }}>Typ události</th>\n              <th style={{ padding: '12px', textAlign: 'left', border: '1px solid #dee2e6', minWidth: '200px' }}>Popis</th>\n              <th style={{ padding: '12px', textAlign: 'left', border: '1px solid #dee2e6', minWidth: '120px' }}>IP adresa</th>\n              <th style={{ padding: '12px', textAlign: 'left', border: '1px solid #dee2e6', minWidth: '150px' }}>User Agent</th>\n            </tr>\n          </thead>\n          <tbody>\n            {logs.map(log => (\n              <tr key={log.id} style={{ borderBottom: '1px solid #dee2e6' }}>\n                <td style={{ padding: '12px', border: '1px solid #dee2e6' }}>\n                  {new Date(log.timestamp).toLocaleString('cs-CZ')}\n                </td>\n                <td style={{ padding: '12px', border: '1px solid #dee2e6' }}>\n                  {log.username || log.user_id || 'N/A'}\n                </td>\n                <td style={{ padding: '12px', border: '1px solid #dee2e6' }}>\n                  <span style={{ \n                    padding: '4px 8px', \n                    borderRadius: '4px',\n                    backgroundColor: getEventTypeColor(log.action),\n                    color: 'white',\n                    fontSize: '12px',\n                    fontWeight: 'bold'\n                  }}>\n                    {log.action}\n                  </span>\n                </td>\n                <td style={{ padding: '12px', border: '1px solid #dee2e6' }}>\n                  {formatEventDescription(log)}\n                  {log.details && (\n                    <div style={{ fontSize: '12px', color: '#6c757d', marginTop: '4px' }}>\n                      {typeof log.details === 'string' ? log.details : JSON.stringify(log.details)}\n                    </div>\n                  )}\n                </td>\n                <td style={{ padding: '12px', border: '1px solid #dee2e6', fontFamily: 'monospace' }}>\n                  {log.ip_address || 'N/A'}\n                </td>\n                <td style={{ padding: '12px', border: '1px solid #dee2e6', fontSize: '12px', color: '#6c757d' }}>\n                  {log.user_agent ? log.user_agent.substring(0, 50) + (log.user_agent.length > 50 ? '...' : '') : 'N/A'}\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n\n      {logs.length === 0 && (\n        <div style={{ textAlign: 'center', padding: '40px', color: '#6c757d' }}>\n          Žádné audit logy nebyly nalezeny\n        </div>\n      )}\n\n      {/* Pagination would go here if needed */}\n      <div style={{ marginTop: '20px', textAlign: 'center', color: '#6c757d' }}>\n        Zobrazeno {logs.length} záznamů\n      </div>\n    </div>\n  );\n};\n\nconst UserForm = ({ user, onSave, onCancel, onChange, title }) => {\n  const [formData, setFormData] = React.useState({\n    username: user?.username || '',\n    email: user?.email || '',\n    password: '',\n    confirmPassword: '',\n    role: user?.role || 'user'\n  });\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (!formData.username || !formData.email) {\n      alert('Uživatelské jméno a email jsou povinné');\n      return;\n    }\n    if (!user && !formData.password) {\n      alert('Heslo je povinné pro nového uživatele');\n      return;\n    }\n    if (formData.password && formData.password !== formData.confirmPassword) {\n      alert('Hesla se neshodují');\n      return;\n    }\n\n    const dataToSave = { ...formData };\n    if (user && !formData.password) {\n      delete dataToSave.password; // Don't update password if not provided\n    }\n    delete dataToSave.confirmPassword; // Remove confirmPassword from data to save\n\n    if (onChange) {\n      onChange({ ...user, ...dataToSave, newPassword: formData.password });\n    } else {\n      onSave(dataToSave);\n    }\n  };\n\n  const handleChange = (field, value) => {\n    const newData = { ...formData, [field]: value };\n    setFormData(newData);\n    if (onChange) {\n      onChange({ ...user, ...newData, newPassword: newData.password });\n    }\n  };\n\n  return (\n    <div style={{ \n      backgroundColor: '#f8f9fa', \n      padding: '20px', \n      borderRadius: '8px', \n      marginBottom: '20px',\n      border: '1px solid #dee2e6'\n    }}>\n      <h3>{title}</h3>\n      <form onSubmit={handleSubmit}>\n        <div style={{ marginBottom: '15px' }}>\n          <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>\n            Uživatelské jméno *\n          </label>\n          <input\n            type=\"text\"\n            value={formData.username}\n            onChange={(e) => handleChange('username', e.target.value)}\n            style={{ width: '100%', padding: '8px', border: '1px solid #ced4da', borderRadius: '4px' }}\n            required\n          />\n        </div>\n\n        <div style={{ marginBottom: '15px' }}>\n          <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>\n            Email *\n          </label>\n          <input\n            type=\"email\"\n            value={formData.email}\n            onChange={(e) => handleChange('email', e.target.value)}\n            style={{ width: '100%', padding: '8px', border: '1px solid #ced4da', borderRadius: '4px' }}\n            required\n          />\n        </div>\n\n        <div style={{ marginBottom: '15px' }}>\n          <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>\n            {user ? 'Nové heslo (ponechte prázdné pro nezměnu)' : 'Heslo *'}\n          </label>\n          <input\n            type=\"password\"\n            value={formData.password}\n            onChange={(e) => handleChange('password', e.target.value)}\n            style={{ width: '100%', padding: '8px', border: '1px solid #ced4da', borderRadius: '4px' }}\n            required={!user}\n          />\n        </div>\n\n        <div style={{ marginBottom: '15px' }}>\n          <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>\n            {user ? 'Potvrzení nového hesla' : 'Potvrzení hesla *'}\n          </label>\n          <input\n            type=\"password\"\n            value={formData.confirmPassword}\n            onChange={(e) => handleChange('confirmPassword', e.target.value)}\n            style={{ width: '100%', padding: '8px', border: '1px solid #ced4da', borderRadius: '4px' }}\n            required={!user}\n          />\n        </div>\n\n        <div style={{ marginBottom: '15px' }}>\n          <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>\n            Role\n          </label>\n          <select\n            value={formData.role}\n            onChange={(e) => handleChange('role', e.target.value)}\n            style={{ width: '100%', padding: '8px', border: '1px solid #ced4da', borderRadius: '4px' }}\n          >\n            <option value=\"user\">User</option>\n            <option value=\"admin\">Admin</option>\n          </select>\n        </div>\n\n        <div style={{ display: 'flex', gap: '10px' }}>\n          <button \n            type=\"submit\"\n            style={{ padding: '8px 16px', backgroundColor: 'var(--color-green)', color: 'white', border: 'none', borderRadius: '4px' }}\n          >\n            {user ? 'Uložit změny' : 'Vytvořit uživatele'}\n          </button>\n          <button \n            type=\"button\"\n            onClick={onCancel}\n            style={{ padding: '8px 16px', backgroundColor: '#6c757d', color: 'white', border: 'none', borderRadius: '4px' }}\n          >\n            Zrušit\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nconst Settings = () => {\n  const { user, updateProfile } = useAuth();\n  const [formData, setFormData] = React.useState({\n    username: user?.username || '',\n    email: user?.email || '',\n    currentPassword: '',\n    newPassword: '',\n    confirmPassword: ''\n  });\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    if (formData.newPassword && formData.newPassword !== formData.confirmPassword) {\n      alert('Nové heslo a potvrzení hesla se neshodují');\n      return;\n    }\n\n    const updateData = {\n      username: formData.username,\n      email: formData.email\n    };\n\n    if (formData.newPassword) {\n      updateData.currentPassword = formData.currentPassword;\n      updateData.newPassword = formData.newPassword;\n    }\n\n    const result = await updateProfile(updateData);\n    if (result.success) {\n      alert('Profil byl úspěšně aktualizován');\n      setFormData(prev => ({ ...prev, currentPassword: '', newPassword: '', confirmPassword: '' }));\n    } else {\n      alert('Chyba při aktualizaci profilu: ' + result.error);\n    }\n  };\n\n  return (\n    <div className=\"profile-form\">\n      <h2>Nastavení</h2>\n      <form onSubmit={handleSubmit}>\n        <div style={{ marginBottom: '28px' }}>\n          <h3>Základní informace</h3>\n          <div style={{ marginBottom: '18px' }}>\n            <label className=\"profile-label\">Uživatelské jméno</label>\n            <input\n              type=\"text\"\n              value={formData.username}\n              onChange={(e) => setFormData(prev => ({ ...prev, username: e.target.value }))}\n              className=\"profile-input\"\n              required\n            />\n          </div>\n          <div style={{ marginBottom: '18px' }}>\n            <label className=\"profile-label\">Email</label>\n            <input\n              type=\"email\"\n              value={formData.email}\n              onChange={(e) => setFormData(prev => ({ ...prev, email: e.target.value }))}\n              className=\"profile-input\"\n              required\n            />\n          </div>\n        </div>\n        <div style={{ marginBottom: '28px' }}>\n          <h3>Změna hesla</h3>\n          <p className=\"profile-hint\">Ponechte prázdné, pokud nechcete změnit heslo</p>\n          <div style={{ marginBottom: '18px' }}>\n            <label className=\"profile-label\">Současné heslo</label>\n            <input\n              type=\"password\"\n              value={formData.currentPassword}\n              onChange={(e) => setFormData(prev => ({ ...prev, currentPassword: e.target.value }))}\n              className=\"profile-input\"\n            />\n          </div>\n          <div style={{ marginBottom: '18px' }}>\n            <label className=\"profile-label\">Nové heslo</label>\n            <input\n              type=\"password\"\n              value={formData.newPassword}\n              onChange={(e) => setFormData(prev => ({ ...prev, newPassword: e.target.value }))}\n              className=\"profile-input\"\n            />\n          </div>\n          <div style={{ marginBottom: '18px' }}>\n            <label className=\"profile-label\">Potvrzení nového hesla</label>\n            <input\n              type=\"password\"\n              value={formData.confirmPassword}\n              onChange={(e) => setFormData(prev => ({ ...prev, confirmPassword: e.target.value }))}\n              className=\"profile-input\"\n            />\n          </div>\n        </div>\n        <button type=\"submit\" className=\"button-confirm profile-save-btn\">Uložit změny</button>\n      </form>\n    </div>\n  );\n};\n\n// Layout component with navigation\nconst Layout = ({ children }) => {\n  return (\n    <div>\n      <Navigation />\n      {children}\n      \n    </div>\n  );\n};\n\n// Protected Route component\nconst ProtectedRoute = ({ children }) => {\n  const { isAuthenticated, isLoading } = useAuth();\n\n  if (isLoading) {\n    return <div style={{ padding: '20px' }}>Načítání...</div>;\n  }\n\n  if (!isAuthenticated) {\n    return <Navigate to=\"/login\" replace />;\n  }\n\n  return (\n    <Layout>\n      {children}\n    </Layout>\n  );\n};\n\n// Admin-only Route component\nconst AdminRoute = ({ children }) => {\n  const { user } = useAuth();\n\n  if (user?.role !== 'admin') {\n    return (\n      <div style={{ padding: '20px' }}>\n        <h3>Přístup odepřen</h3>\n        <p>Tato stránka je dostupná pouze administrátorům.</p>\n      </div>\n    );\n  }\n\n  return children;\n};\n\n// Statistics Component\nconst Statistics = () => {\n  const { user } = useAuth();\n  const location = useLocation();\n  const surveyId = location.pathname.split('/')[2]; // Get surveyId from URL\n  const [statisticsData, setStatisticsData] = React.useState(null);\n  const [loading, setLoading] = React.useState(true);\n  const [error, setError] = React.useState(null);\n\n  React.useEffect(() => {\n    if (surveyId) {\n      fetchStatistics();\n    }\n  }, [surveyId]);\n\n  const fetchStatistics = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const response = await fetch(`/api/responses/statistics/${surveyId}`, {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      \n      if (response.ok) {\n        const data = await response.json();\n        setStatisticsData(data);\n      } else {\n        throw new Error('Chyba při načítání statistik');\n      }\n    } catch (error) {\n      console.error('Error fetching statistics:', error);\n      setError(error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const renderEmojiStatistics = (statistics) => {\n    const emojiLabels = ['Very Happy', 'Happy', 'Neutral', 'Sad', 'Very Sad'];\n    const emojiIcons = ['😄', '😊', '😐', '😞', '😠'];\n    \n    return (\n      <div style={{ marginBottom: '30px' }}>\n        <h4 style={{ marginBottom: '15px' }}>Emoji hodnocení</h4>\n        <div style={{ display: 'flex', justifyContent: 'space-around', marginBottom: '20px' }}>\n          {emojiLabels.map((label, index) => {\n            const count = statistics.distribution[label] || 0;\n            const percentage = statistics.totalResponses > 0 ? ((count / statistics.totalResponses) * 100).toFixed(1) : 0;\n            \n            return (\n              <div key={label} style={{ textAlign: 'center', minWidth: '80px' }}>\n                <div style={{ fontSize: '24px', marginBottom: '8px' }}>{emojiIcons[index]}</div>\n                <div style={{ fontWeight: 'bold', fontSize: '18px' }}>{count}</div>\n                <div style={{ fontSize: '14px', color: '#666' }}>{percentage}%</div>\n                <div style={{ fontSize: '12px', color: '#999' }}>{label}</div>\n              </div>\n            );\n          })}\n        </div>\n        \n        {/* Simple bar chart */}\n        <div style={{ marginTop: '20px' }}>\n          {emojiLabels.map((label, index) => {\n            const count = statistics.distribution[label] || 0;\n            const percentage = statistics.totalResponses > 0 ? (count / statistics.totalResponses) * 100 : 0;\n            const colors = ['#4CAF50', '#8BC34A', '#FFC107', '#FF9800', '#F44336'];\n            \n            return (\n              <div key={label} style={{ marginBottom: '8px' }}>\n                <div style={{ \n                  display: 'flex', \n                  alignItems: 'center', \n                  fontSize: '14px',\n                  marginBottom: '4px'\n                }}>\n                  <span style={{ minWidth: '100px' }}>{emojiIcons[index]} {label}</span>\n                  <span style={{ marginLeft: '10px', fontWeight: 'bold' }}>{count} ({percentage.toFixed(1)}%)</span>\n                </div>\n                <div style={{ \n                  height: '8px', \n                  backgroundColor: '#f0f0f0', \n                  borderRadius: '4px',\n                  overflow: 'hidden'\n                }}>\n                  <div style={{\n                    height: '100%',\n                    width: `${percentage}%`,\n                    backgroundColor: colors[index],\n                    transition: 'width 0.3s ease'\n                  }}></div>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    );\n  };\n\n  const renderTextStatistics = (statistics) => {\n    return (\n      <div style={{ marginBottom: '30px' }}>\n        <h4 style={{ marginBottom: '15px' }}>Textové odpovědi</h4>\n        <div style={{ \n          maxHeight: '300px', \n          overflowY: 'auto',\n          border: '1px solid #ddd',\n          borderRadius: '4px',\n          padding: '15px'\n        }}>\n          {statistics.textResponses && statistics.textResponses.length > 0 ? (\n            statistics.textResponses.map((response, index) => (\n              <div key={index} style={{ \n                padding: '10px',\n                borderBottom: index < statistics.textResponses.length - 1 ? '1px solid #eee' : 'none',\n                fontSize: '14px'\n              }}>\n                \"{response}\"\n              </div>\n            ))\n          ) : (\n            <div style={{ color: '#999', fontStyle: 'italic' }}>Žádné textové odpovědi</div>\n          )}\n        </div>\n      </div>\n    );\n  };\n\n  if (loading) {\n    return (\n      <div style={{ padding: '40px', textAlign: 'center' }}>\n        <div style={{ fontSize: '18px' }}>Načítání statistik...</div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div style={{ padding: '40px', textAlign: 'center' }}>\n        <div style={{ color: 'red', fontSize: '18px', marginBottom: '20px' }}>\n          Chyba: {error}\n        </div>\n        <button \n          onClick={fetchStatistics}\n          style={{ \n            padding: '10px 20px', \n            backgroundColor: 'var(--color-green)', \n            color: 'white', \n            border: 'none', \n            borderRadius: '4px' \n          }}\n        >\n          Zkusit znovu\n        </button>\n      </div>\n    );\n  }\n\n  if (!statisticsData) {\n    return (\n      <div style={{ padding: '40px', textAlign: 'center' }}>\n        <div style={{ fontSize: '18px', color: '#666' }}>Statistiky nenalezeny</div>\n      </div>\n    );\n  }\n\n  return (\n    <div style={{ padding: '20px', maxWidth: '1200px', margin: '0 auto' }}>\n      {/* Header */}\n      <div style={{ marginBottom: '30px' }}>\n        <h1 style={{ marginBottom: '10px' }}>📊 Statistiky dotazníku</h1>\n        <h2 style={{ color: '#666', fontWeight: 'normal', marginBottom: '10px' }}>\n          {statisticsData.survey.title}\n        </h2>\n        <div style={{ \n          backgroundColor: '#e3f2fd', \n          padding: '15px', \n          borderRadius: '8px',\n          border: '1px solid #2196f3'\n        }}>\n          <div style={{ fontSize: '18px', fontWeight: 'bold', color: '#1976d2' }}>\n            Celkem odpovědí: {statisticsData.responseCount}\n          </div>\n          {statisticsData.survey.description && (\n            <div style={{ marginTop: '8px', color: '#666' }}>\n              {statisticsData.survey.description}\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Statistics by Question */}\n      <div style={{ marginBottom: '40px' }}>\n        <h2 style={{ marginBottom: '20px' }}>Statistiky podle otázek</h2>\n        \n        {Object.keys(statisticsData.statistics).length === 0 ? (\n          <div style={{ \n            textAlign: 'center', \n            padding: '40px', \n            backgroundColor: '#f8f9fa',\n            borderRadius: '8px',\n            color: '#666'\n          }}>\n            <div style={{ fontSize: '18px', marginBottom: '10px' }}>📊</div>\n            <div>Zatím žádné odpovědi k analýze</div>\n          </div>\n        ) : (\n          Object.entries(statisticsData.statistics).map(([stepId, statistics]) => (\n            <div key={stepId} style={{ \n              backgroundColor: 'white',\n              border: '1px solid #ddd',\n              borderRadius: '8px',\n              padding: '20px',\n              marginBottom: '20px',\n              boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\n            }}>\n              <h3 style={{ \n                marginBottom: '15px', \n                color: '#333',\n                borderBottom: '2px solid #f0f0f0',\n                paddingBottom: '10px'\n              }}>\n                Otázka {stepId} ({statistics.type})\n              </h3>\n              \n              {statistics.type === 'emoji-rating' && renderEmojiStatistics(statistics)}\n              {statistics.type === 'text' && renderTextStatistics(statistics)}\n            </div>\n          ))\n        )}\n      </div>\n\n      {/* Individual Responses Table */}\n      <div style={{ marginBottom: '40px' }}>\n        <h2 style={{ marginBottom: '20px' }}>Jednotlivé odpovědi</h2>\n        \n        {statisticsData.individualResponses.length === 0 ? (\n          <div style={{ \n            textAlign: 'center', \n            padding: '40px', \n            backgroundColor: '#f8f9fa',\n            borderRadius: '8px',\n            color: '#666'\n          }}>\n            Zatím žádné odpovědi\n          </div>\n        ) : (\n          <div style={{ overflowX: 'auto' }}>\n            <table style={{ width: '100%', borderCollapse: 'collapse', fontSize: '14px' }}>\n              <thead>\n                <tr style={{ backgroundColor: '#f8f9fa' }}>\n                  <th style={{ padding: '12px', textAlign: 'left', border: '1px solid #dee2e6' }}>\n                    Čas odeslání\n                  </th>\n                  <th style={{ padding: '12px', textAlign: 'left', border: '1px solid #dee2e6' }}>\n                    IP adresa\n                  </th>\n                  {/* Dynamic columns for each question */}\n                  {Object.keys(statisticsData.statistics).map(stepId => (\n                    <th key={stepId} style={{ padding: '12px', textAlign: 'left', border: '1px solid #dee2e6' }}>\n                      Otázka {stepId}\n                    </th>\n                  ))}\n                </tr>\n              </thead>\n              <tbody>\n                {statisticsData.individualResponses.map(response => (\n                  <tr key={response.id} style={{ borderBottom: '1px solid #dee2e6' }}>\n                    <td style={{ padding: '12px', border: '1px solid #dee2e6' }}>\n                      {new Date(response.submittedAt).toLocaleString('cs-CZ')}\n                    </td>\n                    <td style={{ padding: '12px', border: '1px solid #dee2e6', fontFamily: 'monospace' }}>\n                      {response.ipAddress || 'N/A'}\n                    </td>\n                    {/* Dynamic cells for each question */}\n                    {Object.keys(statisticsData.statistics).map(stepId => (\n                      <td key={stepId} style={{ padding: '12px', border: '1px solid #dee2e6' }}>\n                        {response.answers[stepId] ? (\n                          <span title={`Typ: ${response.answers[stepId].type}`}>\n                            {response.answers[stepId].value || 'Bez odpovědi'}\n                          </span>\n                        ) : (\n                          <span style={{ color: '#999', fontStyle: 'italic' }}>Bez odpovědi</span>\n                        )}\n                      </td>\n                    ))}\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        )}\n      </div>\n\n      {/* Action Buttons */}\n      <div style={{ textAlign: 'center', marginTop: '40px' }}>\n        <button \n          onClick={() => window.close()}\n          style={{ \n            padding: '12px 24px', \n            backgroundColor: '#6c757d', \n            color: 'white', \n            border: 'none', \n            borderRadius: '4px',\n            fontSize: '16px',\n            marginRight: '10px'\n          }}\n        >\n          Zavřít\n        </button>\n        <button \n          onClick={fetchStatistics}\n          style={{ \n            padding: '12px 24px', \n            backgroundColor: 'var(--color-green)', \n            color: 'white', \n            border: 'none', \n            borderRadius: '4px',\n            fontSize: '16px'\n          }}\n        >\n          🔄 Aktualizovat\n        </button>\n      </div>\n    </div>\n  );\n};\n\n// Floating Feedback Widget - System Component (Uneditable)\n// FloatingFeedbackWidget removed - floating icon now only shows in preview (Krok 0a)\n\nfunction App() {\n  return (\n    <AuthProvider>\n      <GlobalStyles />\n      <Router>\n        <div className=\"App\">\n          <Routes>\n            <Route path=\"/login\" element={<Login />} />\n            <Route path=\"/confirm-email\" element={<EmailConfirmation />} />\n            \n            {/* Protected Routes */}\n            <Route\n              path=\"/dashboard\"\n              element={\n                <ProtectedRoute>\n                  <Dashboard />\n                </ProtectedRoute>\n              }\n            />\n            <Route\n              path=\"/survey-creator\"\n              element={\n                <ProtectedRoute>\n                  <SurveyCreator />\n                </ProtectedRoute>\n              }\n            />\n            <Route\n              path=\"/survey-creator/edit/:surveyId\"\n              element={\n                <ProtectedRoute>\n                  <SurveyCreatorWithParams />\n                </ProtectedRoute>\n              }\n            />\n            <Route\n              path=\"/surveys\"\n              element={\n                <ProtectedRoute>\n                  <SurveyList />\n                </ProtectedRoute>\n              }\n            />\n            <Route\n              path=\"/global-surveys\"\n              element={\n                <ProtectedRoute>\n                  <AdminRoute>\n                    <GlobalSurveysCreator />\n                  </AdminRoute>\n                </ProtectedRoute>\n              }\n            />\n            <Route\n              path=\"/tokens\"\n              element={\n                <ProtectedRoute>\n                  <TokenList />\n                </ProtectedRoute>\n              }\n            />\n            <Route\n              path=\"/settings\"\n              element={\n                <ProtectedRoute>\n                  <Settings />\n                </ProtectedRoute>\n              }\n            />\n            \n            {/* Admin-only Routes */}\n            <Route\n              path=\"/users\"\n              element={\n                <ProtectedRoute>\n                  <AdminRoute>\n                    <UserList />\n                  </AdminRoute>\n                </ProtectedRoute>\n              }\n            />\n            <Route\n              path=\"/logs\"\n              element={\n                <ProtectedRoute>\n                  <AdminRoute>\n                    <AuditLogs />\n                  </AdminRoute>\n                </ProtectedRoute>\n              }\n            />\n            <Route\n              path=\"/statistics/:surveyId\"\n              element={\n                <ProtectedRoute>\n                  <Statistics />\n                </ProtectedRoute>\n              }\n            />\n            \n            <Route path=\"/\" element={<Navigate to=\"/dashboard\" replace />} />\n            <Route path=\"*\" element={<Navigate to=\"/dashboard\" replace />} />\n          </Routes>\n        </div>\n      </Router>\n    </AuthProvider>\n  );\n}\n\nexport default App; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}